"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[241],{3241:function(t,e,n){n.r(e),n.d(e,{default:function(){return l}});var o=n(3433),i=n(4942),c=n(1413),r=n(9439),a=n(2791),u=n(184),s=function(){var t=(0,a.useState)({title:"",description:"",categories:[{nameCategory:"",todoList:[{todo:""}],publicList:!1}],public:!1,photos:{}}),e=(0,r.Z)(t,2),n=e[0],s=e[1];(0,a.useEffect)((function(){var t=JSON.parse(localStorage.getItem("data"));t&&s(t)}),[]),(0,a.useEffect)((function(){localStorage.setItem("data",JSON.stringify(n))}),[n]);var l=function(t){var e=t.target,n=e.name,o=e.value;s((function(t){return(0,c.Z)((0,c.Z)({},t),{},(0,i.Z)({},n,o))}))};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h1",{children:"Form"}),(0,u.jsxs)("form",{onSubmit:function(t){t.preventDefault();var e=localStorage.getItem("token");fetch("http://localhost:3000/api/trips",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(n)}).then((function(t){return t.json()})).then((function(t){console.log("Response:",t)})).catch((function(t){console.error("Error:",t)}))},children:[(0,u.jsx)("label",{htmlFor:"title",children:"Title"}),(0,u.jsx)("input",{type:"text",id:"title",name:"title",value:n.title,onChange:l}),(0,u.jsx)("label",{htmlFor:"description",children:"Description"}),(0,u.jsx)("input",{type:"text",id:"description",name:"description",value:n.description,onChange:l}),(0,u.jsx)("h2",{children:"Categories"}),n.categories.map((function(t,e){return(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"category-".concat(e),children:"Category Name"}),(0,u.jsx)("input",{type:"text",id:"category-".concat(e),name:"nameCategory",value:t.nameCategory,onChange:function(t){return function(t,e){var n=t.target,r=n.name,a=n.value;s((function(t){var n=(0,o.Z)(t.categories);return n[e]=(0,c.Z)((0,c.Z)({},n[e]),{},(0,i.Z)({},r,a)),(0,c.Z)((0,c.Z)({},t),{},{categories:n})}))}(t,e)}}),(0,u.jsx)("label",{htmlFor:"category-public-".concat(e),children:"Public"}),(0,u.jsx)("input",{type:"checkbox",id:"category-public-".concat(e),name:"publicList",checked:t.publicList,onChange:function(t){return function(t,e){var n=t.target.checked;s((function(t){var i=(0,o.Z)(t.categories);return i[e]=(0,c.Z)((0,c.Z)({},i[e]),{},{publicList:n}),(0,c.Z)((0,c.Z)({},t),{},{categories:i})}))}(t,e)}}),(0,u.jsx)("h3",{children:"Todo List"}),t.todoList.map((function(t,i){return(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"todo-".concat(e,"-").concat(i),children:"Todo"}),(0,u.jsx)("input",{type:"text",id:"todo-".concat(e,"-").concat(i),name:"todo",value:t.todo,onChange:function(t){return function(t,e,n){var i=t.target.value;s((function(t){var r=(0,o.Z)(t.categories),a=(0,o.Z)(r[e].todoList);return a[n]={todo:i},r[e]=(0,c.Z)((0,c.Z)({},r[e]),{},{todoList:a}),(0,c.Z)((0,c.Z)({},t),{},{categories:r})}))}(t,e,i)}}),(0,u.jsx)("button",{type:"button",onClick:function(){return function(t,e){var i=(0,o.Z)(n.categories);i[t].todoList.splice(e,1),s((function(t){return(0,c.Z)((0,c.Z)({},t),{},{categories:i})}))}(e,i)},children:"Delete Todo"})]},i)})),(0,u.jsx)("button",{type:"button",onClick:function(){return function(t){var e=(0,o.Z)(n.categories);e[t].todoList.push({todo:""}),s((function(t){return(0,c.Z)((0,c.Z)({},t),{},{categories:e})}))}(e)},children:"Add Todo"}),(0,u.jsx)("button",{type:"button",onClick:function(){return function(t){s((function(e){var n=(0,o.Z)(e.categories);return n.splice(t,1),(0,c.Z)((0,c.Z)({},e),{},{categories:n})}))}(e)},children:"Delete Category"})]},e)})),(0,u.jsx)("button",{type:"button",onClick:function(){s((function(t){return(0,c.Z)((0,c.Z)({},t),{},{categories:[].concat((0,o.Z)(t.categories),[{nameCategory:"",todoList:[{todo:""}],publicList:!1}])})}))},children:"Add Category"}),(0,u.jsx)("label",{htmlFor:"public",children:"Public"}),(0,u.jsx)("input",{type:"checkbox",id:"public",name:"public",checked:n.public,onChange:function(t){var e=t.target.checked;s((function(t){return(0,c.Z)((0,c.Z)({},t),{},{public:e})}))}}),(0,u.jsx)("button",{type:"submit",children:"Submit"})]})]})},l=function(){return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h1",{children:"User"}),(0,u.jsx)(s,{})]})}}}]);
//# sourceMappingURL=241.38a25501.chunk.js.map