{"version":3,"file":"static/js/958.43fb572b.chunk.js","mappings":"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","sources":["../node_modules/@mui/icons-material/Send.js","../node_modules/@mui/icons-material/utils/createSvgIcon.js","../node_modules/@mui/system/esm/createBox.js","../node_modules/@mui/material/Box/boxClasses.js","../node_modules/@mui/material/Box/Box.js","../node_modules/@mui/material/Button/buttonClasses.js","../node_modules/@mui/material/ButtonGroup/ButtonGroupContext.js","../node_modules/@mui/material/ButtonGroup/ButtonGroupButtonContext.js","../node_modules/@mui/material/Button/Button.js","../node_modules/react-transition-group/esm/TransitionGroupContext.js","../node_modules/react-transition-group/esm/utils/ChildMapping.js","../node_modules/react-transition-group/esm/TransitionGroup.js","../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","../node_modules/@mui/material/ButtonBase/Ripple.js","../node_modules/@mui/material/ButtonBase/touchRippleClasses.js","../node_modules/@mui/material/ButtonBase/TouchRipple.js","../node_modules/@mui/material/ButtonBase/buttonBaseClasses.js","../node_modules/@mui/material/ButtonBase/ButtonBase.js","../node_modules/@mui/material/Tab/tabClasses.js","../node_modules/@mui/material/Tab/Tab.js","../node_modules/@mui/system/esm/RtlProvider/index.js","../node_modules/@mui/utils/scrollLeft/scrollLeft.js","../node_modules/@mui/material/internal/animate.js","../node_modules/@mui/material/Tabs/ScrollbarSize.js","../node_modules/@mui/material/internal/svg-icons/KeyboardArrowLeft.js","../node_modules/@mui/material/internal/svg-icons/KeyboardArrowRight.js","../node_modules/@mui/material/TabScrollButton/tabScrollButtonClasses.js","../node_modules/@mui/material/TabScrollButton/TabScrollButton.js","../node_modules/@mui/material/Tabs/tabsClasses.js","../node_modules/@mui/material/Tabs/Tabs.js","../node_modules/@mui/material/styles/useTheme.js","../node_modules/@mui/material/node_modules/react-is/cjs/react-is.production.min.js","../node_modules/@mui/material/node_modules/react-is/index.js","../node_modules/@mui/material/styles/createMixins.js","../node_modules/@mui/material/colors/common.js","../node_modules/@mui/material/colors/grey.js","../node_modules/@mui/material/colors/purple.js","../node_modules/@mui/material/colors/red.js","../node_modules/@mui/material/colors/orange.js","../node_modules/@mui/material/colors/blue.js","../node_modules/@mui/material/colors/lightBlue.js","../node_modules/@mui/material/colors/green.js","../node_modules/@mui/material/styles/createPalette.js","../node_modules/@mui/material/styles/createTypography.js","../node_modules/@mui/material/styles/shadows.js","../node_modules/@mui/material/styles/createTransitions.js","../node_modules/@mui/material/styles/zIndex.js","../node_modules/@mui/material/styles/createTheme.js","../node_modules/@mui/material/styles/defaultTheme.js","../node_modules/@mui/material/styles/identifier.js","../node_modules/@mui/material/styles/slotShouldForwardProp.js","../node_modules/@mui/material/styles/rootShouldForwardProp.js","../node_modules/@mui/material/styles/styled.js","../node_modules/@mui/system/esm/useThemeProps/useThemeProps.js","../node_modules/@mui/system/esm/useThemeProps/getThemeProps.js","../node_modules/@mui/material/styles/useThemeProps.js","../node_modules/@mui/material/utils/capitalize.js","../node_modules/@mui/material/SvgIcon/svgIconClasses.js","../node_modules/@mui/material/SvgIcon/SvgIcon.js","../node_modules/@mui/material/utils/createSvgIcon.js","../node_modules/@mui/material/utils/debounce.js","../node_modules/@mui/utils/debounce/debounce.js","../node_modules/@mui/material/utils/createChainedFunction.js","../node_modules/@mui/material/utils/deprecatedPropType.js","../node_modules/@mui/utils/deprecatedPropType/deprecatedPropType.js","../node_modules/@mui/material/utils/isMuiElement.js","../node_modules/@mui/utils/isMuiElement/isMuiElement.js","../node_modules/@mui/material/utils/requirePropFactory.js","../node_modules/@mui/utils/requirePropFactory/requirePropFactory.js","../node_modules/@mui/material/utils/setRef.js","../node_modules/@mui/utils/useId/useId.js","../node_modules/@mui/material/utils/useId.js","../node_modules/@mui/material/utils/unsupportedProp.js","../node_modules/@mui/utils/unsupportedProp/unsupportedProp.js","../node_modules/@mui/material/utils/useControlled.js","../node_modules/@mui/utils/useControlled/useControlled.js","../node_modules/@mui/material/utils/index.js","../node_modules/@mui/material/utils/ownerDocument.js","../node_modules/@mui/material/utils/ownerWindow.js","../node_modules/@mui/material/utils/useEnhancedEffect.js","../node_modules/@mui/material/utils/useEventCallback.js","../node_modules/@mui/material/utils/useForkRef.js","../node_modules/@mui/utils/useIsFocusVisible/useIsFocusVisible.js","../node_modules/@mui/material/utils/useIsFocusVisible.js","../node_modules/@mui/system/colorManipulator.js","../node_modules/@mui/system/createStyled.js","../node_modules/@mui/system/esm/styleFunctionSx/extendSxProp.js","../node_modules/@mui/system/esm/useThemeWithoutDefault.js","../node_modules/@mui/system/esm/useTheme.js","../node_modules/@mui/utils/clamp/clamp.js","../node_modules/@mui/utils/generateUtilityClasses/generateUtilityClasses.js","../node_modules/@mui/utils/getDisplayName/getDisplayName.js","../node_modules/@mui/utils/node_modules/react-is/cjs/react-is.production.min.js","../node_modules/@mui/utils/node_modules/react-is/index.js","../node_modules/@mui/utils/resolveProps/resolveProps.js","../node_modules/@mui/utils/useLazyRef/useLazyRef.js","../node_modules/@mui/utils/useOnMount/useOnMount.js","../node_modules/@mui/utils/useTimeout/useTimeout.js","../node_modules/rc-checkbox/es/index.js","../node_modules/antd/es/checkbox/GroupContext.js","../node_modules/antd/es/checkbox/style/index.js","../node_modules/antd/es/checkbox/Checkbox.js","../node_modules/antd/es/checkbox/Group.js","../node_modules/antd/es/checkbox/index.js","../node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/extends.js","../node_modules/@babel/runtime/helpers/interopRequireDefault.js","../node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/nonIterableRest.js","../node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","../node_modules/@babel/runtime/helpers/slicedToArray.js","../node_modules/@babel/runtime/helpers/toConsumableArray.js","../node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../node_modules/@uploadcare/blocks/abstract/registerBlocks.js","../node_modules/@symbiotejs/symbiote/build/symbiote.js","../node_modules/@babel/runtime/helpers/esm/superPropBase.js","../node_modules/@babel/runtime/helpers/esm/get.js","../node_modules/@uploadcare/blocks/blocks/UploadCtxProvider/EventEmitter.js","../node_modules/@uploadcare/blocks/blocks/utils/debounce.js","../node_modules/@uploadcare/blocks/utils/WindowHeightTracker.js","../node_modules/@uploadcare/blocks/utils/getLocaleDirection.js","../node_modules/@uploadcare/blocks/utils/getPluralForm.js","../node_modules/@uploadcare/blocks/utils/template-utils.js","../node_modules/@uploadcare/blocks/utils/waitForAttribute.js","../node_modules/@uploadcare/upload-client/dist/esm/index.browser.mjs","../node_modules/@uploadcare/blocks/abstract/CTX.js","../node_modules/@uploadcare/blocks/locales/file-uploader/en.js","../node_modules/@uploadcare/blocks/abstract/localeRegistry.js","../node_modules/@uploadcare/blocks/abstract/LocaleManager.js","../node_modules/@uploadcare/blocks/abstract/l10nProcessor.js","../node_modules/@uploadcare/blocks/abstract/sharedConfigKey.js","../node_modules/@uploadcare/blocks/utils/cdn-utils.js","../node_modules/@uploadcare/blocks/utils/stringToArray.js","../node_modules/@uploadcare/blocks/blocks/CloudImageEditor/src/lib/transformationUtils.js","../node_modules/@uploadcare/blocks/blocks/CloudImageEditor/src/toolbar-constants.js","../node_modules/@uploadcare/blocks/blocks/utils/comma-separated.js","../node_modules/@uploadcare/blocks/blocks/Config/initialConfig.js","../node_modules/@uploadcare/blocks/abstract/Block.js","../node_modules/@uploadcare/blocks/abstract/ActivityBlock.js","../node_modules/@uploadcare/blocks/blocks/CloudImageEditor/src/cropper-constants.js","../node_modules/@uploadcare/blocks/blocks/CloudImageEditor/src/crop-utils.js","../node_modules/@uploadcare/blocks/blocks/CloudImageEditor/src/lib/parseCropPreset.js","../node_modules/@uploadcare/blocks/blocks/utils/UploadSource.js","../node_modules/@uploadcare/blocks/env.js","../node_modules/@uploadcare/blocks/blocks/utils/userAgent.js","../node_modules/@uploadcare/blocks/utils/buildOutputError.js","../node_modules/@uploadcare/blocks/utils/fileTypes.js","../node_modules/@uploadcare/blocks/utils/prettyBytes.js","../node_modules/@uploadcare/blocks/utils/warnOnce.js","../node_modules/@uploadcare/blocks/abstract/TypedData.js","../node_modules/@uploadcare/blocks/abstract/TypedCollection.js","../node_modules/@uploadcare/blocks/utils/memoize.js","../node_modules/@uploadcare/blocks/abstract/buildOutputCollectionState.js","../node_modules/@uploadcare/blocks/abstract/uploadEntrySchema.js","../node_modules/@uploadcare/blocks/utils/parseCdnUrl.js","../node_modules/@uploadcare/blocks/abstract/UploaderBlock.js","../node_modules/@uploadcare/blocks/utils/toKebabCase.js","../node_modules/@uploadcare/blocks/blocks/Config/normalizeConfigValue.js","../node_modules/@uploadcare/blocks/blocks/Config/Config.js","../node_modules/@uploadcare/blocks/blocks/Icon/Icon.js","../node_modules/@uploadcare/blocks/utils/uniqueArray.js","../node_modules/@uploadcare/blocks/blocks/Img/props-map.js","../node_modules/@uploadcare/blocks/blocks/Img/configurations.js","../node_modules/@uploadcare/blocks/blocks/Img/ImgConfig.js","../node_modules/@uploadcare/blocks/blocks/Img/ImgBase.js","../node_modules/@uploadcare/blocks/blocks/Img/utils/parseObjectToString.js","../node_modules/@uploadcare/blocks/blocks/Img/Img.js","../node_modules/@uploadcare/blocks/blocks/SimpleBtn/SimpleBtn.js","../node_modules/@uploadcare/blocks/blocks/StartFrom/StartFrom.js","../node_modules/@uploadcare/blocks/blocks/DropArea/getDropItems.js","../node_modules/@uploadcare/blocks/blocks/DropArea/addDropzone.js","../node_modules/@uploadcare/blocks/blocks/DropArea/DropArea.js","../node_modules/@uploadcare/blocks/blocks/SourceBtn/SourceBtn.js","../node_modules/@uploadcare/blocks/blocks/SourceList/SourceList.js","../node_modules/@uploadcare/image-shrink/dist/esm/index.browser.mjs","../node_modules/@uploadcare/blocks/blocks/svg-backgrounds/svg-backgrounds.js","../node_modules/@uploadcare/blocks/blocks/utils/resizeImage.js","../node_modules/@uploadcare/blocks/utils/parseShrink.js","../node_modules/@uploadcare/blocks/blocks/FileItem/FileItem.js","../node_modules/@uploadcare/blocks/blocks/Modal/Modal.js","../node_modules/@uploadcare/blocks/blocks/utils/throttle.js","../node_modules/@uploadcare/blocks/blocks/UploadList/UploadList.js","../node_modules/@uploadcare/blocks/blocks/UrlSource/UrlSource.js","../node_modules/@uploadcare/blocks/blocks/utils/abilities.js","../node_modules/@uploadcare/blocks/blocks/CameraSource/CameraSource.js","../node_modules/@uploadcare/blocks/blocks/UploadCtxProvider/UploadCtxProvider.js","../node_modules/@uploadcare/blocks/blocks/ConfirmationDialog/ConfirmationDialog.js","../node_modules/@uploadcare/blocks/blocks/ProgressBarCommon/ProgressBarCommon.js","../node_modules/@uploadcare/blocks/blocks/ProgressBar/ProgressBar.js","../node_modules/@uploadcare/blocks/utils/transparentPixelSrc.js","../node_modules/@uploadcare/blocks/blocks/FilePreview/FilePreview.js","../node_modules/@uploadcare/blocks/blocks/CloudImageEditor/src/lib/classNames.js","../node_modules/@uploadcare/blocks/blocks/CloudImageEditor/src/lib/parseTabs.js","../node_modules/@uploadcare/blocks/blocks/CloudImageEditor/src/svg-sprite.js","../node_modules/@uploadcare/blocks/blocks/CloudImageEditor/src/template.js","../node_modules/@uploadcare/blocks/blocks/CloudImageEditor/src/CloudImageEditorBlock.js","../node_modules/@uploadcare/blocks/blocks/CloudImageEditor/src/state.js","../node_modules/@uploadcare/blocks/blocks/CloudImageEditor/src/CropFrame.js","../node_modules/@uploadcare/blocks/blocks/CloudImageEditor/src/EditorButtonControl.js","../node_modules/@uploadcare/blocks/blocks/CloudImageEditor/src/EditorCropButtonControl.js","../node_modules/@uploadcare/blocks/blocks/CloudImageEditor/src/EditorSlider.js","../node_modules/@uploadcare/blocks/blocks/CloudImageEditor/src/lib/preloadImage.js","../node_modules/@uploadcare/blocks/blocks/CloudImageEditor/src/EditorFilterControl.js","../node_modules/@uploadcare/blocks/blocks/CloudImageEditor/src/EditorOperationControl.js","../node_modules/@uploadcare/blocks/blocks/CloudImageEditor/src/util.js","../node_modules/@uploadcare/blocks/blocks/CloudImageEditor/src/EditorImageCropper.js","../node_modules/@uploadcare/blocks/blocks/CloudImageEditor/src/lib/pick.js","../node_modules/@uploadcare/blocks/blocks/CloudImageEditor/src/lib/linspace.js","../node_modules/@uploadcare/blocks/blocks/CloudImageEditor/src/EditorImageFader.js","../node_modules/@uploadcare/blocks/blocks/CloudImageEditor/src/EditorScroller.js","../node_modules/@uploadcare/blocks/blocks/CloudImageEditor/src/EditorToolbar.js","../node_modules/@uploadcare/blocks/blocks/CloudImageEditor/src/elements/button/LrBtnUi.js","../node_modules/@uploadcare/blocks/blocks/CloudImageEditor/src/elements/line-loader/LineLoaderUi.js","../node_modules/@uploadcare/blocks/blocks/CloudImageEditor/src/elements/presence-toggle/PresenceToggle.js","../node_modules/@uploadcare/blocks/blocks/CloudImageEditor/src/elements/slider/SliderUi.js","../node_modules/@uploadcare/blocks/blocks/CloudImageEditorActivity/CloudImageEditorActivity.js","../node_modules/@uploadcare/blocks/utils/wildcardRegexp.js","../node_modules/@uploadcare/blocks/blocks/ExternalSource/buildStyles.js","../node_modules/@uploadcare/blocks/blocks/ExternalSource/messages.js","../node_modules/@uploadcare/blocks/blocks/ExternalSource/ExternalSource.js","../node_modules/@uploadcare/blocks/blocks/ExternalSource/query-string.js","../node_modules/@uploadcare/blocks/blocks/Tabs/Tabs.js","../node_modules/@uploadcare/blocks/blocks/FormInput/FormInput.js","../node_modules/@uploadcare/blocks/blocks/ActivityHeader/ActivityHeader.js","../node_modules/@uploadcare/blocks/blocks/Select/Select.js","../node_modules/@uploadcare/blocks/blocks/Video/Video.js","../node_modules/@uploadcare/blocks/blocks/Copyright/Copyright.js","../node_modules/@uploadcare/blocks/blocks/themes/lr-basic/svg-sprite.js","../node_modules/@uploadcare/blocks/abstract/SolutionBlock.js","../node_modules/@uploadcare/blocks/solutions/file-uploader/regular/FileUploaderRegular.js","../node_modules/@uploadcare/blocks/solutions/file-uploader/minimal/FileUploaderMinimal.js","../node_modules/@uploadcare/blocks/solutions/file-uploader/inline/FileUploaderInline.js","../node_modules/@uploadcare/blocks/solutions/cloud-image-editor/CloudImageEditor.js","../node_modules/@uploadcare/blocks/abstract/connectBlocksFrom.js","../node_modules/@babel/runtime/helpers/esm/OverloadYield.js","../node_modules/@babel/runtime/helpers/esm/AsyncGenerator.js","../node_modules/@uploadcare/rest-client/dist/esm/index.browser.mjs"],"sourcesContent":["\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z\"\n}), 'Send');","\"use strict\";\n'use client';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function () {\n    return _utils.createSvgIcon;\n  }\n});\nvar _utils = require(\"@mui/material/utils\");","'use client';\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"className\", \"component\"];\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport styled from '@mui/styled-engine';\nimport styleFunctionSx, { extendSxProp } from './styleFunctionSx';\nimport useTheme from './useTheme';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default function createBox(options = {}) {\n  const {\n    themeId,\n    defaultTheme,\n    defaultClassName = 'MuiBox-root',\n    generateClassName\n  } = options;\n  const BoxRoot = styled('div', {\n    shouldForwardProp: prop => prop !== 'theme' && prop !== 'sx' && prop !== 'as'\n  })(styleFunctionSx);\n  const Box = /*#__PURE__*/React.forwardRef(function Box(inProps, ref) {\n    const theme = useTheme(defaultTheme);\n    const _extendSxProp = extendSxProp(inProps),\n      {\n        className,\n        component = 'div'\n      } = _extendSxProp,\n      other = _objectWithoutPropertiesLoose(_extendSxProp, _excluded);\n    return /*#__PURE__*/_jsx(BoxRoot, _extends({\n      as: component,\n      ref: ref,\n      className: clsx(className, generateClassName ? generateClassName(defaultClassName) : defaultClassName),\n      theme: themeId ? theme[themeId] || theme : theme\n    }, other));\n  });\n  return Box;\n}","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nconst boxClasses = generateUtilityClasses('MuiBox', ['root']);\nexport default boxClasses;","'use client';\n\nimport { createBox } from '@mui/system';\nimport PropTypes from 'prop-types';\nimport { unstable_ClassNameGenerator as ClassNameGenerator } from '../className';\nimport { createTheme } from '../styles';\nimport THEME_ID from '../styles/identifier';\nimport boxClasses from './boxClasses';\nconst defaultTheme = createTheme();\nconst Box = createBox({\n  themeId: THEME_ID,\n  defaultTheme,\n  defaultClassName: boxClasses.root,\n  generateClassName: ClassNameGenerator.generate\n});\nprocess.env.NODE_ENV !== \"production\" ? Box.propTypes /* remove-proptypes */ = {\n  //  Warning \n  //  These PropTypes are generated from the TypeScript type definitions. \n  //     To update them, edit the d.ts file and run `pnpm proptypes`.     \n  // \n  /**\n   * @ignore\n   */\n  children: PropTypes.node,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default Box;","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getButtonUtilityClass(slot) {\n  return generateUtilityClass('MuiButton', slot);\n}\nconst buttonClasses = generateUtilityClasses('MuiButton', ['root', 'text', 'textInherit', 'textPrimary', 'textSecondary', 'textSuccess', 'textError', 'textInfo', 'textWarning', 'outlined', 'outlinedInherit', 'outlinedPrimary', 'outlinedSecondary', 'outlinedSuccess', 'outlinedError', 'outlinedInfo', 'outlinedWarning', 'contained', 'containedInherit', 'containedPrimary', 'containedSecondary', 'containedSuccess', 'containedError', 'containedInfo', 'containedWarning', 'disableElevation', 'focusVisible', 'disabled', 'colorInherit', 'colorPrimary', 'colorSecondary', 'colorSuccess', 'colorError', 'colorInfo', 'colorWarning', 'textSizeSmall', 'textSizeMedium', 'textSizeLarge', 'outlinedSizeSmall', 'outlinedSizeMedium', 'outlinedSizeLarge', 'containedSizeSmall', 'containedSizeMedium', 'containedSizeLarge', 'sizeMedium', 'sizeSmall', 'sizeLarge', 'fullWidth', 'startIcon', 'endIcon', 'icon', 'iconSizeSmall', 'iconSizeMedium', 'iconSizeLarge']);\nexport default buttonClasses;","import * as React from 'react';\n/**\n * @ignore - internal component.\n */\nconst ButtonGroupContext = /*#__PURE__*/React.createContext({});\nif (process.env.NODE_ENV !== 'production') {\n  ButtonGroupContext.displayName = 'ButtonGroupContext';\n}\nexport default ButtonGroupContext;","import * as React from 'react';\n/**\n * @ignore - internal component.\n */\nconst ButtonGroupButtonContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== 'production') {\n  ButtonGroupButtonContext.displayName = 'ButtonGroupButtonContext';\n}\nexport default ButtonGroupButtonContext;","'use client';\n\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"children\", \"color\", \"component\", \"className\", \"disabled\", \"disableElevation\", \"disableFocusRipple\", \"endIcon\", \"focusVisibleClassName\", \"fullWidth\", \"size\", \"startIcon\", \"type\", \"variant\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport resolveProps from '@mui/utils/resolveProps';\nimport composeClasses from '@mui/utils/composeClasses';\nimport { alpha } from '@mui/system/colorManipulator';\nimport styled, { rootShouldForwardProp } from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport ButtonBase from '../ButtonBase';\nimport capitalize from '../utils/capitalize';\nimport buttonClasses, { getButtonUtilityClass } from './buttonClasses';\nimport ButtonGroupContext from '../ButtonGroup/ButtonGroupContext';\nimport ButtonGroupButtonContext from '../ButtonGroup/ButtonGroupButtonContext';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    color,\n    disableElevation,\n    fullWidth,\n    size,\n    variant,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root', variant, `${variant}${capitalize(color)}`, `size${capitalize(size)}`, `${variant}Size${capitalize(size)}`, `color${capitalize(color)}`, disableElevation && 'disableElevation', fullWidth && 'fullWidth'],\n    label: ['label'],\n    startIcon: ['icon', 'startIcon', `iconSize${capitalize(size)}`],\n    endIcon: ['icon', 'endIcon', `iconSize${capitalize(size)}`]\n  };\n  const composedClasses = composeClasses(slots, getButtonUtilityClass, classes);\n  return _extends({}, classes, composedClasses);\n};\nconst commonIconStyles = ownerState => _extends({}, ownerState.size === 'small' && {\n  '& > *:nth-of-type(1)': {\n    fontSize: 18\n  }\n}, ownerState.size === 'medium' && {\n  '& > *:nth-of-type(1)': {\n    fontSize: 20\n  }\n}, ownerState.size === 'large' && {\n  '& > *:nth-of-type(1)': {\n    fontSize: 22\n  }\n});\nconst ButtonRoot = styled(ButtonBase, {\n  shouldForwardProp: prop => rootShouldForwardProp(prop) || prop === 'classes',\n  name: 'MuiButton',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.variant], styles[`${ownerState.variant}${capitalize(ownerState.color)}`], styles[`size${capitalize(ownerState.size)}`], styles[`${ownerState.variant}Size${capitalize(ownerState.size)}`], ownerState.color === 'inherit' && styles.colorInherit, ownerState.disableElevation && styles.disableElevation, ownerState.fullWidth && styles.fullWidth];\n  }\n})(({\n  theme,\n  ownerState\n}) => {\n  var _theme$palette$getCon, _theme$palette;\n  const inheritContainedBackgroundColor = theme.palette.mode === 'light' ? theme.palette.grey[300] : theme.palette.grey[800];\n  const inheritContainedHoverBackgroundColor = theme.palette.mode === 'light' ? theme.palette.grey.A100 : theme.palette.grey[700];\n  return _extends({}, theme.typography.button, {\n    minWidth: 64,\n    padding: '6px 16px',\n    borderRadius: (theme.vars || theme).shape.borderRadius,\n    transition: theme.transitions.create(['background-color', 'box-shadow', 'border-color', 'color'], {\n      duration: theme.transitions.duration.short\n    }),\n    '&:hover': _extends({\n      textDecoration: 'none',\n      backgroundColor: theme.vars ? `rgba(${theme.vars.palette.text.primaryChannel} / ${theme.vars.palette.action.hoverOpacity})` : alpha(theme.palette.text.primary, theme.palette.action.hoverOpacity),\n      // Reset on touch devices, it doesn't add specificity\n      '@media (hover: none)': {\n        backgroundColor: 'transparent'\n      }\n    }, ownerState.variant === 'text' && ownerState.color !== 'inherit' && {\n      backgroundColor: theme.vars ? `rgba(${theme.vars.palette[ownerState.color].mainChannel} / ${theme.vars.palette.action.hoverOpacity})` : alpha(theme.palette[ownerState.color].main, theme.palette.action.hoverOpacity),\n      // Reset on touch devices, it doesn't add specificity\n      '@media (hover: none)': {\n        backgroundColor: 'transparent'\n      }\n    }, ownerState.variant === 'outlined' && ownerState.color !== 'inherit' && {\n      border: `1px solid ${(theme.vars || theme).palette[ownerState.color].main}`,\n      backgroundColor: theme.vars ? `rgba(${theme.vars.palette[ownerState.color].mainChannel} / ${theme.vars.palette.action.hoverOpacity})` : alpha(theme.palette[ownerState.color].main, theme.palette.action.hoverOpacity),\n      // Reset on touch devices, it doesn't add specificity\n      '@media (hover: none)': {\n        backgroundColor: 'transparent'\n      }\n    }, ownerState.variant === 'contained' && {\n      backgroundColor: theme.vars ? theme.vars.palette.Button.inheritContainedHoverBg : inheritContainedHoverBackgroundColor,\n      boxShadow: (theme.vars || theme).shadows[4],\n      // Reset on touch devices, it doesn't add specificity\n      '@media (hover: none)': {\n        boxShadow: (theme.vars || theme).shadows[2],\n        backgroundColor: (theme.vars || theme).palette.grey[300]\n      }\n    }, ownerState.variant === 'contained' && ownerState.color !== 'inherit' && {\n      backgroundColor: (theme.vars || theme).palette[ownerState.color].dark,\n      // Reset on touch devices, it doesn't add specificity\n      '@media (hover: none)': {\n        backgroundColor: (theme.vars || theme).palette[ownerState.color].main\n      }\n    }),\n    '&:active': _extends({}, ownerState.variant === 'contained' && {\n      boxShadow: (theme.vars || theme).shadows[8]\n    }),\n    [`&.${buttonClasses.focusVisible}`]: _extends({}, ownerState.variant === 'contained' && {\n      boxShadow: (theme.vars || theme).shadows[6]\n    }),\n    [`&.${buttonClasses.disabled}`]: _extends({\n      color: (theme.vars || theme).palette.action.disabled\n    }, ownerState.variant === 'outlined' && {\n      border: `1px solid ${(theme.vars || theme).palette.action.disabledBackground}`\n    }, ownerState.variant === 'contained' && {\n      color: (theme.vars || theme).palette.action.disabled,\n      boxShadow: (theme.vars || theme).shadows[0],\n      backgroundColor: (theme.vars || theme).palette.action.disabledBackground\n    })\n  }, ownerState.variant === 'text' && {\n    padding: '6px 8px'\n  }, ownerState.variant === 'text' && ownerState.color !== 'inherit' && {\n    color: (theme.vars || theme).palette[ownerState.color].main\n  }, ownerState.variant === 'outlined' && {\n    padding: '5px 15px',\n    border: '1px solid currentColor'\n  }, ownerState.variant === 'outlined' && ownerState.color !== 'inherit' && {\n    color: (theme.vars || theme).palette[ownerState.color].main,\n    border: theme.vars ? `1px solid rgba(${theme.vars.palette[ownerState.color].mainChannel} / 0.5)` : `1px solid ${alpha(theme.palette[ownerState.color].main, 0.5)}`\n  }, ownerState.variant === 'contained' && {\n    color: theme.vars ?\n    // this is safe because grey does not change between default light/dark mode\n    theme.vars.palette.text.primary : (_theme$palette$getCon = (_theme$palette = theme.palette).getContrastText) == null ? void 0 : _theme$palette$getCon.call(_theme$palette, theme.palette.grey[300]),\n    backgroundColor: theme.vars ? theme.vars.palette.Button.inheritContainedBg : inheritContainedBackgroundColor,\n    boxShadow: (theme.vars || theme).shadows[2]\n  }, ownerState.variant === 'contained' && ownerState.color !== 'inherit' && {\n    color: (theme.vars || theme).palette[ownerState.color].contrastText,\n    backgroundColor: (theme.vars || theme).palette[ownerState.color].main\n  }, ownerState.color === 'inherit' && {\n    color: 'inherit',\n    borderColor: 'currentColor'\n  }, ownerState.size === 'small' && ownerState.variant === 'text' && {\n    padding: '4px 5px',\n    fontSize: theme.typography.pxToRem(13)\n  }, ownerState.size === 'large' && ownerState.variant === 'text' && {\n    padding: '8px 11px',\n    fontSize: theme.typography.pxToRem(15)\n  }, ownerState.size === 'small' && ownerState.variant === 'outlined' && {\n    padding: '3px 9px',\n    fontSize: theme.typography.pxToRem(13)\n  }, ownerState.size === 'large' && ownerState.variant === 'outlined' && {\n    padding: '7px 21px',\n    fontSize: theme.typography.pxToRem(15)\n  }, ownerState.size === 'small' && ownerState.variant === 'contained' && {\n    padding: '4px 10px',\n    fontSize: theme.typography.pxToRem(13)\n  }, ownerState.size === 'large' && ownerState.variant === 'contained' && {\n    padding: '8px 22px',\n    fontSize: theme.typography.pxToRem(15)\n  }, ownerState.fullWidth && {\n    width: '100%'\n  });\n}, ({\n  ownerState\n}) => ownerState.disableElevation && {\n  boxShadow: 'none',\n  '&:hover': {\n    boxShadow: 'none'\n  },\n  [`&.${buttonClasses.focusVisible}`]: {\n    boxShadow: 'none'\n  },\n  '&:active': {\n    boxShadow: 'none'\n  },\n  [`&.${buttonClasses.disabled}`]: {\n    boxShadow: 'none'\n  }\n});\nconst ButtonStartIcon = styled('span', {\n  name: 'MuiButton',\n  slot: 'StartIcon',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.startIcon, styles[`iconSize${capitalize(ownerState.size)}`]];\n  }\n})(({\n  ownerState\n}) => _extends({\n  display: 'inherit',\n  marginRight: 8,\n  marginLeft: -4\n}, ownerState.size === 'small' && {\n  marginLeft: -2\n}, commonIconStyles(ownerState)));\nconst ButtonEndIcon = styled('span', {\n  name: 'MuiButton',\n  slot: 'EndIcon',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.endIcon, styles[`iconSize${capitalize(ownerState.size)}`]];\n  }\n})(({\n  ownerState\n}) => _extends({\n  display: 'inherit',\n  marginRight: -4,\n  marginLeft: 8\n}, ownerState.size === 'small' && {\n  marginRight: -2\n}, commonIconStyles(ownerState)));\nconst Button = /*#__PURE__*/React.forwardRef(function Button(inProps, ref) {\n  // props priority: `inProps` > `contextProps` > `themeDefaultProps`\n  const contextProps = React.useContext(ButtonGroupContext);\n  const buttonGroupButtonContextPositionClassName = React.useContext(ButtonGroupButtonContext);\n  const resolvedProps = resolveProps(contextProps, inProps);\n  const props = useThemeProps({\n    props: resolvedProps,\n    name: 'MuiButton'\n  });\n  const {\n      children,\n      color = 'primary',\n      component = 'button',\n      className,\n      disabled = false,\n      disableElevation = false,\n      disableFocusRipple = false,\n      endIcon: endIconProp,\n      focusVisibleClassName,\n      fullWidth = false,\n      size = 'medium',\n      startIcon: startIconProp,\n      type,\n      variant = 'text'\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    color,\n    component,\n    disabled,\n    disableElevation,\n    disableFocusRipple,\n    fullWidth,\n    size,\n    type,\n    variant\n  });\n  const classes = useUtilityClasses(ownerState);\n  const startIcon = startIconProp && /*#__PURE__*/_jsx(ButtonStartIcon, {\n    className: classes.startIcon,\n    ownerState: ownerState,\n    children: startIconProp\n  });\n  const endIcon = endIconProp && /*#__PURE__*/_jsx(ButtonEndIcon, {\n    className: classes.endIcon,\n    ownerState: ownerState,\n    children: endIconProp\n  });\n  const positionClassName = buttonGroupButtonContextPositionClassName || '';\n  return /*#__PURE__*/_jsxs(ButtonRoot, _extends({\n    ownerState: ownerState,\n    className: clsx(contextProps.className, classes.root, className, positionClassName),\n    component: component,\n    disabled: disabled,\n    focusRipple: !disableFocusRipple,\n    focusVisibleClassName: clsx(classes.focusVisible, focusVisibleClassName),\n    ref: ref,\n    type: type\n  }, other, {\n    classes: classes,\n    children: [startIcon, children, endIcon]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Button.propTypes /* remove-proptypes */ = {\n  //  Warning \n  //  These PropTypes are generated from the TypeScript type definitions. \n  //     To update them, edit the d.ts file and run `pnpm proptypes`.     \n  // \n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The color of the component.\n   * It supports both default and custom theme colors, which can be added as shown in the\n   * [palette customization guide](https://mui.com/material-ui/customization/palette/#custom-colors).\n   * @default 'primary'\n   */\n  color: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['inherit', 'primary', 'secondary', 'success', 'error', 'info', 'warning']), PropTypes.string]),\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n  /**\n   * If `true`, no elevation is used.\n   * @default false\n   */\n  disableElevation: PropTypes.bool,\n  /**\n   * If `true`, the  keyboard focus ripple is disabled.\n   * @default false\n   */\n  disableFocusRipple: PropTypes.bool,\n  /**\n   * If `true`, the ripple effect is disabled.\n   *\n   *  Without a ripple there is no styling for :focus-visible by default. Be sure\n   * to highlight the element by applying separate styles with the `.Mui-focusVisible` class.\n   * @default false\n   */\n  disableRipple: PropTypes.bool,\n  /**\n   * Element placed after the children.\n   */\n  endIcon: PropTypes.node,\n  /**\n   * @ignore\n   */\n  focusVisibleClassName: PropTypes.string,\n  /**\n   * If `true`, the button will take up the full width of its container.\n   * @default false\n   */\n  fullWidth: PropTypes.bool,\n  /**\n   * The URL to link to when the button is clicked.\n   * If defined, an `a` element will be used as the root node.\n   */\n  href: PropTypes.string,\n  /**\n   * The size of the component.\n   * `small` is equivalent to the dense button styling.\n   * @default 'medium'\n   */\n  size: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['small', 'medium', 'large']), PropTypes.string]),\n  /**\n   * Element placed before the children.\n   */\n  startIcon: PropTypes.node,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * @ignore\n   */\n  type: PropTypes.oneOfType([PropTypes.oneOf(['button', 'reset', 'submit']), PropTypes.string]),\n  /**\n   * The variant to use.\n   * @default 'text'\n   */\n  variant: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['contained', 'outlined', 'text']), PropTypes.string])\n} : void 0;\nexport default Button;","import React from 'react';\nexport default React.createContext(null);","import { Children, cloneElement, isValidElement } from 'react';\n/**\n * Given `this.props.children`, return an object mapping key to child.\n *\n * @param {*} children `this.props.children`\n * @return {object} Mapping of key to child\n */\n\nexport function getChildMapping(children, mapFn) {\n  var mapper = function mapper(child) {\n    return mapFn && isValidElement(child) ? mapFn(child) : child;\n  };\n\n  var result = Object.create(null);\n  if (children) Children.map(children, function (c) {\n    return c;\n  }).forEach(function (child) {\n    // run the map function here instead so that the key is the computed one\n    result[child.key] = mapper(child);\n  });\n  return result;\n}\n/**\n * When you're adding or removing children some may be added or removed in the\n * same render pass. We want to show *both* since we want to simultaneously\n * animate elements in and out. This function takes a previous set of keys\n * and a new set of keys and merges them with its best guess of the correct\n * ordering. In the future we may expose some of the utilities in\n * ReactMultiChild to make this easy, but for now React itself does not\n * directly have this concept of the union of prevChildren and nextChildren\n * so we implement it here.\n *\n * @param {object} prev prev children as returned from\n * `ReactTransitionChildMapping.getChildMapping()`.\n * @param {object} next next children as returned from\n * `ReactTransitionChildMapping.getChildMapping()`.\n * @return {object} a key set that contains all keys in `prev` and all keys\n * in `next` in a reasonable order.\n */\n\nexport function mergeChildMappings(prev, next) {\n  prev = prev || {};\n  next = next || {};\n\n  function getValueForKey(key) {\n    return key in next ? next[key] : prev[key];\n  } // For each key of `next`, the list of keys to insert before that key in\n  // the combined list\n\n\n  var nextKeysPending = Object.create(null);\n  var pendingKeys = [];\n\n  for (var prevKey in prev) {\n    if (prevKey in next) {\n      if (pendingKeys.length) {\n        nextKeysPending[prevKey] = pendingKeys;\n        pendingKeys = [];\n      }\n    } else {\n      pendingKeys.push(prevKey);\n    }\n  }\n\n  var i;\n  var childMapping = {};\n\n  for (var nextKey in next) {\n    if (nextKeysPending[nextKey]) {\n      for (i = 0; i < nextKeysPending[nextKey].length; i++) {\n        var pendingNextKey = nextKeysPending[nextKey][i];\n        childMapping[nextKeysPending[nextKey][i]] = getValueForKey(pendingNextKey);\n      }\n    }\n\n    childMapping[nextKey] = getValueForKey(nextKey);\n  } // Finally, add the keys which didn't appear before any key in `next`\n\n\n  for (i = 0; i < pendingKeys.length; i++) {\n    childMapping[pendingKeys[i]] = getValueForKey(pendingKeys[i]);\n  }\n\n  return childMapping;\n}\n\nfunction getProp(child, prop, props) {\n  return props[prop] != null ? props[prop] : child.props[prop];\n}\n\nexport function getInitialChildMapping(props, onExited) {\n  return getChildMapping(props.children, function (child) {\n    return cloneElement(child, {\n      onExited: onExited.bind(null, child),\n      in: true,\n      appear: getProp(child, 'appear', props),\n      enter: getProp(child, 'enter', props),\n      exit: getProp(child, 'exit', props)\n    });\n  });\n}\nexport function getNextChildMapping(nextProps, prevChildMapping, onExited) {\n  var nextChildMapping = getChildMapping(nextProps.children);\n  var children = mergeChildMappings(prevChildMapping, nextChildMapping);\n  Object.keys(children).forEach(function (key) {\n    var child = children[key];\n    if (!isValidElement(child)) return;\n    var hasPrev = (key in prevChildMapping);\n    var hasNext = (key in nextChildMapping);\n    var prevChild = prevChildMapping[key];\n    var isLeaving = isValidElement(prevChild) && !prevChild.props.in; // item is new (entering)\n\n    if (hasNext && (!hasPrev || isLeaving)) {\n      // console.log('entering', key)\n      children[key] = cloneElement(child, {\n        onExited: onExited.bind(null, child),\n        in: true,\n        exit: getProp(child, 'exit', nextProps),\n        enter: getProp(child, 'enter', nextProps)\n      });\n    } else if (!hasNext && hasPrev && !isLeaving) {\n      // item is old (exiting)\n      // console.log('leaving', key)\n      children[key] = cloneElement(child, {\n        in: false\n      });\n    } else if (hasNext && hasPrev && isValidElement(prevChild)) {\n      // item hasn't changed transition states\n      // copy over the last transition props;\n      // console.log('unchanged', key)\n      children[key] = cloneElement(child, {\n        onExited: onExited.bind(null, child),\n        in: prevChild.props.in,\n        exit: getProp(child, 'exit', nextProps),\n        enter: getProp(child, 'enter', nextProps)\n      });\n    }\n  });\n  return children;\n}","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport TransitionGroupContext from './TransitionGroupContext';\nimport { getChildMapping, getInitialChildMapping, getNextChildMapping } from './utils/ChildMapping';\n\nvar values = Object.values || function (obj) {\n  return Object.keys(obj).map(function (k) {\n    return obj[k];\n  });\n};\n\nvar defaultProps = {\n  component: 'div',\n  childFactory: function childFactory(child) {\n    return child;\n  }\n};\n/**\n * The `<TransitionGroup>` component manages a set of transition components\n * (`<Transition>` and `<CSSTransition>`) in a list. Like with the transition\n * components, `<TransitionGroup>` is a state machine for managing the mounting\n * and unmounting of components over time.\n *\n * Consider the example below. As items are removed or added to the TodoList the\n * `in` prop is toggled automatically by the `<TransitionGroup>`.\n *\n * Note that `<TransitionGroup>`  does not define any animation behavior!\n * Exactly _how_ a list item animates is up to the individual transition\n * component. This means you can mix and match animations across different list\n * items.\n */\n\nvar TransitionGroup = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(TransitionGroup, _React$Component);\n\n  function TransitionGroup(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n\n    var handleExited = _this.handleExited.bind(_assertThisInitialized(_this)); // Initial children should all be entering, dependent on appear\n\n\n    _this.state = {\n      contextValue: {\n        isMounting: true\n      },\n      handleExited: handleExited,\n      firstRender: true\n    };\n    return _this;\n  }\n\n  var _proto = TransitionGroup.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.mounted = true;\n    this.setState({\n      contextValue: {\n        isMounting: false\n      }\n    });\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.mounted = false;\n  };\n\n  TransitionGroup.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, _ref) {\n    var prevChildMapping = _ref.children,\n        handleExited = _ref.handleExited,\n        firstRender = _ref.firstRender;\n    return {\n      children: firstRender ? getInitialChildMapping(nextProps, handleExited) : getNextChildMapping(nextProps, prevChildMapping, handleExited),\n      firstRender: false\n    };\n  } // node is `undefined` when user provided `nodeRef` prop\n  ;\n\n  _proto.handleExited = function handleExited(child, node) {\n    var currentChildMapping = getChildMapping(this.props.children);\n    if (child.key in currentChildMapping) return;\n\n    if (child.props.onExited) {\n      child.props.onExited(node);\n    }\n\n    if (this.mounted) {\n      this.setState(function (state) {\n        var children = _extends({}, state.children);\n\n        delete children[child.key];\n        return {\n          children: children\n        };\n      });\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        Component = _this$props.component,\n        childFactory = _this$props.childFactory,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"component\", \"childFactory\"]);\n\n    var contextValue = this.state.contextValue;\n    var children = values(this.state.children).map(childFactory);\n    delete props.appear;\n    delete props.enter;\n    delete props.exit;\n\n    if (Component === null) {\n      return /*#__PURE__*/React.createElement(TransitionGroupContext.Provider, {\n        value: contextValue\n      }, children);\n    }\n\n    return /*#__PURE__*/React.createElement(TransitionGroupContext.Provider, {\n      value: contextValue\n    }, /*#__PURE__*/React.createElement(Component, props, children));\n  };\n\n  return TransitionGroup;\n}(React.Component);\n\nTransitionGroup.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * `<TransitionGroup>` renders a `<div>` by default. You can change this\n   * behavior by providing a `component` prop.\n   * If you use React v16+ and would like to avoid a wrapping `<div>` element\n   * you can pass in `component={null}`. This is useful if the wrapping div\n   * borks your css styles.\n   */\n  component: PropTypes.any,\n\n  /**\n   * A set of `<Transition>` components, that are toggled `in` and out as they\n   * leave. the `<TransitionGroup>` will inject specific transition props, so\n   * remember to spread them through if you are wrapping the `<Transition>` as\n   * with our `<Fade>` example.\n   *\n   * While this component is meant for multiple `Transition` or `CSSTransition`\n   * children, sometimes you may want to have a single transition child with\n   * content that you want to be transitioned out and in when you change it\n   * (e.g. routes, images etc.) In that case you can change the `key` prop of\n   * the transition child as you change its content, this will cause\n   * `TransitionGroup` to transition the child out and back in.\n   */\n  children: PropTypes.node,\n\n  /**\n   * A convenience prop that enables or disables appear animations\n   * for all children. Note that specifying this will override any defaults set\n   * on individual children Transitions.\n   */\n  appear: PropTypes.bool,\n\n  /**\n   * A convenience prop that enables or disables enter animations\n   * for all children. Note that specifying this will override any defaults set\n   * on individual children Transitions.\n   */\n  enter: PropTypes.bool,\n\n  /**\n   * A convenience prop that enables or disables exit animations\n   * for all children. Note that specifying this will override any defaults set\n   * on individual children Transitions.\n   */\n  exit: PropTypes.bool,\n\n  /**\n   * You may need to apply reactive updates to a child as it is exiting.\n   * This is generally done by using `cloneElement` however in the case of an exiting\n   * child the element has already been removed and not accessible to the consumer.\n   *\n   * If you do need to update a child as it leaves you can provide a `childFactory`\n   * to wrap every child, even the ones that are leaving.\n   *\n   * @type Function(child: ReactElement) -> ReactElement\n   */\n  childFactory: PropTypes.func\n} : {};\nTransitionGroup.defaultProps = defaultProps;\nexport default TransitionGroup;","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","'use client';\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\n\n/**\n * @ignore - internal component.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nfunction Ripple(props) {\n  const {\n    className,\n    classes,\n    pulsate = false,\n    rippleX,\n    rippleY,\n    rippleSize,\n    in: inProp,\n    onExited,\n    timeout\n  } = props;\n  const [leaving, setLeaving] = React.useState(false);\n  const rippleClassName = clsx(className, classes.ripple, classes.rippleVisible, pulsate && classes.ripplePulsate);\n  const rippleStyles = {\n    width: rippleSize,\n    height: rippleSize,\n    top: -(rippleSize / 2) + rippleY,\n    left: -(rippleSize / 2) + rippleX\n  };\n  const childClassName = clsx(classes.child, leaving && classes.childLeaving, pulsate && classes.childPulsate);\n  if (!inProp && !leaving) {\n    setLeaving(true);\n  }\n  React.useEffect(() => {\n    if (!inProp && onExited != null) {\n      // react-transition-group#onExited\n      const timeoutId = setTimeout(onExited, timeout);\n      return () => {\n        clearTimeout(timeoutId);\n      };\n    }\n    return undefined;\n  }, [onExited, inProp, timeout]);\n  return /*#__PURE__*/_jsx(\"span\", {\n    className: rippleClassName,\n    style: rippleStyles,\n    children: /*#__PURE__*/_jsx(\"span\", {\n      className: childClassName\n    })\n  });\n}\nprocess.env.NODE_ENV !== \"production\" ? Ripple.propTypes = {\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object.isRequired,\n  className: PropTypes.string,\n  /**\n   * @ignore - injected from TransitionGroup\n   */\n  in: PropTypes.bool,\n  /**\n   * @ignore - injected from TransitionGroup\n   */\n  onExited: PropTypes.func,\n  /**\n   * If `true`, the ripple pulsates, typically indicating the keyboard focus state of an element.\n   */\n  pulsate: PropTypes.bool,\n  /**\n   * Diameter of the ripple.\n   */\n  rippleSize: PropTypes.number,\n  /**\n   * Horizontal position of the ripple center.\n   */\n  rippleX: PropTypes.number,\n  /**\n   * Vertical position of the ripple center.\n   */\n  rippleY: PropTypes.number,\n  /**\n   * exit delay\n   */\n  timeout: PropTypes.number.isRequired\n} : void 0;\nexport default Ripple;","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getTouchRippleUtilityClass(slot) {\n  return generateUtilityClass('MuiTouchRipple', slot);\n}\nconst touchRippleClasses = generateUtilityClasses('MuiTouchRipple', ['root', 'ripple', 'rippleVisible', 'ripplePulsate', 'child', 'childLeaving', 'childPulsate']);\nexport default touchRippleClasses;","'use client';\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"center\", \"classes\", \"className\"];\nlet _ = t => t,\n  _t,\n  _t2,\n  _t3,\n  _t4;\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { TransitionGroup } from 'react-transition-group';\nimport clsx from 'clsx';\nimport { keyframes } from '@mui/system';\nimport useTimeout from '@mui/utils/useTimeout';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport Ripple from './Ripple';\nimport touchRippleClasses from './touchRippleClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst DURATION = 550;\nexport const DELAY_RIPPLE = 80;\nconst enterKeyframe = keyframes(_t || (_t = _`\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n`));\nconst exitKeyframe = keyframes(_t2 || (_t2 = _`\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n`));\nconst pulsateKeyframe = keyframes(_t3 || (_t3 = _`\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n`));\nexport const TouchRippleRoot = styled('span', {\n  name: 'MuiTouchRipple',\n  slot: 'Root'\n})({\n  overflow: 'hidden',\n  pointerEvents: 'none',\n  position: 'absolute',\n  zIndex: 0,\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0,\n  borderRadius: 'inherit'\n});\n\n// This `styled()` function invokes keyframes. `styled-components` only supports keyframes\n// in string templates. Do not convert these styles in JS object as it will break.\nexport const TouchRippleRipple = styled(Ripple, {\n  name: 'MuiTouchRipple',\n  slot: 'Ripple'\n})(_t4 || (_t4 = _`\n  opacity: 0;\n  position: absolute;\n\n  &.${0} {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ${0};\n    animation-duration: ${0}ms;\n    animation-timing-function: ${0};\n  }\n\n  &.${0} {\n    animation-duration: ${0}ms;\n  }\n\n  & .${0} {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & .${0} {\n    opacity: 0;\n    animation-name: ${0};\n    animation-duration: ${0}ms;\n    animation-timing-function: ${0};\n  }\n\n  & .${0} {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ${0};\n    animation-duration: 2500ms;\n    animation-timing-function: ${0};\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n`), touchRippleClasses.rippleVisible, enterKeyframe, DURATION, ({\n  theme\n}) => theme.transitions.easing.easeInOut, touchRippleClasses.ripplePulsate, ({\n  theme\n}) => theme.transitions.duration.shorter, touchRippleClasses.child, touchRippleClasses.childLeaving, exitKeyframe, DURATION, ({\n  theme\n}) => theme.transitions.easing.easeInOut, touchRippleClasses.childPulsate, pulsateKeyframe, ({\n  theme\n}) => theme.transitions.easing.easeInOut);\n\n/**\n * @ignore - internal component.\n *\n * TODO v5: Make private\n */\nconst TouchRipple = /*#__PURE__*/React.forwardRef(function TouchRipple(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiTouchRipple'\n  });\n  const {\n      center: centerProp = false,\n      classes = {},\n      className\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const [ripples, setRipples] = React.useState([]);\n  const nextKey = React.useRef(0);\n  const rippleCallback = React.useRef(null);\n  React.useEffect(() => {\n    if (rippleCallback.current) {\n      rippleCallback.current();\n      rippleCallback.current = null;\n    }\n  }, [ripples]);\n\n  // Used to filter out mouse emulated events on mobile.\n  const ignoringMouseDown = React.useRef(false);\n  // We use a timer in order to only show the ripples for touch \"click\" like events.\n  // We don't want to display the ripple for touch scroll events.\n  const startTimer = useTimeout();\n\n  // This is the hook called once the previous timeout is ready.\n  const startTimerCommit = React.useRef(null);\n  const container = React.useRef(null);\n  const startCommit = React.useCallback(params => {\n    const {\n      pulsate,\n      rippleX,\n      rippleY,\n      rippleSize,\n      cb\n    } = params;\n    setRipples(oldRipples => [...oldRipples, /*#__PURE__*/_jsx(TouchRippleRipple, {\n      classes: {\n        ripple: clsx(classes.ripple, touchRippleClasses.ripple),\n        rippleVisible: clsx(classes.rippleVisible, touchRippleClasses.rippleVisible),\n        ripplePulsate: clsx(classes.ripplePulsate, touchRippleClasses.ripplePulsate),\n        child: clsx(classes.child, touchRippleClasses.child),\n        childLeaving: clsx(classes.childLeaving, touchRippleClasses.childLeaving),\n        childPulsate: clsx(classes.childPulsate, touchRippleClasses.childPulsate)\n      },\n      timeout: DURATION,\n      pulsate: pulsate,\n      rippleX: rippleX,\n      rippleY: rippleY,\n      rippleSize: rippleSize\n    }, nextKey.current)]);\n    nextKey.current += 1;\n    rippleCallback.current = cb;\n  }, [classes]);\n  const start = React.useCallback((event = {}, options = {}, cb = () => {}) => {\n    const {\n      pulsate = false,\n      center = centerProp || options.pulsate,\n      fakeElement = false // For test purposes\n    } = options;\n    if ((event == null ? void 0 : event.type) === 'mousedown' && ignoringMouseDown.current) {\n      ignoringMouseDown.current = false;\n      return;\n    }\n    if ((event == null ? void 0 : event.type) === 'touchstart') {\n      ignoringMouseDown.current = true;\n    }\n    const element = fakeElement ? null : container.current;\n    const rect = element ? element.getBoundingClientRect() : {\n      width: 0,\n      height: 0,\n      left: 0,\n      top: 0\n    };\n\n    // Get the size of the ripple\n    let rippleX;\n    let rippleY;\n    let rippleSize;\n    if (center || event === undefined || event.clientX === 0 && event.clientY === 0 || !event.clientX && !event.touches) {\n      rippleX = Math.round(rect.width / 2);\n      rippleY = Math.round(rect.height / 2);\n    } else {\n      const {\n        clientX,\n        clientY\n      } = event.touches && event.touches.length > 0 ? event.touches[0] : event;\n      rippleX = Math.round(clientX - rect.left);\n      rippleY = Math.round(clientY - rect.top);\n    }\n    if (center) {\n      rippleSize = Math.sqrt((2 * rect.width ** 2 + rect.height ** 2) / 3);\n\n      // For some reason the animation is broken on Mobile Chrome if the size is even.\n      if (rippleSize % 2 === 0) {\n        rippleSize += 1;\n      }\n    } else {\n      const sizeX = Math.max(Math.abs((element ? element.clientWidth : 0) - rippleX), rippleX) * 2 + 2;\n      const sizeY = Math.max(Math.abs((element ? element.clientHeight : 0) - rippleY), rippleY) * 2 + 2;\n      rippleSize = Math.sqrt(sizeX ** 2 + sizeY ** 2);\n    }\n\n    // Touche devices\n    if (event != null && event.touches) {\n      // check that this isn't another touchstart due to multitouch\n      // otherwise we will only clear a single timer when unmounting while two\n      // are running\n      if (startTimerCommit.current === null) {\n        // Prepare the ripple effect.\n        startTimerCommit.current = () => {\n          startCommit({\n            pulsate,\n            rippleX,\n            rippleY,\n            rippleSize,\n            cb\n          });\n        };\n        // Delay the execution of the ripple effect.\n        // We have to make a tradeoff with this delay value.\n        startTimer.start(DELAY_RIPPLE, () => {\n          if (startTimerCommit.current) {\n            startTimerCommit.current();\n            startTimerCommit.current = null;\n          }\n        });\n      }\n    } else {\n      startCommit({\n        pulsate,\n        rippleX,\n        rippleY,\n        rippleSize,\n        cb\n      });\n    }\n  }, [centerProp, startCommit, startTimer]);\n  const pulsate = React.useCallback(() => {\n    start({}, {\n      pulsate: true\n    });\n  }, [start]);\n  const stop = React.useCallback((event, cb) => {\n    startTimer.clear();\n\n    // The touch interaction occurs too quickly.\n    // We still want to show ripple effect.\n    if ((event == null ? void 0 : event.type) === 'touchend' && startTimerCommit.current) {\n      startTimerCommit.current();\n      startTimerCommit.current = null;\n      startTimer.start(0, () => {\n        stop(event, cb);\n      });\n      return;\n    }\n    startTimerCommit.current = null;\n    setRipples(oldRipples => {\n      if (oldRipples.length > 0) {\n        return oldRipples.slice(1);\n      }\n      return oldRipples;\n    });\n    rippleCallback.current = cb;\n  }, [startTimer]);\n  React.useImperativeHandle(ref, () => ({\n    pulsate,\n    start,\n    stop\n  }), [pulsate, start, stop]);\n  return /*#__PURE__*/_jsx(TouchRippleRoot, _extends({\n    className: clsx(touchRippleClasses.root, classes.root, className),\n    ref: container\n  }, other, {\n    children: /*#__PURE__*/_jsx(TransitionGroup, {\n      component: null,\n      exit: true,\n      children: ripples\n    })\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? TouchRipple.propTypes = {\n  /**\n   * If `true`, the ripple starts at the center of the component\n   * rather than at the point of interaction.\n   */\n  center: PropTypes.bool,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string\n} : void 0;\nexport default TouchRipple;","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getButtonBaseUtilityClass(slot) {\n  return generateUtilityClass('MuiButtonBase', slot);\n}\nconst buttonBaseClasses = generateUtilityClasses('MuiButtonBase', ['root', 'disabled', 'focusVisible']);\nexport default buttonBaseClasses;","'use client';\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"action\", \"centerRipple\", \"children\", \"className\", \"component\", \"disabled\", \"disableRipple\", \"disableTouchRipple\", \"focusRipple\", \"focusVisibleClassName\", \"LinkComponent\", \"onBlur\", \"onClick\", \"onContextMenu\", \"onDragLeave\", \"onFocus\", \"onFocusVisible\", \"onKeyDown\", \"onKeyUp\", \"onMouseDown\", \"onMouseLeave\", \"onMouseUp\", \"onTouchEnd\", \"onTouchMove\", \"onTouchStart\", \"tabIndex\", \"TouchRippleProps\", \"touchRippleRef\", \"type\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport refType from '@mui/utils/refType';\nimport elementTypeAcceptingRef from '@mui/utils/elementTypeAcceptingRef';\nimport composeClasses from '@mui/utils/composeClasses';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport useForkRef from '../utils/useForkRef';\nimport useEventCallback from '../utils/useEventCallback';\nimport useIsFocusVisible from '../utils/useIsFocusVisible';\nimport TouchRipple from './TouchRipple';\nimport buttonBaseClasses, { getButtonBaseUtilityClass } from './buttonBaseClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    disabled,\n    focusVisible,\n    focusVisibleClassName,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root', disabled && 'disabled', focusVisible && 'focusVisible']\n  };\n  const composedClasses = composeClasses(slots, getButtonBaseUtilityClass, classes);\n  if (focusVisible && focusVisibleClassName) {\n    composedClasses.root += ` ${focusVisibleClassName}`;\n  }\n  return composedClasses;\n};\nexport const ButtonBaseRoot = styled('button', {\n  name: 'MuiButtonBase',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})({\n  display: 'inline-flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  position: 'relative',\n  boxSizing: 'border-box',\n  WebkitTapHighlightColor: 'transparent',\n  backgroundColor: 'transparent',\n  // Reset default value\n  // We disable the focus ring for mouse, touch and keyboard users.\n  outline: 0,\n  border: 0,\n  margin: 0,\n  // Remove the margin in Safari\n  borderRadius: 0,\n  padding: 0,\n  // Remove the padding in Firefox\n  cursor: 'pointer',\n  userSelect: 'none',\n  verticalAlign: 'middle',\n  MozAppearance: 'none',\n  // Reset\n  WebkitAppearance: 'none',\n  // Reset\n  textDecoration: 'none',\n  // So we take precedent over the style of a native <a /> element.\n  color: 'inherit',\n  '&::-moz-focus-inner': {\n    borderStyle: 'none' // Remove Firefox dotted outline.\n  },\n  [`&.${buttonBaseClasses.disabled}`]: {\n    pointerEvents: 'none',\n    // Disable link interactions\n    cursor: 'default'\n  },\n  '@media print': {\n    colorAdjust: 'exact'\n  }\n});\n\n/**\n * `ButtonBase` contains as few styles as possible.\n * It aims to be a simple building block for creating a button.\n * It contains a load of style reset and some focus/ripple logic.\n */\nconst ButtonBase = /*#__PURE__*/React.forwardRef(function ButtonBase(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiButtonBase'\n  });\n  const {\n      action,\n      centerRipple = false,\n      children,\n      className,\n      component = 'button',\n      disabled = false,\n      disableRipple = false,\n      disableTouchRipple = false,\n      focusRipple = false,\n      LinkComponent = 'a',\n      onBlur,\n      onClick,\n      onContextMenu,\n      onDragLeave,\n      onFocus,\n      onFocusVisible,\n      onKeyDown,\n      onKeyUp,\n      onMouseDown,\n      onMouseLeave,\n      onMouseUp,\n      onTouchEnd,\n      onTouchMove,\n      onTouchStart,\n      tabIndex = 0,\n      TouchRippleProps,\n      touchRippleRef,\n      type\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const buttonRef = React.useRef(null);\n  const rippleRef = React.useRef(null);\n  const handleRippleRef = useForkRef(rippleRef, touchRippleRef);\n  const {\n    isFocusVisibleRef,\n    onFocus: handleFocusVisible,\n    onBlur: handleBlurVisible,\n    ref: focusVisibleRef\n  } = useIsFocusVisible();\n  const [focusVisible, setFocusVisible] = React.useState(false);\n  if (disabled && focusVisible) {\n    setFocusVisible(false);\n  }\n  React.useImperativeHandle(action, () => ({\n    focusVisible: () => {\n      setFocusVisible(true);\n      buttonRef.current.focus();\n    }\n  }), []);\n  const [mountedState, setMountedState] = React.useState(false);\n  React.useEffect(() => {\n    setMountedState(true);\n  }, []);\n  const enableTouchRipple = mountedState && !disableRipple && !disabled;\n  React.useEffect(() => {\n    if (focusVisible && focusRipple && !disableRipple && mountedState) {\n      rippleRef.current.pulsate();\n    }\n  }, [disableRipple, focusRipple, focusVisible, mountedState]);\n  function useRippleHandler(rippleAction, eventCallback, skipRippleAction = disableTouchRipple) {\n    return useEventCallback(event => {\n      if (eventCallback) {\n        eventCallback(event);\n      }\n      const ignore = skipRippleAction;\n      if (!ignore && rippleRef.current) {\n        rippleRef.current[rippleAction](event);\n      }\n      return true;\n    });\n  }\n  const handleMouseDown = useRippleHandler('start', onMouseDown);\n  const handleContextMenu = useRippleHandler('stop', onContextMenu);\n  const handleDragLeave = useRippleHandler('stop', onDragLeave);\n  const handleMouseUp = useRippleHandler('stop', onMouseUp);\n  const handleMouseLeave = useRippleHandler('stop', event => {\n    if (focusVisible) {\n      event.preventDefault();\n    }\n    if (onMouseLeave) {\n      onMouseLeave(event);\n    }\n  });\n  const handleTouchStart = useRippleHandler('start', onTouchStart);\n  const handleTouchEnd = useRippleHandler('stop', onTouchEnd);\n  const handleTouchMove = useRippleHandler('stop', onTouchMove);\n  const handleBlur = useRippleHandler('stop', event => {\n    handleBlurVisible(event);\n    if (isFocusVisibleRef.current === false) {\n      setFocusVisible(false);\n    }\n    if (onBlur) {\n      onBlur(event);\n    }\n  }, false);\n  const handleFocus = useEventCallback(event => {\n    // Fix for https://github.com/facebook/react/issues/7769\n    if (!buttonRef.current) {\n      buttonRef.current = event.currentTarget;\n    }\n    handleFocusVisible(event);\n    if (isFocusVisibleRef.current === true) {\n      setFocusVisible(true);\n      if (onFocusVisible) {\n        onFocusVisible(event);\n      }\n    }\n    if (onFocus) {\n      onFocus(event);\n    }\n  });\n  const isNonNativeButton = () => {\n    const button = buttonRef.current;\n    return component && component !== 'button' && !(button.tagName === 'A' && button.href);\n  };\n\n  /**\n   * IE11 shim for https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/repeat\n   */\n  const keydownRef = React.useRef(false);\n  const handleKeyDown = useEventCallback(event => {\n    // Check if key is already down to avoid repeats being counted as multiple activations\n    if (focusRipple && !keydownRef.current && focusVisible && rippleRef.current && event.key === ' ') {\n      keydownRef.current = true;\n      rippleRef.current.stop(event, () => {\n        rippleRef.current.start(event);\n      });\n    }\n    if (event.target === event.currentTarget && isNonNativeButton() && event.key === ' ') {\n      event.preventDefault();\n    }\n    if (onKeyDown) {\n      onKeyDown(event);\n    }\n\n    // Keyboard accessibility for non interactive elements\n    if (event.target === event.currentTarget && isNonNativeButton() && event.key === 'Enter' && !disabled) {\n      event.preventDefault();\n      if (onClick) {\n        onClick(event);\n      }\n    }\n  });\n  const handleKeyUp = useEventCallback(event => {\n    // calling preventDefault in keyUp on a <button> will not dispatch a click event if Space is pressed\n    // https://codesandbox.io/p/sandbox/button-keyup-preventdefault-dn7f0\n    if (focusRipple && event.key === ' ' && rippleRef.current && focusVisible && !event.defaultPrevented) {\n      keydownRef.current = false;\n      rippleRef.current.stop(event, () => {\n        rippleRef.current.pulsate(event);\n      });\n    }\n    if (onKeyUp) {\n      onKeyUp(event);\n    }\n\n    // Keyboard accessibility for non interactive elements\n    if (onClick && event.target === event.currentTarget && isNonNativeButton() && event.key === ' ' && !event.defaultPrevented) {\n      onClick(event);\n    }\n  });\n  let ComponentProp = component;\n  if (ComponentProp === 'button' && (other.href || other.to)) {\n    ComponentProp = LinkComponent;\n  }\n  const buttonProps = {};\n  if (ComponentProp === 'button') {\n    buttonProps.type = type === undefined ? 'button' : type;\n    buttonProps.disabled = disabled;\n  } else {\n    if (!other.href && !other.to) {\n      buttonProps.role = 'button';\n    }\n    if (disabled) {\n      buttonProps['aria-disabled'] = disabled;\n    }\n  }\n  const handleRef = useForkRef(ref, focusVisibleRef, buttonRef);\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useEffect(() => {\n      if (enableTouchRipple && !rippleRef.current) {\n        console.error(['MUI: The `component` prop provided to ButtonBase is invalid.', 'Please make sure the children prop is rendered in this custom component.'].join('\\n'));\n      }\n    }, [enableTouchRipple]);\n  }\n  const ownerState = _extends({}, props, {\n    centerRipple,\n    component,\n    disabled,\n    disableRipple,\n    disableTouchRipple,\n    focusRipple,\n    tabIndex,\n    focusVisible\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsxs(ButtonBaseRoot, _extends({\n    as: ComponentProp,\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    onBlur: handleBlur,\n    onClick: onClick,\n    onContextMenu: handleContextMenu,\n    onFocus: handleFocus,\n    onKeyDown: handleKeyDown,\n    onKeyUp: handleKeyUp,\n    onMouseDown: handleMouseDown,\n    onMouseLeave: handleMouseLeave,\n    onMouseUp: handleMouseUp,\n    onDragLeave: handleDragLeave,\n    onTouchEnd: handleTouchEnd,\n    onTouchMove: handleTouchMove,\n    onTouchStart: handleTouchStart,\n    ref: handleRef,\n    tabIndex: disabled ? -1 : tabIndex,\n    type: type\n  }, buttonProps, other, {\n    children: [children, enableTouchRipple ?\n    /*#__PURE__*/\n    /* TouchRipple is only needed client-side, x2 boost on the server. */\n    _jsx(TouchRipple, _extends({\n      ref: handleRippleRef,\n      center: centerRipple\n    }, TouchRippleProps)) : null]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? ButtonBase.propTypes /* remove-proptypes */ = {\n  //  Warning \n  //  These PropTypes are generated from the TypeScript type definitions. \n  //     To update them, edit the d.ts file and run `pnpm proptypes`.     \n  // \n  /**\n   * A ref for imperative actions.\n   * It currently only supports `focusVisible()` action.\n   */\n  action: refType,\n  /**\n   * If `true`, the ripples are centered.\n   * They won't start at the cursor interaction position.\n   * @default false\n   */\n  centerRipple: PropTypes.bool,\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: elementTypeAcceptingRef,\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n  /**\n   * If `true`, the ripple effect is disabled.\n   *\n   *  Without a ripple there is no styling for :focus-visible by default. Be sure\n   * to highlight the element by applying separate styles with the `.Mui-focusVisible` class.\n   * @default false\n   */\n  disableRipple: PropTypes.bool,\n  /**\n   * If `true`, the touch ripple effect is disabled.\n   * @default false\n   */\n  disableTouchRipple: PropTypes.bool,\n  /**\n   * If `true`, the base button will have a keyboard focus ripple.\n   * @default false\n   */\n  focusRipple: PropTypes.bool,\n  /**\n   * This prop can help identify which element has keyboard focus.\n   * The class name will be applied when the element gains the focus through keyboard interaction.\n   * It's a polyfill for the [CSS :focus-visible selector](https://drafts.csswg.org/selectors-4/#the-focus-visible-pseudo).\n   * The rationale for using this feature [is explained here](https://github.com/WICG/focus-visible/blob/HEAD/explainer.md).\n   * A [polyfill can be used](https://github.com/WICG/focus-visible) to apply a `focus-visible` class to other components\n   * if needed.\n   */\n  focusVisibleClassName: PropTypes.string,\n  /**\n   * @ignore\n   */\n  href: PropTypes /* @typescript-to-proptypes-ignore */.any,\n  /**\n   * The component used to render a link when the `href` prop is provided.\n   * @default 'a'\n   */\n  LinkComponent: PropTypes.elementType,\n  /**\n   * @ignore\n   */\n  onBlur: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onClick: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onContextMenu: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onDragLeave: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onFocus: PropTypes.func,\n  /**\n   * Callback fired when the component is focused with a keyboard.\n   * We trigger a `onFocus` callback too.\n   */\n  onFocusVisible: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onKeyDown: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onKeyUp: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onMouseDown: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onMouseLeave: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onMouseUp: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onTouchEnd: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onTouchMove: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onTouchStart: PropTypes.func,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * @default 0\n   */\n  tabIndex: PropTypes.number,\n  /**\n   * Props applied to the `TouchRipple` element.\n   */\n  TouchRippleProps: PropTypes.object,\n  /**\n   * A ref that points to the `TouchRipple` element.\n   */\n  touchRippleRef: PropTypes.oneOfType([PropTypes.func, PropTypes.shape({\n    current: PropTypes.shape({\n      pulsate: PropTypes.func.isRequired,\n      start: PropTypes.func.isRequired,\n      stop: PropTypes.func.isRequired\n    })\n  })]),\n  /**\n   * @ignore\n   */\n  type: PropTypes.oneOfType([PropTypes.oneOf(['button', 'reset', 'submit']), PropTypes.string])\n} : void 0;\nexport default ButtonBase;","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getTabUtilityClass(slot) {\n  return generateUtilityClass('MuiTab', slot);\n}\nconst tabClasses = generateUtilityClasses('MuiTab', ['root', 'labelIcon', 'textColorInherit', 'textColorPrimary', 'textColorSecondary', 'selected', 'disabled', 'fullWidth', 'wrapped', 'iconWrapper']);\nexport default tabClasses;","'use client';\n\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\", \"disabled\", \"disableFocusRipple\", \"fullWidth\", \"icon\", \"iconPosition\", \"indicator\", \"label\", \"onChange\", \"onClick\", \"onFocus\", \"selected\", \"selectionFollowsFocus\", \"textColor\", \"value\", \"wrapped\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport ButtonBase from '../ButtonBase';\nimport capitalize from '../utils/capitalize';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport unsupportedProp from '../utils/unsupportedProp';\nimport tabClasses, { getTabUtilityClass } from './tabClasses';\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    textColor,\n    fullWidth,\n    wrapped,\n    icon,\n    label,\n    selected,\n    disabled\n  } = ownerState;\n  const slots = {\n    root: ['root', icon && label && 'labelIcon', `textColor${capitalize(textColor)}`, fullWidth && 'fullWidth', wrapped && 'wrapped', selected && 'selected', disabled && 'disabled'],\n    iconWrapper: ['iconWrapper']\n  };\n  return composeClasses(slots, getTabUtilityClass, classes);\n};\nconst TabRoot = styled(ButtonBase, {\n  name: 'MuiTab',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, ownerState.label && ownerState.icon && styles.labelIcon, styles[`textColor${capitalize(ownerState.textColor)}`], ownerState.fullWidth && styles.fullWidth, ownerState.wrapped && styles.wrapped];\n  }\n})(({\n  theme,\n  ownerState\n}) => _extends({}, theme.typography.button, {\n  maxWidth: 360,\n  minWidth: 90,\n  position: 'relative',\n  minHeight: 48,\n  flexShrink: 0,\n  padding: '12px 16px',\n  overflow: 'hidden',\n  whiteSpace: 'normal',\n  textAlign: 'center'\n}, ownerState.label && {\n  flexDirection: ownerState.iconPosition === 'top' || ownerState.iconPosition === 'bottom' ? 'column' : 'row'\n}, {\n  lineHeight: 1.25\n}, ownerState.icon && ownerState.label && {\n  minHeight: 72,\n  paddingTop: 9,\n  paddingBottom: 9,\n  [`& > .${tabClasses.iconWrapper}`]: _extends({}, ownerState.iconPosition === 'top' && {\n    marginBottom: 6\n  }, ownerState.iconPosition === 'bottom' && {\n    marginTop: 6\n  }, ownerState.iconPosition === 'start' && {\n    marginRight: theme.spacing(1)\n  }, ownerState.iconPosition === 'end' && {\n    marginLeft: theme.spacing(1)\n  })\n}, ownerState.textColor === 'inherit' && {\n  color: 'inherit',\n  opacity: 0.6,\n  // same opacity as theme.palette.text.secondary\n  [`&.${tabClasses.selected}`]: {\n    opacity: 1\n  },\n  [`&.${tabClasses.disabled}`]: {\n    opacity: (theme.vars || theme).palette.action.disabledOpacity\n  }\n}, ownerState.textColor === 'primary' && {\n  color: (theme.vars || theme).palette.text.secondary,\n  [`&.${tabClasses.selected}`]: {\n    color: (theme.vars || theme).palette.primary.main\n  },\n  [`&.${tabClasses.disabled}`]: {\n    color: (theme.vars || theme).palette.text.disabled\n  }\n}, ownerState.textColor === 'secondary' && {\n  color: (theme.vars || theme).palette.text.secondary,\n  [`&.${tabClasses.selected}`]: {\n    color: (theme.vars || theme).palette.secondary.main\n  },\n  [`&.${tabClasses.disabled}`]: {\n    color: (theme.vars || theme).palette.text.disabled\n  }\n}, ownerState.fullWidth && {\n  flexShrink: 1,\n  flexGrow: 1,\n  flexBasis: 0,\n  maxWidth: 'none'\n}, ownerState.wrapped && {\n  fontSize: theme.typography.pxToRem(12)\n}));\nconst Tab = /*#__PURE__*/React.forwardRef(function Tab(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiTab'\n  });\n  const {\n      className,\n      disabled = false,\n      disableFocusRipple = false,\n      // eslint-disable-next-line react/prop-types\n      fullWidth,\n      icon: iconProp,\n      iconPosition = 'top',\n      // eslint-disable-next-line react/prop-types\n      indicator,\n      label,\n      onChange,\n      onClick,\n      onFocus,\n      // eslint-disable-next-line react/prop-types\n      selected,\n      // eslint-disable-next-line react/prop-types\n      selectionFollowsFocus,\n      // eslint-disable-next-line react/prop-types\n      textColor = 'inherit',\n      value,\n      wrapped = false\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    disabled,\n    disableFocusRipple,\n    selected,\n    icon: !!iconProp,\n    iconPosition,\n    label: !!label,\n    fullWidth,\n    textColor,\n    wrapped\n  });\n  const classes = useUtilityClasses(ownerState);\n  const icon = iconProp && label && /*#__PURE__*/React.isValidElement(iconProp) ? /*#__PURE__*/React.cloneElement(iconProp, {\n    className: clsx(classes.iconWrapper, iconProp.props.className)\n  }) : iconProp;\n  const handleClick = event => {\n    if (!selected && onChange) {\n      onChange(event, value);\n    }\n    if (onClick) {\n      onClick(event);\n    }\n  };\n  const handleFocus = event => {\n    if (selectionFollowsFocus && !selected && onChange) {\n      onChange(event, value);\n    }\n    if (onFocus) {\n      onFocus(event);\n    }\n  };\n  return /*#__PURE__*/_jsxs(TabRoot, _extends({\n    focusRipple: !disableFocusRipple,\n    className: clsx(classes.root, className),\n    ref: ref,\n    role: \"tab\",\n    \"aria-selected\": selected,\n    disabled: disabled,\n    onClick: handleClick,\n    onFocus: handleFocus,\n    ownerState: ownerState,\n    tabIndex: selected ? 0 : -1\n  }, other, {\n    children: [iconPosition === 'top' || iconPosition === 'start' ? /*#__PURE__*/_jsxs(React.Fragment, {\n      children: [icon, label]\n    }) : /*#__PURE__*/_jsxs(React.Fragment, {\n      children: [label, icon]\n    }), indicator]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Tab.propTypes /* remove-proptypes */ = {\n  //  Warning \n  //  These PropTypes are generated from the TypeScript type definitions. \n  //     To update them, edit the d.ts file and run `pnpm proptypes`.     \n  // \n  /**\n   * This prop isn't supported.\n   * Use the `component` prop if you need to change the children structure.\n   */\n  children: unsupportedProp,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n  /**\n   * If `true`, the  keyboard focus ripple is disabled.\n   * @default false\n   */\n  disableFocusRipple: PropTypes.bool,\n  /**\n   * If `true`, the ripple effect is disabled.\n   *\n   *  Without a ripple there is no styling for :focus-visible by default. Be sure\n   * to highlight the element by applying separate styles with the `.Mui-focusVisible` class.\n   * @default false\n   */\n  disableRipple: PropTypes.bool,\n  /**\n   * The icon to display.\n   */\n  icon: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n  /**\n   * The position of the icon relative to the label.\n   * @default 'top'\n   */\n  iconPosition: PropTypes.oneOf(['bottom', 'end', 'start', 'top']),\n  /**\n   * The label element.\n   */\n  label: PropTypes.node,\n  /**\n   * @ignore\n   */\n  onChange: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onClick: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onFocus: PropTypes.func,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * You can provide your own value. Otherwise, we fallback to the child position index.\n   */\n  value: PropTypes.any,\n  /**\n   * Tab labels appear in a single row.\n   * They can use a second line if needed.\n   * @default false\n   */\n  wrapped: PropTypes.bool\n} : void 0;\nexport default Tab;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"value\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst RtlContext = /*#__PURE__*/React.createContext();\nfunction RtlProvider(_ref) {\n  let {\n      value\n    } = _ref,\n    props = _objectWithoutPropertiesLoose(_ref, _excluded);\n  return /*#__PURE__*/_jsx(RtlContext.Provider, _extends({\n    value: value != null ? value : true\n  }, props));\n}\nprocess.env.NODE_ENV !== \"production\" ? RtlProvider.propTypes = {\n  children: PropTypes.node,\n  value: PropTypes.bool\n} : void 0;\nexport const useRtl = () => {\n  const value = React.useContext(RtlContext);\n  return value != null ? value : false;\n};\nexport default RtlProvider;","// Source from https://github.com/alitaheri/normalize-scroll-left\nlet cachedType;\n\n/**\n * Based on the jquery plugin https://github.com/othree/jquery.rtl-scroll-type\n *\n * Types of scrollLeft, assuming scrollWidth=100 and direction is rtl.\n *\n * Type             | <- Most Left | Most Right -> | Initial\n * ---------------- | ------------ | ------------- | -------\n * default          | 0            | 100           | 100\n * negative (spec*) | -100         | 0             | 0\n * reverse          | 100          | 0             | 0\n *\n * Edge 85: default\n * Safari 14: negative\n * Chrome 85: negative\n * Firefox 81: negative\n * IE11: reverse\n *\n * spec* https://drafts.csswg.org/cssom-view/#dom-window-scroll\n */\nexport function detectScrollType() {\n  if (cachedType) {\n    return cachedType;\n  }\n  const dummy = document.createElement('div');\n  const container = document.createElement('div');\n  container.style.width = '10px';\n  container.style.height = '1px';\n  dummy.appendChild(container);\n  dummy.dir = 'rtl';\n  dummy.style.fontSize = '14px';\n  dummy.style.width = '4px';\n  dummy.style.height = '1px';\n  dummy.style.position = 'absolute';\n  dummy.style.top = '-1000px';\n  dummy.style.overflow = 'scroll';\n  document.body.appendChild(dummy);\n  cachedType = 'reverse';\n  if (dummy.scrollLeft > 0) {\n    cachedType = 'default';\n  } else {\n    dummy.scrollLeft = 1;\n    if (dummy.scrollLeft === 0) {\n      cachedType = 'negative';\n    }\n  }\n  document.body.removeChild(dummy);\n  return cachedType;\n}\n\n// Based on https://stackoverflow.com/a/24394376\nexport function getNormalizedScrollLeft(element, direction) {\n  const scrollLeft = element.scrollLeft;\n\n  // Perform the calculations only when direction is rtl to avoid messing up the ltr behavior\n  if (direction !== 'rtl') {\n    return scrollLeft;\n  }\n  const type = detectScrollType();\n  switch (type) {\n    case 'negative':\n      return element.scrollWidth - element.clientWidth + scrollLeft;\n    case 'reverse':\n      return element.scrollWidth - element.clientWidth - scrollLeft;\n    default:\n      return scrollLeft;\n  }\n}","function easeInOutSin(time) {\n  return (1 + Math.sin(Math.PI * time - Math.PI / 2)) / 2;\n}\nexport default function animate(property, element, to, options = {}, cb = () => {}) {\n  const {\n    ease = easeInOutSin,\n    duration = 300 // standard\n  } = options;\n  let start = null;\n  const from = element[property];\n  let cancelled = false;\n  const cancel = () => {\n    cancelled = true;\n  };\n  const step = timestamp => {\n    if (cancelled) {\n      cb(new Error('Animation cancelled'));\n      return;\n    }\n    if (start === null) {\n      start = timestamp;\n    }\n    const time = Math.min(1, (timestamp - start) / duration);\n    element[property] = ease(time) * (to - from) + from;\n    if (time >= 1) {\n      requestAnimationFrame(() => {\n        cb(null);\n      });\n      return;\n    }\n    requestAnimationFrame(step);\n  };\n  if (from === to) {\n    cb(new Error('Element already at target position'));\n    return cancel;\n  }\n  requestAnimationFrame(step);\n  return cancel;\n}","'use client';\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"onChange\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport debounce from '../utils/debounce';\nimport { ownerWindow, unstable_useEnhancedEffect as useEnhancedEffect } from '../utils';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst styles = {\n  width: 99,\n  height: 99,\n  position: 'absolute',\n  top: -9999,\n  overflow: 'scroll'\n};\n\n/**\n * @ignore - internal component.\n * The component originates from https://github.com/STORIS/react-scrollbar-size.\n * It has been moved into the core in order to minimize the bundle size.\n */\nexport default function ScrollbarSize(props) {\n  const {\n      onChange\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const scrollbarHeight = React.useRef();\n  const nodeRef = React.useRef(null);\n  const setMeasurements = () => {\n    scrollbarHeight.current = nodeRef.current.offsetHeight - nodeRef.current.clientHeight;\n  };\n  useEnhancedEffect(() => {\n    const handleResize = debounce(() => {\n      const prevHeight = scrollbarHeight.current;\n      setMeasurements();\n      if (prevHeight !== scrollbarHeight.current) {\n        onChange(scrollbarHeight.current);\n      }\n    });\n    const containerWindow = ownerWindow(nodeRef.current);\n    containerWindow.addEventListener('resize', handleResize);\n    return () => {\n      handleResize.clear();\n      containerWindow.removeEventListener('resize', handleResize);\n    };\n  }, [onChange]);\n  React.useEffect(() => {\n    setMeasurements();\n    onChange(scrollbarHeight.current);\n  }, [onChange]);\n  return /*#__PURE__*/_jsx(\"div\", _extends({\n    style: styles,\n    ref: nodeRef\n  }, other));\n}\nprocess.env.NODE_ENV !== \"production\" ? ScrollbarSize.propTypes = {\n  onChange: PropTypes.func.isRequired\n} : void 0;","'use client';\n\nimport * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n\n/**\n * @ignore - internal component.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z\"\n}), 'KeyboardArrowLeft');","'use client';\n\nimport * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n\n/**\n * @ignore - internal component.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z\"\n}), 'KeyboardArrowRight');","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getTabScrollButtonUtilityClass(slot) {\n  return generateUtilityClass('MuiTabScrollButton', slot);\n}\nconst tabScrollButtonClasses = generateUtilityClasses('MuiTabScrollButton', ['root', 'vertical', 'horizontal', 'disabled']);\nexport default tabScrollButtonClasses;","'use client';\n\n/* eslint-disable jsx-a11y/aria-role */\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\", \"slots\", \"slotProps\", \"direction\", \"orientation\", \"disabled\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useSlotProps } from '@mui/base/utils';\nimport composeClasses from '@mui/utils/composeClasses';\nimport { useRtl } from '@mui/system/RtlProvider';\nimport KeyboardArrowLeft from '../internal/svg-icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '../internal/svg-icons/KeyboardArrowRight';\nimport ButtonBase from '../ButtonBase';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport tabScrollButtonClasses, { getTabScrollButtonUtilityClass } from './tabScrollButtonClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    orientation,\n    disabled\n  } = ownerState;\n  const slots = {\n    root: ['root', orientation, disabled && 'disabled']\n  };\n  return composeClasses(slots, getTabScrollButtonUtilityClass, classes);\n};\nconst TabScrollButtonRoot = styled(ButtonBase, {\n  name: 'MuiTabScrollButton',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, ownerState.orientation && styles[ownerState.orientation]];\n  }\n})(({\n  ownerState\n}) => _extends({\n  width: 40,\n  flexShrink: 0,\n  opacity: 0.8,\n  [`&.${tabScrollButtonClasses.disabled}`]: {\n    opacity: 0\n  }\n}, ownerState.orientation === 'vertical' && {\n  width: '100%',\n  height: 40,\n  '& svg': {\n    transform: `rotate(${ownerState.isRtl ? -90 : 90}deg)`\n  }\n}));\nconst TabScrollButton = /*#__PURE__*/React.forwardRef(function TabScrollButton(inProps, ref) {\n  var _slots$StartScrollBut, _slots$EndScrollButto;\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiTabScrollButton'\n  });\n  const {\n      className,\n      slots = {},\n      slotProps = {},\n      direction\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const isRtl = useRtl();\n  const ownerState = _extends({\n    isRtl\n  }, props);\n  const classes = useUtilityClasses(ownerState);\n  const StartButtonIcon = (_slots$StartScrollBut = slots.StartScrollButtonIcon) != null ? _slots$StartScrollBut : KeyboardArrowLeft;\n  const EndButtonIcon = (_slots$EndScrollButto = slots.EndScrollButtonIcon) != null ? _slots$EndScrollButto : KeyboardArrowRight;\n  const startButtonIconProps = useSlotProps({\n    elementType: StartButtonIcon,\n    externalSlotProps: slotProps.startScrollButtonIcon,\n    additionalProps: {\n      fontSize: 'small'\n    },\n    ownerState\n  });\n  const endButtonIconProps = useSlotProps({\n    elementType: EndButtonIcon,\n    externalSlotProps: slotProps.endScrollButtonIcon,\n    additionalProps: {\n      fontSize: 'small'\n    },\n    ownerState\n  });\n  return /*#__PURE__*/_jsx(TabScrollButtonRoot, _extends({\n    component: \"div\",\n    className: clsx(classes.root, className),\n    ref: ref,\n    role: null,\n    ownerState: ownerState,\n    tabIndex: null\n  }, other, {\n    children: direction === 'left' ? /*#__PURE__*/_jsx(StartButtonIcon, _extends({}, startButtonIconProps)) : /*#__PURE__*/_jsx(EndButtonIcon, _extends({}, endButtonIconProps))\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? TabScrollButton.propTypes /* remove-proptypes */ = {\n  //  Warning \n  //  These PropTypes are generated from the TypeScript type definitions. \n  //     To update them, edit the d.ts file and run `pnpm proptypes`.     \n  // \n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The direction the button should indicate.\n   */\n  direction: PropTypes.oneOf(['left', 'right']).isRequired,\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n  /**\n   * The component orientation (layout flow direction).\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n  /**\n   * The extra props for the slot components.\n   * You can override the existing props or add new ones.\n   * @default {}\n   */\n  slotProps: PropTypes.shape({\n    endScrollButtonIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n    startScrollButtonIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.object])\n  }),\n  /**\n   * The components used for each slot inside.\n   * @default {}\n   */\n  slots: PropTypes.shape({\n    EndScrollButtonIcon: PropTypes.elementType,\n    StartScrollButtonIcon: PropTypes.elementType\n  }),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default TabScrollButton;","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getTabsUtilityClass(slot) {\n  return generateUtilityClass('MuiTabs', slot);\n}\nconst tabsClasses = generateUtilityClasses('MuiTabs', ['root', 'vertical', 'flexContainer', 'flexContainerVertical', 'centered', 'scroller', 'fixed', 'scrollableX', 'scrollableY', 'hideScrollbar', 'scrollButtons', 'scrollButtonsHideMobile', 'indicator']);\nexport default tabsClasses;","'use client';\n\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"aria-label\", \"aria-labelledby\", \"action\", \"centered\", \"children\", \"className\", \"component\", \"allowScrollButtonsMobile\", \"indicatorColor\", \"onChange\", \"orientation\", \"ScrollButtonComponent\", \"scrollButtons\", \"selectionFollowsFocus\", \"slots\", \"slotProps\", \"TabIndicatorProps\", \"TabScrollButtonProps\", \"textColor\", \"value\", \"variant\", \"visibleScrollbar\"];\nimport * as React from 'react';\nimport { isFragment } from 'react-is';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport refType from '@mui/utils/refType';\nimport { useSlotProps } from '@mui/base/utils';\nimport composeClasses from '@mui/utils/composeClasses';\nimport { useRtl } from '@mui/system/RtlProvider';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport useTheme from '../styles/useTheme';\nimport debounce from '../utils/debounce';\nimport { getNormalizedScrollLeft, detectScrollType } from '../utils/scrollLeft';\nimport animate from '../internal/animate';\nimport ScrollbarSize from './ScrollbarSize';\nimport TabScrollButton from '../TabScrollButton';\nimport useEventCallback from '../utils/useEventCallback';\nimport tabsClasses, { getTabsUtilityClass } from './tabsClasses';\nimport ownerDocument from '../utils/ownerDocument';\nimport ownerWindow from '../utils/ownerWindow';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst nextItem = (list, item) => {\n  if (list === item) {\n    return list.firstChild;\n  }\n  if (item && item.nextElementSibling) {\n    return item.nextElementSibling;\n  }\n  return list.firstChild;\n};\nconst previousItem = (list, item) => {\n  if (list === item) {\n    return list.lastChild;\n  }\n  if (item && item.previousElementSibling) {\n    return item.previousElementSibling;\n  }\n  return list.lastChild;\n};\nconst moveFocus = (list, currentFocus, traversalFunction) => {\n  let wrappedOnce = false;\n  let nextFocus = traversalFunction(list, currentFocus);\n  while (nextFocus) {\n    // Prevent infinite loop.\n    if (nextFocus === list.firstChild) {\n      if (wrappedOnce) {\n        return;\n      }\n      wrappedOnce = true;\n    }\n\n    // Same logic as useAutocomplete.js\n    const nextFocusDisabled = nextFocus.disabled || nextFocus.getAttribute('aria-disabled') === 'true';\n    if (!nextFocus.hasAttribute('tabindex') || nextFocusDisabled) {\n      // Move to the next element.\n      nextFocus = traversalFunction(list, nextFocus);\n    } else {\n      nextFocus.focus();\n      return;\n    }\n  }\n};\nconst useUtilityClasses = ownerState => {\n  const {\n    vertical,\n    fixed,\n    hideScrollbar,\n    scrollableX,\n    scrollableY,\n    centered,\n    scrollButtonsHideMobile,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root', vertical && 'vertical'],\n    scroller: ['scroller', fixed && 'fixed', hideScrollbar && 'hideScrollbar', scrollableX && 'scrollableX', scrollableY && 'scrollableY'],\n    flexContainer: ['flexContainer', vertical && 'flexContainerVertical', centered && 'centered'],\n    indicator: ['indicator'],\n    scrollButtons: ['scrollButtons', scrollButtonsHideMobile && 'scrollButtonsHideMobile'],\n    scrollableX: [scrollableX && 'scrollableX'],\n    hideScrollbar: [hideScrollbar && 'hideScrollbar']\n  };\n  return composeClasses(slots, getTabsUtilityClass, classes);\n};\nconst TabsRoot = styled('div', {\n  name: 'MuiTabs',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [{\n      [`& .${tabsClasses.scrollButtons}`]: styles.scrollButtons\n    }, {\n      [`& .${tabsClasses.scrollButtons}`]: ownerState.scrollButtonsHideMobile && styles.scrollButtonsHideMobile\n    }, styles.root, ownerState.vertical && styles.vertical];\n  }\n})(({\n  ownerState,\n  theme\n}) => _extends({\n  overflow: 'hidden',\n  minHeight: 48,\n  // Add iOS momentum scrolling for iOS < 13.0\n  WebkitOverflowScrolling: 'touch',\n  display: 'flex'\n}, ownerState.vertical && {\n  flexDirection: 'column'\n}, ownerState.scrollButtonsHideMobile && {\n  [`& .${tabsClasses.scrollButtons}`]: {\n    [theme.breakpoints.down('sm')]: {\n      display: 'none'\n    }\n  }\n}));\nconst TabsScroller = styled('div', {\n  name: 'MuiTabs',\n  slot: 'Scroller',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.scroller, ownerState.fixed && styles.fixed, ownerState.hideScrollbar && styles.hideScrollbar, ownerState.scrollableX && styles.scrollableX, ownerState.scrollableY && styles.scrollableY];\n  }\n})(({\n  ownerState\n}) => _extends({\n  position: 'relative',\n  display: 'inline-block',\n  flex: '1 1 auto',\n  whiteSpace: 'nowrap'\n}, ownerState.fixed && {\n  overflowX: 'hidden',\n  width: '100%'\n}, ownerState.hideScrollbar && {\n  // Hide dimensionless scrollbar on macOS\n  scrollbarWidth: 'none',\n  // Firefox\n  '&::-webkit-scrollbar': {\n    display: 'none' // Safari + Chrome\n  }\n}, ownerState.scrollableX && {\n  overflowX: 'auto',\n  overflowY: 'hidden'\n}, ownerState.scrollableY && {\n  overflowY: 'auto',\n  overflowX: 'hidden'\n}));\nconst FlexContainer = styled('div', {\n  name: 'MuiTabs',\n  slot: 'FlexContainer',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.flexContainer, ownerState.vertical && styles.flexContainerVertical, ownerState.centered && styles.centered];\n  }\n})(({\n  ownerState\n}) => _extends({\n  display: 'flex'\n}, ownerState.vertical && {\n  flexDirection: 'column'\n}, ownerState.centered && {\n  justifyContent: 'center'\n}));\nconst TabsIndicator = styled('span', {\n  name: 'MuiTabs',\n  slot: 'Indicator',\n  overridesResolver: (props, styles) => styles.indicator\n})(({\n  ownerState,\n  theme\n}) => _extends({\n  position: 'absolute',\n  height: 2,\n  bottom: 0,\n  width: '100%',\n  transition: theme.transitions.create()\n}, ownerState.indicatorColor === 'primary' && {\n  backgroundColor: (theme.vars || theme).palette.primary.main\n}, ownerState.indicatorColor === 'secondary' && {\n  backgroundColor: (theme.vars || theme).palette.secondary.main\n}, ownerState.vertical && {\n  height: '100%',\n  width: 2,\n  right: 0\n}));\nconst TabsScrollbarSize = styled(ScrollbarSize)({\n  overflowX: 'auto',\n  overflowY: 'hidden',\n  // Hide dimensionless scrollbar on macOS\n  scrollbarWidth: 'none',\n  // Firefox\n  '&::-webkit-scrollbar': {\n    display: 'none' // Safari + Chrome\n  }\n});\nconst defaultIndicatorStyle = {};\nlet warnedOnceTabPresent = false;\nconst Tabs = /*#__PURE__*/React.forwardRef(function Tabs(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiTabs'\n  });\n  const theme = useTheme();\n  const isRtl = useRtl();\n  const {\n      'aria-label': ariaLabel,\n      'aria-labelledby': ariaLabelledBy,\n      action,\n      centered = false,\n      children: childrenProp,\n      className,\n      component = 'div',\n      allowScrollButtonsMobile = false,\n      indicatorColor = 'primary',\n      onChange,\n      orientation = 'horizontal',\n      ScrollButtonComponent = TabScrollButton,\n      scrollButtons = 'auto',\n      selectionFollowsFocus,\n      slots = {},\n      slotProps = {},\n      TabIndicatorProps = {},\n      TabScrollButtonProps = {},\n      textColor = 'primary',\n      value,\n      variant = 'standard',\n      visibleScrollbar = false\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const scrollable = variant === 'scrollable';\n  const vertical = orientation === 'vertical';\n  const scrollStart = vertical ? 'scrollTop' : 'scrollLeft';\n  const start = vertical ? 'top' : 'left';\n  const end = vertical ? 'bottom' : 'right';\n  const clientSize = vertical ? 'clientHeight' : 'clientWidth';\n  const size = vertical ? 'height' : 'width';\n  const ownerState = _extends({}, props, {\n    component,\n    allowScrollButtonsMobile,\n    indicatorColor,\n    orientation,\n    vertical,\n    scrollButtons,\n    textColor,\n    variant,\n    visibleScrollbar,\n    fixed: !scrollable,\n    hideScrollbar: scrollable && !visibleScrollbar,\n    scrollableX: scrollable && !vertical,\n    scrollableY: scrollable && vertical,\n    centered: centered && !scrollable,\n    scrollButtonsHideMobile: !allowScrollButtonsMobile\n  });\n  const classes = useUtilityClasses(ownerState);\n  const startScrollButtonIconProps = useSlotProps({\n    elementType: slots.StartScrollButtonIcon,\n    externalSlotProps: slotProps.startScrollButtonIcon,\n    ownerState\n  });\n  const endScrollButtonIconProps = useSlotProps({\n    elementType: slots.EndScrollButtonIcon,\n    externalSlotProps: slotProps.endScrollButtonIcon,\n    ownerState\n  });\n  if (process.env.NODE_ENV !== 'production') {\n    if (centered && scrollable) {\n      console.error('MUI: You can not use the `centered={true}` and `variant=\"scrollable\"` properties ' + 'at the same time on a `Tabs` component.');\n    }\n  }\n  const [mounted, setMounted] = React.useState(false);\n  const [indicatorStyle, setIndicatorStyle] = React.useState(defaultIndicatorStyle);\n  const [displayStartScroll, setDisplayStartScroll] = React.useState(false);\n  const [displayEndScroll, setDisplayEndScroll] = React.useState(false);\n  const [updateScrollObserver, setUpdateScrollObserver] = React.useState(false);\n  const [scrollerStyle, setScrollerStyle] = React.useState({\n    overflow: 'hidden',\n    scrollbarWidth: 0\n  });\n  const valueToIndex = new Map();\n  const tabsRef = React.useRef(null);\n  const tabListRef = React.useRef(null);\n  const getTabsMeta = () => {\n    const tabsNode = tabsRef.current;\n    let tabsMeta;\n    if (tabsNode) {\n      const rect = tabsNode.getBoundingClientRect();\n      // create a new object with ClientRect class props + scrollLeft\n      tabsMeta = {\n        clientWidth: tabsNode.clientWidth,\n        scrollLeft: tabsNode.scrollLeft,\n        scrollTop: tabsNode.scrollTop,\n        scrollLeftNormalized: getNormalizedScrollLeft(tabsNode, isRtl ? 'rtl' : 'ltr'),\n        scrollWidth: tabsNode.scrollWidth,\n        top: rect.top,\n        bottom: rect.bottom,\n        left: rect.left,\n        right: rect.right\n      };\n    }\n    let tabMeta;\n    if (tabsNode && value !== false) {\n      const children = tabListRef.current.children;\n      if (children.length > 0) {\n        const tab = children[valueToIndex.get(value)];\n        if (process.env.NODE_ENV !== 'production') {\n          if (!tab) {\n            console.error([`MUI: The \\`value\\` provided to the Tabs component is invalid.`, `None of the Tabs' children match with \"${value}\".`, valueToIndex.keys ? `You can provide one of the following values: ${Array.from(valueToIndex.keys()).join(', ')}.` : null].join('\\n'));\n          }\n        }\n        tabMeta = tab ? tab.getBoundingClientRect() : null;\n        if (process.env.NODE_ENV !== 'production') {\n          if (process.env.NODE_ENV !== 'test' && !warnedOnceTabPresent && tabMeta && tabMeta.width === 0 && tabMeta.height === 0 &&\n          // if the whole Tabs component is hidden, don't warn\n          tabsMeta.clientWidth !== 0) {\n            tabsMeta = null;\n            console.error(['MUI: The `value` provided to the Tabs component is invalid.', `The Tab with this \\`value\\` (\"${value}\") is not part of the document layout.`, \"Make sure the tab item is present in the document or that it's not `display: none`.\"].join('\\n'));\n            warnedOnceTabPresent = true;\n          }\n        }\n      }\n    }\n    return {\n      tabsMeta,\n      tabMeta\n    };\n  };\n  const updateIndicatorState = useEventCallback(() => {\n    const {\n      tabsMeta,\n      tabMeta\n    } = getTabsMeta();\n    let startValue = 0;\n    let startIndicator;\n    if (vertical) {\n      startIndicator = 'top';\n      if (tabMeta && tabsMeta) {\n        startValue = tabMeta.top - tabsMeta.top + tabsMeta.scrollTop;\n      }\n    } else {\n      startIndicator = isRtl ? 'right' : 'left';\n      if (tabMeta && tabsMeta) {\n        const correction = isRtl ? tabsMeta.scrollLeftNormalized + tabsMeta.clientWidth - tabsMeta.scrollWidth : tabsMeta.scrollLeft;\n        startValue = (isRtl ? -1 : 1) * (tabMeta[startIndicator] - tabsMeta[startIndicator] + correction);\n      }\n    }\n    const newIndicatorStyle = {\n      [startIndicator]: startValue,\n      // May be wrong until the font is loaded.\n      [size]: tabMeta ? tabMeta[size] : 0\n    };\n\n    // IE11 support, replace with Number.isNaN\n    // eslint-disable-next-line no-restricted-globals\n    if (isNaN(indicatorStyle[startIndicator]) || isNaN(indicatorStyle[size])) {\n      setIndicatorStyle(newIndicatorStyle);\n    } else {\n      const dStart = Math.abs(indicatorStyle[startIndicator] - newIndicatorStyle[startIndicator]);\n      const dSize = Math.abs(indicatorStyle[size] - newIndicatorStyle[size]);\n      if (dStart >= 1 || dSize >= 1) {\n        setIndicatorStyle(newIndicatorStyle);\n      }\n    }\n  });\n  const scroll = (scrollValue, {\n    animation = true\n  } = {}) => {\n    if (animation) {\n      animate(scrollStart, tabsRef.current, scrollValue, {\n        duration: theme.transitions.duration.standard\n      });\n    } else {\n      tabsRef.current[scrollStart] = scrollValue;\n    }\n  };\n  const moveTabsScroll = delta => {\n    let scrollValue = tabsRef.current[scrollStart];\n    if (vertical) {\n      scrollValue += delta;\n    } else {\n      scrollValue += delta * (isRtl ? -1 : 1);\n      // Fix for Edge\n      scrollValue *= isRtl && detectScrollType() === 'reverse' ? -1 : 1;\n    }\n    scroll(scrollValue);\n  };\n  const getScrollSize = () => {\n    const containerSize = tabsRef.current[clientSize];\n    let totalSize = 0;\n    const children = Array.from(tabListRef.current.children);\n    for (let i = 0; i < children.length; i += 1) {\n      const tab = children[i];\n      if (totalSize + tab[clientSize] > containerSize) {\n        // If the first item is longer than the container size, then only scroll\n        // by the container size.\n        if (i === 0) {\n          totalSize = containerSize;\n        }\n        break;\n      }\n      totalSize += tab[clientSize];\n    }\n    return totalSize;\n  };\n  const handleStartScrollClick = () => {\n    moveTabsScroll(-1 * getScrollSize());\n  };\n  const handleEndScrollClick = () => {\n    moveTabsScroll(getScrollSize());\n  };\n\n  // TODO Remove <ScrollbarSize /> as browser support for hiding the scrollbar\n  // with CSS improves.\n  const handleScrollbarSizeChange = React.useCallback(scrollbarWidth => {\n    setScrollerStyle({\n      overflow: null,\n      scrollbarWidth\n    });\n  }, []);\n  const getConditionalElements = () => {\n    const conditionalElements = {};\n    conditionalElements.scrollbarSizeListener = scrollable ? /*#__PURE__*/_jsx(TabsScrollbarSize, {\n      onChange: handleScrollbarSizeChange,\n      className: clsx(classes.scrollableX, classes.hideScrollbar)\n    }) : null;\n    const scrollButtonsActive = displayStartScroll || displayEndScroll;\n    const showScrollButtons = scrollable && (scrollButtons === 'auto' && scrollButtonsActive || scrollButtons === true);\n    conditionalElements.scrollButtonStart = showScrollButtons ? /*#__PURE__*/_jsx(ScrollButtonComponent, _extends({\n      slots: {\n        StartScrollButtonIcon: slots.StartScrollButtonIcon\n      },\n      slotProps: {\n        startScrollButtonIcon: startScrollButtonIconProps\n      },\n      orientation: orientation,\n      direction: isRtl ? 'right' : 'left',\n      onClick: handleStartScrollClick,\n      disabled: !displayStartScroll\n    }, TabScrollButtonProps, {\n      className: clsx(classes.scrollButtons, TabScrollButtonProps.className)\n    })) : null;\n    conditionalElements.scrollButtonEnd = showScrollButtons ? /*#__PURE__*/_jsx(ScrollButtonComponent, _extends({\n      slots: {\n        EndScrollButtonIcon: slots.EndScrollButtonIcon\n      },\n      slotProps: {\n        endScrollButtonIcon: endScrollButtonIconProps\n      },\n      orientation: orientation,\n      direction: isRtl ? 'left' : 'right',\n      onClick: handleEndScrollClick,\n      disabled: !displayEndScroll\n    }, TabScrollButtonProps, {\n      className: clsx(classes.scrollButtons, TabScrollButtonProps.className)\n    })) : null;\n    return conditionalElements;\n  };\n  const scrollSelectedIntoView = useEventCallback(animation => {\n    const {\n      tabsMeta,\n      tabMeta\n    } = getTabsMeta();\n    if (!tabMeta || !tabsMeta) {\n      return;\n    }\n    if (tabMeta[start] < tabsMeta[start]) {\n      // left side of button is out of view\n      const nextScrollStart = tabsMeta[scrollStart] + (tabMeta[start] - tabsMeta[start]);\n      scroll(nextScrollStart, {\n        animation\n      });\n    } else if (tabMeta[end] > tabsMeta[end]) {\n      // right side of button is out of view\n      const nextScrollStart = tabsMeta[scrollStart] + (tabMeta[end] - tabsMeta[end]);\n      scroll(nextScrollStart, {\n        animation\n      });\n    }\n  });\n  const updateScrollButtonState = useEventCallback(() => {\n    if (scrollable && scrollButtons !== false) {\n      setUpdateScrollObserver(!updateScrollObserver);\n    }\n  });\n  React.useEffect(() => {\n    const handleResize = debounce(() => {\n      // If the Tabs component is replaced by Suspense with a fallback, the last\n      // ResizeObserver's handler that runs because of the change in the layout is trying to\n      // access a dom node that is no longer there (as the fallback component is being shown instead).\n      // See https://github.com/mui/material-ui/issues/33276\n      // TODO: Add tests that will ensure the component is not failing when\n      // replaced by Suspense with a fallback, once React is updated to version 18\n      if (tabsRef.current) {\n        updateIndicatorState();\n      }\n    });\n    let resizeObserver;\n\n    /**\n     * @type {MutationCallback}\n     */\n    const handleMutation = records => {\n      records.forEach(record => {\n        record.removedNodes.forEach(item => {\n          var _resizeObserver;\n          (_resizeObserver = resizeObserver) == null || _resizeObserver.unobserve(item);\n        });\n        record.addedNodes.forEach(item => {\n          var _resizeObserver2;\n          (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.observe(item);\n        });\n      });\n      handleResize();\n      updateScrollButtonState();\n    };\n    const win = ownerWindow(tabsRef.current);\n    win.addEventListener('resize', handleResize);\n    let mutationObserver;\n    if (typeof ResizeObserver !== 'undefined') {\n      resizeObserver = new ResizeObserver(handleResize);\n      Array.from(tabListRef.current.children).forEach(child => {\n        resizeObserver.observe(child);\n      });\n    }\n    if (typeof MutationObserver !== 'undefined') {\n      mutationObserver = new MutationObserver(handleMutation);\n      mutationObserver.observe(tabListRef.current, {\n        childList: true\n      });\n    }\n    return () => {\n      var _mutationObserver, _resizeObserver3;\n      handleResize.clear();\n      win.removeEventListener('resize', handleResize);\n      (_mutationObserver = mutationObserver) == null || _mutationObserver.disconnect();\n      (_resizeObserver3 = resizeObserver) == null || _resizeObserver3.disconnect();\n    };\n  }, [updateIndicatorState, updateScrollButtonState]);\n\n  /**\n   * Toggle visibility of start and end scroll buttons\n   * Using IntersectionObserver on first and last Tabs.\n   */\n  React.useEffect(() => {\n    const tabListChildren = Array.from(tabListRef.current.children);\n    const length = tabListChildren.length;\n    if (typeof IntersectionObserver !== 'undefined' && length > 0 && scrollable && scrollButtons !== false) {\n      const firstTab = tabListChildren[0];\n      const lastTab = tabListChildren[length - 1];\n      const observerOptions = {\n        root: tabsRef.current,\n        threshold: 0.99\n      };\n      const handleScrollButtonStart = entries => {\n        setDisplayStartScroll(!entries[0].isIntersecting);\n      };\n      const firstObserver = new IntersectionObserver(handleScrollButtonStart, observerOptions);\n      firstObserver.observe(firstTab);\n      const handleScrollButtonEnd = entries => {\n        setDisplayEndScroll(!entries[0].isIntersecting);\n      };\n      const lastObserver = new IntersectionObserver(handleScrollButtonEnd, observerOptions);\n      lastObserver.observe(lastTab);\n      return () => {\n        firstObserver.disconnect();\n        lastObserver.disconnect();\n      };\n    }\n    return undefined;\n  }, [scrollable, scrollButtons, updateScrollObserver, childrenProp == null ? void 0 : childrenProp.length]);\n  React.useEffect(() => {\n    setMounted(true);\n  }, []);\n  React.useEffect(() => {\n    updateIndicatorState();\n  });\n  React.useEffect(() => {\n    // Don't animate on the first render.\n    scrollSelectedIntoView(defaultIndicatorStyle !== indicatorStyle);\n  }, [scrollSelectedIntoView, indicatorStyle]);\n  React.useImperativeHandle(action, () => ({\n    updateIndicator: updateIndicatorState,\n    updateScrollButtons: updateScrollButtonState\n  }), [updateIndicatorState, updateScrollButtonState]);\n  const indicator = /*#__PURE__*/_jsx(TabsIndicator, _extends({}, TabIndicatorProps, {\n    className: clsx(classes.indicator, TabIndicatorProps.className),\n    ownerState: ownerState,\n    style: _extends({}, indicatorStyle, TabIndicatorProps.style)\n  }));\n  let childIndex = 0;\n  const children = React.Children.map(childrenProp, child => {\n    if (! /*#__PURE__*/React.isValidElement(child)) {\n      return null;\n    }\n    if (process.env.NODE_ENV !== 'production') {\n      if (isFragment(child)) {\n        console.error([\"MUI: The Tabs component doesn't accept a Fragment as a child.\", 'Consider providing an array instead.'].join('\\n'));\n      }\n    }\n    const childValue = child.props.value === undefined ? childIndex : child.props.value;\n    valueToIndex.set(childValue, childIndex);\n    const selected = childValue === value;\n    childIndex += 1;\n    return /*#__PURE__*/React.cloneElement(child, _extends({\n      fullWidth: variant === 'fullWidth',\n      indicator: selected && !mounted && indicator,\n      selected,\n      selectionFollowsFocus,\n      onChange,\n      textColor,\n      value: childValue\n    }, childIndex === 1 && value === false && !child.props.tabIndex ? {\n      tabIndex: 0\n    } : {}));\n  });\n  const handleKeyDown = event => {\n    const list = tabListRef.current;\n    const currentFocus = ownerDocument(list).activeElement;\n    // Keyboard navigation assumes that [role=\"tab\"] are siblings\n    // though we might warn in the future about nested, interactive elements\n    // as a a11y violation\n    const role = currentFocus.getAttribute('role');\n    if (role !== 'tab') {\n      return;\n    }\n    let previousItemKey = orientation === 'horizontal' ? 'ArrowLeft' : 'ArrowUp';\n    let nextItemKey = orientation === 'horizontal' ? 'ArrowRight' : 'ArrowDown';\n    if (orientation === 'horizontal' && isRtl) {\n      // swap previousItemKey with nextItemKey\n      previousItemKey = 'ArrowRight';\n      nextItemKey = 'ArrowLeft';\n    }\n    switch (event.key) {\n      case previousItemKey:\n        event.preventDefault();\n        moveFocus(list, currentFocus, previousItem);\n        break;\n      case nextItemKey:\n        event.preventDefault();\n        moveFocus(list, currentFocus, nextItem);\n        break;\n      case 'Home':\n        event.preventDefault();\n        moveFocus(list, null, nextItem);\n        break;\n      case 'End':\n        event.preventDefault();\n        moveFocus(list, null, previousItem);\n        break;\n      default:\n        break;\n    }\n  };\n  const conditionalElements = getConditionalElements();\n  return /*#__PURE__*/_jsxs(TabsRoot, _extends({\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref,\n    as: component\n  }, other, {\n    children: [conditionalElements.scrollButtonStart, conditionalElements.scrollbarSizeListener, /*#__PURE__*/_jsxs(TabsScroller, {\n      className: classes.scroller,\n      ownerState: ownerState,\n      style: {\n        overflow: scrollerStyle.overflow,\n        [vertical ? `margin${isRtl ? 'Left' : 'Right'}` : 'marginBottom']: visibleScrollbar ? undefined : -scrollerStyle.scrollbarWidth\n      },\n      ref: tabsRef,\n      children: [/*#__PURE__*/_jsx(FlexContainer, {\n        \"aria-label\": ariaLabel,\n        \"aria-labelledby\": ariaLabelledBy,\n        \"aria-orientation\": orientation === 'vertical' ? 'vertical' : null,\n        className: classes.flexContainer,\n        ownerState: ownerState,\n        onKeyDown: handleKeyDown,\n        ref: tabListRef,\n        role: \"tablist\",\n        children: children\n      }), mounted && indicator]\n    }), conditionalElements.scrollButtonEnd]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Tabs.propTypes /* remove-proptypes */ = {\n  //  Warning \n  //  These PropTypes are generated from the TypeScript type definitions. \n  //     To update them, edit the d.ts file and run `pnpm proptypes`.     \n  // \n  /**\n   * Callback fired when the component mounts.\n   * This is useful when you want to trigger an action programmatically.\n   * It supports two actions: `updateIndicator()` and `updateScrollButtons()`\n   *\n   * @param {object} actions This object contains all possible actions\n   * that can be triggered programmatically.\n   */\n  action: refType,\n  /**\n   * If `true`, the scroll buttons aren't forced hidden on mobile.\n   * By default the scroll buttons are hidden on mobile and takes precedence over `scrollButtons`.\n   * @default false\n   */\n  allowScrollButtonsMobile: PropTypes.bool,\n  /**\n   * The label for the Tabs as a string.\n   */\n  'aria-label': PropTypes.string,\n  /**\n   * An id or list of ids separated by a space that label the Tabs.\n   */\n  'aria-labelledby': PropTypes.string,\n  /**\n   * If `true`, the tabs are centered.\n   * This prop is intended for large views.\n   * @default false\n   */\n  centered: PropTypes.bool,\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * Determines the color of the indicator.\n   * @default 'primary'\n   */\n  indicatorColor: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['primary', 'secondary']), PropTypes.string]),\n  /**\n   * Callback fired when the value changes.\n   *\n   * @param {React.SyntheticEvent} event The event source of the callback. **Warning**: This is a generic event not a change event.\n   * @param {any} value We default to the index of the child (number)\n   */\n  onChange: PropTypes.func,\n  /**\n   * The component orientation (layout flow direction).\n   * @default 'horizontal'\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']),\n  /**\n   * The component used to render the scroll buttons.\n   * @default TabScrollButton\n   */\n  ScrollButtonComponent: PropTypes.elementType,\n  /**\n   * Determine behavior of scroll buttons when tabs are set to scroll:\n   *\n   * - `auto` will only present them when not all the items are visible.\n   * - `true` will always present them.\n   * - `false` will never present them.\n   *\n   * By default the scroll buttons are hidden on mobile.\n   * This behavior can be disabled with `allowScrollButtonsMobile`.\n   * @default 'auto'\n   */\n  scrollButtons: PropTypes /* @typescript-to-proptypes-ignore */.oneOf(['auto', false, true]),\n  /**\n   * If `true` the selected tab changes on focus. Otherwise it only\n   * changes on activation.\n   */\n  selectionFollowsFocus: PropTypes.bool,\n  /**\n   * The extra props for the slot components.\n   * You can override the existing props or add new ones.\n   * @default {}\n   */\n  slotProps: PropTypes.shape({\n    endScrollButtonIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n    startScrollButtonIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.object])\n  }),\n  /**\n   * The components used for each slot inside.\n   * @default {}\n   */\n  slots: PropTypes.shape({\n    EndScrollButtonIcon: PropTypes.elementType,\n    StartScrollButtonIcon: PropTypes.elementType\n  }),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * Props applied to the tab indicator element.\n   * @default  {}\n   */\n  TabIndicatorProps: PropTypes.object,\n  /**\n   * Props applied to the [`TabScrollButton`](/material-ui/api/tab-scroll-button/) element.\n   * @default {}\n   */\n  TabScrollButtonProps: PropTypes.object,\n  /**\n   * Determines the color of the `Tab`.\n   * @default 'primary'\n   */\n  textColor: PropTypes.oneOf(['inherit', 'primary', 'secondary']),\n  /**\n   * The value of the currently selected `Tab`.\n   * If you don't want any selected `Tab`, you can set this prop to `false`.\n   */\n  value: PropTypes.any,\n  /**\n   * Determines additional display behavior of the tabs:\n   *\n   *  - `scrollable` will invoke scrolling properties and allow for horizontally\n   *  scrolling (or swiping) of the tab bar.\n   *  - `fullWidth` will make the tabs grow to use all the available space,\n   *  which should be used for small views, like on mobile.\n   *  - `standard` will render the default state.\n   * @default 'standard'\n   */\n  variant: PropTypes.oneOf(['fullWidth', 'scrollable', 'standard']),\n  /**\n   * If `true`, the scrollbar is visible. It can be useful when displaying\n   * a long vertical list of tabs.\n   * @default false\n   */\n  visibleScrollbar: PropTypes.bool\n} : void 0;\nexport default Tabs;","'use client';\n\nimport * as React from 'react';\nimport { useTheme as useThemeSystem } from '@mui/system';\nimport defaultTheme from './defaultTheme';\nimport THEME_ID from './identifier';\nexport default function useTheme() {\n  const theme = useThemeSystem(defaultTheme);\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useDebugValue(theme);\n  }\n  return theme[THEME_ID] || theme;\n}","/**\n * @license React\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var b=Symbol.for(\"react.element\"),c=Symbol.for(\"react.portal\"),d=Symbol.for(\"react.fragment\"),e=Symbol.for(\"react.strict_mode\"),f=Symbol.for(\"react.profiler\"),g=Symbol.for(\"react.provider\"),h=Symbol.for(\"react.context\"),k=Symbol.for(\"react.server_context\"),l=Symbol.for(\"react.forward_ref\"),m=Symbol.for(\"react.suspense\"),n=Symbol.for(\"react.suspense_list\"),p=Symbol.for(\"react.memo\"),q=Symbol.for(\"react.lazy\"),t=Symbol.for(\"react.offscreen\"),u;u=Symbol.for(\"react.module.reference\");\nfunction v(a){if(\"object\"===typeof a&&null!==a){var r=a.$$typeof;switch(r){case b:switch(a=a.type,a){case d:case f:case e:case m:case n:return a;default:switch(a=a&&a.$$typeof,a){case k:case h:case l:case q:case p:case g:return a;default:return r}}case c:return r}}}exports.ContextConsumer=h;exports.ContextProvider=g;exports.Element=b;exports.ForwardRef=l;exports.Fragment=d;exports.Lazy=q;exports.Memo=p;exports.Portal=c;exports.Profiler=f;exports.StrictMode=e;exports.Suspense=m;\nexports.SuspenseList=n;exports.isAsyncMode=function(){return!1};exports.isConcurrentMode=function(){return!1};exports.isContextConsumer=function(a){return v(a)===h};exports.isContextProvider=function(a){return v(a)===g};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===b};exports.isForwardRef=function(a){return v(a)===l};exports.isFragment=function(a){return v(a)===d};exports.isLazy=function(a){return v(a)===q};exports.isMemo=function(a){return v(a)===p};\nexports.isPortal=function(a){return v(a)===c};exports.isProfiler=function(a){return v(a)===f};exports.isStrictMode=function(a){return v(a)===e};exports.isSuspense=function(a){return v(a)===m};exports.isSuspenseList=function(a){return v(a)===n};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===d||a===f||a===e||a===m||a===n||a===t||\"object\"===typeof a&&null!==a&&(a.$$typeof===q||a.$$typeof===p||a.$$typeof===g||a.$$typeof===h||a.$$typeof===l||a.$$typeof===u||void 0!==a.getModuleId)?!0:!1};exports.typeOf=v;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nexport default function createMixins(breakpoints, mixins) {\n  return _extends({\n    toolbar: {\n      minHeight: 56,\n      [breakpoints.up('xs')]: {\n        '@media (orientation: landscape)': {\n          minHeight: 48\n        }\n      },\n      [breakpoints.up('sm')]: {\n        minHeight: 64\n      }\n    }\n  }, mixins);\n}","const common = {\n  black: '#000',\n  white: '#fff'\n};\nexport default common;","const grey = {\n  50: '#fafafa',\n  100: '#f5f5f5',\n  200: '#eeeeee',\n  300: '#e0e0e0',\n  400: '#bdbdbd',\n  500: '#9e9e9e',\n  600: '#757575',\n  700: '#616161',\n  800: '#424242',\n  900: '#212121',\n  A100: '#f5f5f5',\n  A200: '#eeeeee',\n  A400: '#bdbdbd',\n  A700: '#616161'\n};\nexport default grey;","const purple = {\n  50: '#f3e5f5',\n  100: '#e1bee7',\n  200: '#ce93d8',\n  300: '#ba68c8',\n  400: '#ab47bc',\n  500: '#9c27b0',\n  600: '#8e24aa',\n  700: '#7b1fa2',\n  800: '#6a1b9a',\n  900: '#4a148c',\n  A100: '#ea80fc',\n  A200: '#e040fb',\n  A400: '#d500f9',\n  A700: '#aa00ff'\n};\nexport default purple;","const red = {\n  50: '#ffebee',\n  100: '#ffcdd2',\n  200: '#ef9a9a',\n  300: '#e57373',\n  400: '#ef5350',\n  500: '#f44336',\n  600: '#e53935',\n  700: '#d32f2f',\n  800: '#c62828',\n  900: '#b71c1c',\n  A100: '#ff8a80',\n  A200: '#ff5252',\n  A400: '#ff1744',\n  A700: '#d50000'\n};\nexport default red;","const orange = {\n  50: '#fff3e0',\n  100: '#ffe0b2',\n  200: '#ffcc80',\n  300: '#ffb74d',\n  400: '#ffa726',\n  500: '#ff9800',\n  600: '#fb8c00',\n  700: '#f57c00',\n  800: '#ef6c00',\n  900: '#e65100',\n  A100: '#ffd180',\n  A200: '#ffab40',\n  A400: '#ff9100',\n  A700: '#ff6d00'\n};\nexport default orange;","const blue = {\n  50: '#e3f2fd',\n  100: '#bbdefb',\n  200: '#90caf9',\n  300: '#64b5f6',\n  400: '#42a5f5',\n  500: '#2196f3',\n  600: '#1e88e5',\n  700: '#1976d2',\n  800: '#1565c0',\n  900: '#0d47a1',\n  A100: '#82b1ff',\n  A200: '#448aff',\n  A400: '#2979ff',\n  A700: '#2962ff'\n};\nexport default blue;","const lightBlue = {\n  50: '#e1f5fe',\n  100: '#b3e5fc',\n  200: '#81d4fa',\n  300: '#4fc3f7',\n  400: '#29b6f6',\n  500: '#03a9f4',\n  600: '#039be5',\n  700: '#0288d1',\n  800: '#0277bd',\n  900: '#01579b',\n  A100: '#80d8ff',\n  A200: '#40c4ff',\n  A400: '#00b0ff',\n  A700: '#0091ea'\n};\nexport default lightBlue;","const green = {\n  50: '#e8f5e9',\n  100: '#c8e6c9',\n  200: '#a5d6a7',\n  300: '#81c784',\n  400: '#66bb6a',\n  500: '#4caf50',\n  600: '#43a047',\n  700: '#388e3c',\n  800: '#2e7d32',\n  900: '#1b5e20',\n  A100: '#b9f6ca',\n  A200: '#69f0ae',\n  A400: '#00e676',\n  A700: '#00c853'\n};\nexport default green;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _formatMuiErrorMessage from \"@mui/utils/formatMuiErrorMessage\";\nconst _excluded = [\"mode\", \"contrastThreshold\", \"tonalOffset\"];\nimport deepmerge from '@mui/utils/deepmerge';\nimport { darken, getContrastRatio, lighten } from '@mui/system/colorManipulator';\nimport common from '../colors/common';\nimport grey from '../colors/grey';\nimport purple from '../colors/purple';\nimport red from '../colors/red';\nimport orange from '../colors/orange';\nimport blue from '../colors/blue';\nimport lightBlue from '../colors/lightBlue';\nimport green from '../colors/green';\nexport const light = {\n  // The colors used to style the text.\n  text: {\n    // The most important text.\n    primary: 'rgba(0, 0, 0, 0.87)',\n    // Secondary text.\n    secondary: 'rgba(0, 0, 0, 0.6)',\n    // Disabled text have even lower visual prominence.\n    disabled: 'rgba(0, 0, 0, 0.38)'\n  },\n  // The color used to divide different elements.\n  divider: 'rgba(0, 0, 0, 0.12)',\n  // The background colors used to style the surfaces.\n  // Consistency between these values is important.\n  background: {\n    paper: common.white,\n    default: common.white\n  },\n  // The colors used to style the action elements.\n  action: {\n    // The color of an active action like an icon button.\n    active: 'rgba(0, 0, 0, 0.54)',\n    // The color of an hovered action.\n    hover: 'rgba(0, 0, 0, 0.04)',\n    hoverOpacity: 0.04,\n    // The color of a selected action.\n    selected: 'rgba(0, 0, 0, 0.08)',\n    selectedOpacity: 0.08,\n    // The color of a disabled action.\n    disabled: 'rgba(0, 0, 0, 0.26)',\n    // The background color of a disabled action.\n    disabledBackground: 'rgba(0, 0, 0, 0.12)',\n    disabledOpacity: 0.38,\n    focus: 'rgba(0, 0, 0, 0.12)',\n    focusOpacity: 0.12,\n    activatedOpacity: 0.12\n  }\n};\nexport const dark = {\n  text: {\n    primary: common.white,\n    secondary: 'rgba(255, 255, 255, 0.7)',\n    disabled: 'rgba(255, 255, 255, 0.5)',\n    icon: 'rgba(255, 255, 255, 0.5)'\n  },\n  divider: 'rgba(255, 255, 255, 0.12)',\n  background: {\n    paper: '#121212',\n    default: '#121212'\n  },\n  action: {\n    active: common.white,\n    hover: 'rgba(255, 255, 255, 0.08)',\n    hoverOpacity: 0.08,\n    selected: 'rgba(255, 255, 255, 0.16)',\n    selectedOpacity: 0.16,\n    disabled: 'rgba(255, 255, 255, 0.3)',\n    disabledBackground: 'rgba(255, 255, 255, 0.12)',\n    disabledOpacity: 0.38,\n    focus: 'rgba(255, 255, 255, 0.12)',\n    focusOpacity: 0.12,\n    activatedOpacity: 0.24\n  }\n};\nfunction addLightOrDark(intent, direction, shade, tonalOffset) {\n  const tonalOffsetLight = tonalOffset.light || tonalOffset;\n  const tonalOffsetDark = tonalOffset.dark || tonalOffset * 1.5;\n  if (!intent[direction]) {\n    if (intent.hasOwnProperty(shade)) {\n      intent[direction] = intent[shade];\n    } else if (direction === 'light') {\n      intent.light = lighten(intent.main, tonalOffsetLight);\n    } else if (direction === 'dark') {\n      intent.dark = darken(intent.main, tonalOffsetDark);\n    }\n  }\n}\nfunction getDefaultPrimary(mode = 'light') {\n  if (mode === 'dark') {\n    return {\n      main: blue[200],\n      light: blue[50],\n      dark: blue[400]\n    };\n  }\n  return {\n    main: blue[700],\n    light: blue[400],\n    dark: blue[800]\n  };\n}\nfunction getDefaultSecondary(mode = 'light') {\n  if (mode === 'dark') {\n    return {\n      main: purple[200],\n      light: purple[50],\n      dark: purple[400]\n    };\n  }\n  return {\n    main: purple[500],\n    light: purple[300],\n    dark: purple[700]\n  };\n}\nfunction getDefaultError(mode = 'light') {\n  if (mode === 'dark') {\n    return {\n      main: red[500],\n      light: red[300],\n      dark: red[700]\n    };\n  }\n  return {\n    main: red[700],\n    light: red[400],\n    dark: red[800]\n  };\n}\nfunction getDefaultInfo(mode = 'light') {\n  if (mode === 'dark') {\n    return {\n      main: lightBlue[400],\n      light: lightBlue[300],\n      dark: lightBlue[700]\n    };\n  }\n  return {\n    main: lightBlue[700],\n    light: lightBlue[500],\n    dark: lightBlue[900]\n  };\n}\nfunction getDefaultSuccess(mode = 'light') {\n  if (mode === 'dark') {\n    return {\n      main: green[400],\n      light: green[300],\n      dark: green[700]\n    };\n  }\n  return {\n    main: green[800],\n    light: green[500],\n    dark: green[900]\n  };\n}\nfunction getDefaultWarning(mode = 'light') {\n  if (mode === 'dark') {\n    return {\n      main: orange[400],\n      light: orange[300],\n      dark: orange[700]\n    };\n  }\n  return {\n    main: '#ed6c02',\n    // closest to orange[800] that pass 3:1.\n    light: orange[500],\n    dark: orange[900]\n  };\n}\nexport default function createPalette(palette) {\n  const {\n      mode = 'light',\n      contrastThreshold = 3,\n      tonalOffset = 0.2\n    } = palette,\n    other = _objectWithoutPropertiesLoose(palette, _excluded);\n  const primary = palette.primary || getDefaultPrimary(mode);\n  const secondary = palette.secondary || getDefaultSecondary(mode);\n  const error = palette.error || getDefaultError(mode);\n  const info = palette.info || getDefaultInfo(mode);\n  const success = palette.success || getDefaultSuccess(mode);\n  const warning = palette.warning || getDefaultWarning(mode);\n\n  // Use the same logic as\n  // Bootstrap: https://github.com/twbs/bootstrap/blob/1d6e3710dd447de1a200f29e8fa521f8a0908f70/scss/_functions.scss#L59\n  // and material-components-web https://github.com/material-components/material-components-web/blob/ac46b8863c4dab9fc22c4c662dc6bd1b65dd652f/packages/mdc-theme/_functions.scss#L54\n  function getContrastText(background) {\n    const contrastText = getContrastRatio(background, dark.text.primary) >= contrastThreshold ? dark.text.primary : light.text.primary;\n    if (process.env.NODE_ENV !== 'production') {\n      const contrast = getContrastRatio(background, contrastText);\n      if (contrast < 3) {\n        console.error([`MUI: The contrast ratio of ${contrast}:1 for ${contrastText} on ${background}`, 'falls below the WCAG recommended absolute minimum contrast ratio of 3:1.', 'https://www.w3.org/TR/2008/REC-WCAG20-20081211/#visual-audio-contrast-contrast'].join('\\n'));\n      }\n    }\n    return contrastText;\n  }\n  const augmentColor = ({\n    color,\n    name,\n    mainShade = 500,\n    lightShade = 300,\n    darkShade = 700\n  }) => {\n    color = _extends({}, color);\n    if (!color.main && color[mainShade]) {\n      color.main = color[mainShade];\n    }\n    if (!color.hasOwnProperty('main')) {\n      throw new Error(process.env.NODE_ENV !== \"production\" ? `MUI: The color${name ? ` (${name})` : ''} provided to augmentColor(color) is invalid.\nThe color object needs to have a \\`main\\` property or a \\`${mainShade}\\` property.` : _formatMuiErrorMessage(11, name ? ` (${name})` : '', mainShade));\n    }\n    if (typeof color.main !== 'string') {\n      throw new Error(process.env.NODE_ENV !== \"production\" ? `MUI: The color${name ? ` (${name})` : ''} provided to augmentColor(color) is invalid.\n\\`color.main\\` should be a string, but \\`${JSON.stringify(color.main)}\\` was provided instead.\n\nDid you intend to use one of the following approaches?\n\nimport { green } from \"@mui/material/colors\";\n\nconst theme1 = createTheme({ palette: {\n  primary: green,\n} });\n\nconst theme2 = createTheme({ palette: {\n  primary: { main: green[500] },\n} });` : _formatMuiErrorMessage(12, name ? ` (${name})` : '', JSON.stringify(color.main)));\n    }\n    addLightOrDark(color, 'light', lightShade, tonalOffset);\n    addLightOrDark(color, 'dark', darkShade, tonalOffset);\n    if (!color.contrastText) {\n      color.contrastText = getContrastText(color.main);\n    }\n    return color;\n  };\n  const modes = {\n    dark,\n    light\n  };\n  if (process.env.NODE_ENV !== 'production') {\n    if (!modes[mode]) {\n      console.error(`MUI: The palette mode \\`${mode}\\` is not supported.`);\n    }\n  }\n  const paletteOutput = deepmerge(_extends({\n    // A collection of common colors.\n    common: _extends({}, common),\n    // prevent mutable object.\n    // The palette mode, can be light or dark.\n    mode,\n    // The colors used to represent primary interface elements for a user.\n    primary: augmentColor({\n      color: primary,\n      name: 'primary'\n    }),\n    // The colors used to represent secondary interface elements for a user.\n    secondary: augmentColor({\n      color: secondary,\n      name: 'secondary',\n      mainShade: 'A400',\n      lightShade: 'A200',\n      darkShade: 'A700'\n    }),\n    // The colors used to represent interface elements that the user should be made aware of.\n    error: augmentColor({\n      color: error,\n      name: 'error'\n    }),\n    // The colors used to represent potentially dangerous actions or important messages.\n    warning: augmentColor({\n      color: warning,\n      name: 'warning'\n    }),\n    // The colors used to present information to the user that is neutral and not necessarily important.\n    info: augmentColor({\n      color: info,\n      name: 'info'\n    }),\n    // The colors used to indicate the successful completion of an action that user triggered.\n    success: augmentColor({\n      color: success,\n      name: 'success'\n    }),\n    // The grey colors.\n    grey,\n    // Used by `getContrastText()` to maximize the contrast between\n    // the background and the text.\n    contrastThreshold,\n    // Takes a background color and returns the text color that maximizes the contrast.\n    getContrastText,\n    // Generate a rich color object.\n    augmentColor,\n    // Used by the functions below to shift a color's luminance by approximately\n    // two indexes within its tonal palette.\n    // E.g., shift from Red 500 to Red 300 or Red 700.\n    tonalOffset\n  }, modes[mode]), other);\n  return paletteOutput;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"fontFamily\", \"fontSize\", \"fontWeightLight\", \"fontWeightRegular\", \"fontWeightMedium\", \"fontWeightBold\", \"htmlFontSize\", \"allVariants\", \"pxToRem\"];\nimport deepmerge from '@mui/utils/deepmerge';\nfunction round(value) {\n  return Math.round(value * 1e5) / 1e5;\n}\nconst caseAllCaps = {\n  textTransform: 'uppercase'\n};\nconst defaultFontFamily = '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif';\n\n/**\n * @see @link{https://m2.material.io/design/typography/the-type-system.html}\n * @see @link{https://m2.material.io/design/typography/understanding-typography.html}\n */\nexport default function createTypography(palette, typography) {\n  const _ref = typeof typography === 'function' ? typography(palette) : typography,\n    {\n      fontFamily = defaultFontFamily,\n      // The default font size of the Material Specification.\n      fontSize = 14,\n      // px\n      fontWeightLight = 300,\n      fontWeightRegular = 400,\n      fontWeightMedium = 500,\n      fontWeightBold = 700,\n      // Tell MUI what's the font-size on the html element.\n      // 16px is the default font-size used by browsers.\n      htmlFontSize = 16,\n      // Apply the CSS properties to all the variants.\n      allVariants,\n      pxToRem: pxToRem2\n    } = _ref,\n    other = _objectWithoutPropertiesLoose(_ref, _excluded);\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof fontSize !== 'number') {\n      console.error('MUI: `fontSize` is required to be a number.');\n    }\n    if (typeof htmlFontSize !== 'number') {\n      console.error('MUI: `htmlFontSize` is required to be a number.');\n    }\n  }\n  const coef = fontSize / 14;\n  const pxToRem = pxToRem2 || (size => `${size / htmlFontSize * coef}rem`);\n  const buildVariant = (fontWeight, size, lineHeight, letterSpacing, casing) => _extends({\n    fontFamily,\n    fontWeight,\n    fontSize: pxToRem(size),\n    // Unitless following https://meyerweb.com/eric/thoughts/2006/02/08/unitless-line-heights/\n    lineHeight\n  }, fontFamily === defaultFontFamily ? {\n    letterSpacing: `${round(letterSpacing / size)}em`\n  } : {}, casing, allVariants);\n  const variants = {\n    h1: buildVariant(fontWeightLight, 96, 1.167, -1.5),\n    h2: buildVariant(fontWeightLight, 60, 1.2, -0.5),\n    h3: buildVariant(fontWeightRegular, 48, 1.167, 0),\n    h4: buildVariant(fontWeightRegular, 34, 1.235, 0.25),\n    h5: buildVariant(fontWeightRegular, 24, 1.334, 0),\n    h6: buildVariant(fontWeightMedium, 20, 1.6, 0.15),\n    subtitle1: buildVariant(fontWeightRegular, 16, 1.75, 0.15),\n    subtitle2: buildVariant(fontWeightMedium, 14, 1.57, 0.1),\n    body1: buildVariant(fontWeightRegular, 16, 1.5, 0.15),\n    body2: buildVariant(fontWeightRegular, 14, 1.43, 0.15),\n    button: buildVariant(fontWeightMedium, 14, 1.75, 0.4, caseAllCaps),\n    caption: buildVariant(fontWeightRegular, 12, 1.66, 0.4),\n    overline: buildVariant(fontWeightRegular, 12, 2.66, 1, caseAllCaps),\n    // TODO v6: Remove handling of 'inherit' variant from the theme as it is already handled in Material UI's Typography component. Also, remember to remove the associated types.\n    inherit: {\n      fontFamily: 'inherit',\n      fontWeight: 'inherit',\n      fontSize: 'inherit',\n      lineHeight: 'inherit',\n      letterSpacing: 'inherit'\n    }\n  };\n  return deepmerge(_extends({\n    htmlFontSize,\n    pxToRem,\n    fontFamily,\n    fontSize,\n    fontWeightLight,\n    fontWeightRegular,\n    fontWeightMedium,\n    fontWeightBold\n  }, variants), other, {\n    clone: false // No need to clone deep\n  });\n}","const shadowKeyUmbraOpacity = 0.2;\nconst shadowKeyPenumbraOpacity = 0.14;\nconst shadowAmbientShadowOpacity = 0.12;\nfunction createShadow(...px) {\n  return [`${px[0]}px ${px[1]}px ${px[2]}px ${px[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity})`, `${px[4]}px ${px[5]}px ${px[6]}px ${px[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity})`, `${px[8]}px ${px[9]}px ${px[10]}px ${px[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity})`].join(',');\n}\n\n// Values from https://github.com/material-components/material-components-web/blob/be8747f94574669cb5e7add1a7c54fa41a89cec7/packages/mdc-elevation/_variables.scss\nconst shadows = ['none', createShadow(0, 2, 1, -1, 0, 1, 1, 0, 0, 1, 3, 0), createShadow(0, 3, 1, -2, 0, 2, 2, 0, 0, 1, 5, 0), createShadow(0, 3, 3, -2, 0, 3, 4, 0, 0, 1, 8, 0), createShadow(0, 2, 4, -1, 0, 4, 5, 0, 0, 1, 10, 0), createShadow(0, 3, 5, -1, 0, 5, 8, 0, 0, 1, 14, 0), createShadow(0, 3, 5, -1, 0, 6, 10, 0, 0, 1, 18, 0), createShadow(0, 4, 5, -2, 0, 7, 10, 1, 0, 2, 16, 1), createShadow(0, 5, 5, -3, 0, 8, 10, 1, 0, 3, 14, 2), createShadow(0, 5, 6, -3, 0, 9, 12, 1, 0, 3, 16, 2), createShadow(0, 6, 6, -3, 0, 10, 14, 1, 0, 4, 18, 3), createShadow(0, 6, 7, -4, 0, 11, 15, 1, 0, 4, 20, 3), createShadow(0, 7, 8, -4, 0, 12, 17, 2, 0, 5, 22, 4), createShadow(0, 7, 8, -4, 0, 13, 19, 2, 0, 5, 24, 4), createShadow(0, 7, 9, -4, 0, 14, 21, 2, 0, 5, 26, 4), createShadow(0, 8, 9, -5, 0, 15, 22, 2, 0, 6, 28, 5), createShadow(0, 8, 10, -5, 0, 16, 24, 2, 0, 6, 30, 5), createShadow(0, 8, 11, -5, 0, 17, 26, 2, 0, 6, 32, 5), createShadow(0, 9, 11, -5, 0, 18, 28, 2, 0, 7, 34, 6), createShadow(0, 9, 12, -6, 0, 19, 29, 2, 0, 7, 36, 6), createShadow(0, 10, 13, -6, 0, 20, 31, 3, 0, 8, 38, 7), createShadow(0, 10, 13, -6, 0, 21, 33, 3, 0, 8, 40, 7), createShadow(0, 10, 14, -6, 0, 22, 35, 3, 0, 8, 42, 7), createShadow(0, 11, 14, -7, 0, 23, 36, 3, 0, 9, 44, 8), createShadow(0, 11, 15, -7, 0, 24, 38, 3, 0, 9, 46, 8)];\nexport default shadows;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"duration\", \"easing\", \"delay\"];\n// Follow https://material.google.com/motion/duration-easing.html#duration-easing-natural-easing-curves\n// to learn the context in which each easing should be used.\nexport const easing = {\n  // This is the most common easing curve.\n  easeInOut: 'cubic-bezier(0.4, 0, 0.2, 1)',\n  // Objects enter the screen at full velocity from off-screen and\n  // slowly decelerate to a resting point.\n  easeOut: 'cubic-bezier(0.0, 0, 0.2, 1)',\n  // Objects leave the screen at full velocity. They do not decelerate when off-screen.\n  easeIn: 'cubic-bezier(0.4, 0, 1, 1)',\n  // The sharp curve is used by objects that may return to the screen at any time.\n  sharp: 'cubic-bezier(0.4, 0, 0.6, 1)'\n};\n\n// Follow https://m2.material.io/guidelines/motion/duration-easing.html#duration-easing-common-durations\n// to learn when use what timing\nexport const duration = {\n  shortest: 150,\n  shorter: 200,\n  short: 250,\n  // most basic recommended timing\n  standard: 300,\n  // this is to be used in complex animations\n  complex: 375,\n  // recommended when something is entering screen\n  enteringScreen: 225,\n  // recommended when something is leaving screen\n  leavingScreen: 195\n};\nfunction formatMs(milliseconds) {\n  return `${Math.round(milliseconds)}ms`;\n}\nfunction getAutoHeightDuration(height) {\n  if (!height) {\n    return 0;\n  }\n  const constant = height / 36;\n\n  // https://www.wolframalpha.com/input/?i=(4+%2B+15+*+(x+%2F+36+)+**+0.25+%2B+(x+%2F+36)+%2F+5)+*+10\n  return Math.round((4 + 15 * constant ** 0.25 + constant / 5) * 10);\n}\nexport default function createTransitions(inputTransitions) {\n  const mergedEasing = _extends({}, easing, inputTransitions.easing);\n  const mergedDuration = _extends({}, duration, inputTransitions.duration);\n  const create = (props = ['all'], options = {}) => {\n    const {\n        duration: durationOption = mergedDuration.standard,\n        easing: easingOption = mergedEasing.easeInOut,\n        delay = 0\n      } = options,\n      other = _objectWithoutPropertiesLoose(options, _excluded);\n    if (process.env.NODE_ENV !== 'production') {\n      const isString = value => typeof value === 'string';\n      // IE11 support, replace with Number.isNaN\n      // eslint-disable-next-line no-restricted-globals\n      const isNumber = value => !isNaN(parseFloat(value));\n      if (!isString(props) && !Array.isArray(props)) {\n        console.error('MUI: Argument \"props\" must be a string or Array.');\n      }\n      if (!isNumber(durationOption) && !isString(durationOption)) {\n        console.error(`MUI: Argument \"duration\" must be a number or a string but found ${durationOption}.`);\n      }\n      if (!isString(easingOption)) {\n        console.error('MUI: Argument \"easing\" must be a string.');\n      }\n      if (!isNumber(delay) && !isString(delay)) {\n        console.error('MUI: Argument \"delay\" must be a number or a string.');\n      }\n      if (typeof options !== 'object') {\n        console.error(['MUI: Secong argument of transition.create must be an object.', \"Arguments should be either `create('prop1', options)` or `create(['prop1', 'prop2'], options)`\"].join('\\n'));\n      }\n      if (Object.keys(other).length !== 0) {\n        console.error(`MUI: Unrecognized argument(s) [${Object.keys(other).join(',')}].`);\n      }\n    }\n    return (Array.isArray(props) ? props : [props]).map(animatedProp => `${animatedProp} ${typeof durationOption === 'string' ? durationOption : formatMs(durationOption)} ${easingOption} ${typeof delay === 'string' ? delay : formatMs(delay)}`).join(',');\n  };\n  return _extends({\n    getAutoHeightDuration,\n    create\n  }, inputTransitions, {\n    easing: mergedEasing,\n    duration: mergedDuration\n  });\n}","// We need to centralize the zIndex definitions as they work\n// like global values in the browser.\nconst zIndex = {\n  mobileStepper: 1000,\n  fab: 1050,\n  speedDial: 1050,\n  appBar: 1100,\n  drawer: 1200,\n  modal: 1300,\n  snackbar: 1400,\n  tooltip: 1500\n};\nexport default zIndex;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _formatMuiErrorMessage from \"@mui/utils/formatMuiErrorMessage\";\nconst _excluded = [\"breakpoints\", \"mixins\", \"spacing\", \"palette\", \"transitions\", \"typography\", \"shape\"];\nimport deepmerge from '@mui/utils/deepmerge';\nimport styleFunctionSx, { unstable_defaultSxConfig as defaultSxConfig } from '@mui/system/styleFunctionSx';\nimport systemCreateTheme from '@mui/system/createTheme';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nimport createMixins from './createMixins';\nimport createPalette from './createPalette';\nimport createTypography from './createTypography';\nimport shadows from './shadows';\nimport createTransitions from './createTransitions';\nimport zIndex from './zIndex';\nfunction createTheme(options = {}, ...args) {\n  const {\n      mixins: mixinsInput = {},\n      palette: paletteInput = {},\n      transitions: transitionsInput = {},\n      typography: typographyInput = {}\n    } = options,\n    other = _objectWithoutPropertiesLoose(options, _excluded);\n  if (options.vars) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? `MUI: \\`vars\\` is a private field used for CSS variables support.\nPlease use another name.` : _formatMuiErrorMessage(18));\n  }\n  const palette = createPalette(paletteInput);\n  const systemTheme = systemCreateTheme(options);\n  let muiTheme = deepmerge(systemTheme, {\n    mixins: createMixins(systemTheme.breakpoints, mixinsInput),\n    palette,\n    // Don't use [...shadows] until you've verified its transpiled code is not invoking the iterator protocol.\n    shadows: shadows.slice(),\n    typography: createTypography(palette, typographyInput),\n    transitions: createTransitions(transitionsInput),\n    zIndex: _extends({}, zIndex)\n  });\n  muiTheme = deepmerge(muiTheme, other);\n  muiTheme = args.reduce((acc, argument) => deepmerge(acc, argument), muiTheme);\n  if (process.env.NODE_ENV !== 'production') {\n    // TODO v6: Refactor to use globalStateClassesMapping from @mui/utils once `readOnly` state class is used in Rating component.\n    const stateClasses = ['active', 'checked', 'completed', 'disabled', 'error', 'expanded', 'focused', 'focusVisible', 'required', 'selected'];\n    const traverse = (node, component) => {\n      let key;\n\n      // eslint-disable-next-line guard-for-in, no-restricted-syntax\n      for (key in node) {\n        const child = node[key];\n        if (stateClasses.indexOf(key) !== -1 && Object.keys(child).length > 0) {\n          if (process.env.NODE_ENV !== 'production') {\n            const stateClass = generateUtilityClass('', key);\n            console.error([`MUI: The \\`${component}\\` component increases ` + `the CSS specificity of the \\`${key}\\` internal state.`, 'You can not override it like this: ', JSON.stringify(node, null, 2), '', `Instead, you need to use the '&.${stateClass}' syntax:`, JSON.stringify({\n              root: {\n                [`&.${stateClass}`]: child\n              }\n            }, null, 2), '', 'https://mui.com/r/state-classes-guide'].join('\\n'));\n          }\n          // Remove the style to prevent global conflicts.\n          node[key] = {};\n        }\n      }\n    };\n    Object.keys(muiTheme.components).forEach(component => {\n      const styleOverrides = muiTheme.components[component].styleOverrides;\n      if (styleOverrides && component.indexOf('Mui') === 0) {\n        traverse(styleOverrides, component);\n      }\n    });\n  }\n  muiTheme.unstable_sxConfig = _extends({}, defaultSxConfig, other == null ? void 0 : other.unstable_sxConfig);\n  muiTheme.unstable_sx = function sx(props) {\n    return styleFunctionSx({\n      sx: props,\n      theme: this\n    });\n  };\n  return muiTheme;\n}\nlet warnedOnce = false;\nexport function createMuiTheme(...args) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!warnedOnce) {\n      warnedOnce = true;\n      console.error(['MUI: the createMuiTheme function was renamed to createTheme.', '', \"You should use `import { createTheme } from '@mui/material/styles'`\"].join('\\n'));\n    }\n  }\n  return createTheme(...args);\n}\nexport default createTheme;","'use client';\n\nimport createTheme from './createTheme';\nconst defaultTheme = createTheme();\nexport default defaultTheme;","export default '$$material';","// copied from @mui/system/createStyled\nfunction slotShouldForwardProp(prop) {\n  return prop !== 'ownerState' && prop !== 'theme' && prop !== 'sx' && prop !== 'as';\n}\nexport default slotShouldForwardProp;","import slotShouldForwardProp from './slotShouldForwardProp';\nconst rootShouldForwardProp = prop => slotShouldForwardProp(prop) && prop !== 'classes';\nexport default rootShouldForwardProp;","'use client';\n\nimport createStyled from '@mui/system/createStyled';\nimport defaultTheme from './defaultTheme';\nimport THEME_ID from './identifier';\nimport rootShouldForwardProp from './rootShouldForwardProp';\nexport { default as slotShouldForwardProp } from './slotShouldForwardProp';\nexport { default as rootShouldForwardProp } from './rootShouldForwardProp';\nconst styled = createStyled({\n  themeId: THEME_ID,\n  defaultTheme,\n  rootShouldForwardProp\n});\nexport default styled;","'use client';\n\nimport getThemeProps from './getThemeProps';\nimport useTheme from '../useTheme';\nexport default function useThemeProps({\n  props,\n  name,\n  defaultTheme,\n  themeId\n}) {\n  let theme = useTheme(defaultTheme);\n  if (themeId) {\n    theme = theme[themeId] || theme;\n  }\n  const mergedProps = getThemeProps({\n    theme,\n    name,\n    props\n  });\n  return mergedProps;\n}","import resolveProps from '@mui/utils/resolveProps';\nexport default function getThemeProps(params) {\n  const {\n    theme,\n    name,\n    props\n  } = params;\n  if (!theme || !theme.components || !theme.components[name] || !theme.components[name].defaultProps) {\n    return props;\n  }\n  return resolveProps(theme.components[name].defaultProps, props);\n}","'use client';\n\nimport systemUseThemeProps from '@mui/system/useThemeProps';\nimport defaultTheme from './defaultTheme';\nimport THEME_ID from './identifier';\nexport default function useThemeProps({\n  props,\n  name\n}) {\n  return systemUseThemeProps({\n    props,\n    name,\n    defaultTheme,\n    themeId: THEME_ID\n  });\n}","import capitalize from '@mui/utils/capitalize';\nexport default capitalize;","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getSvgIconUtilityClass(slot) {\n  return generateUtilityClass('MuiSvgIcon', slot);\n}\nconst svgIconClasses = generateUtilityClasses('MuiSvgIcon', ['root', 'colorPrimary', 'colorSecondary', 'colorAction', 'colorError', 'colorDisabled', 'fontSizeInherit', 'fontSizeSmall', 'fontSizeMedium', 'fontSizeLarge']);\nexport default svgIconClasses;","'use client';\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"children\", \"className\", \"color\", \"component\", \"fontSize\", \"htmlColor\", \"inheritViewBox\", \"titleAccess\", \"viewBox\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport capitalize from '../utils/capitalize';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport { getSvgIconUtilityClass } from './svgIconClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    color,\n    fontSize,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root', color !== 'inherit' && `color${capitalize(color)}`, `fontSize${capitalize(fontSize)}`]\n  };\n  return composeClasses(slots, getSvgIconUtilityClass, classes);\n};\nconst SvgIconRoot = styled('svg', {\n  name: 'MuiSvgIcon',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, ownerState.color !== 'inherit' && styles[`color${capitalize(ownerState.color)}`], styles[`fontSize${capitalize(ownerState.fontSize)}`]];\n  }\n})(({\n  theme,\n  ownerState\n}) => {\n  var _theme$transitions, _theme$transitions$cr, _theme$transitions2, _theme$typography, _theme$typography$pxT, _theme$typography2, _theme$typography2$px, _theme$typography3, _theme$typography3$px, _palette$ownerState$c, _palette, _palette2, _palette3;\n  return {\n    userSelect: 'none',\n    width: '1em',\n    height: '1em',\n    display: 'inline-block',\n    // the <svg> will define the property that has `currentColor`\n    // for example heroicons uses fill=\"none\" and stroke=\"currentColor\"\n    fill: ownerState.hasSvgAsChild ? undefined : 'currentColor',\n    flexShrink: 0,\n    transition: (_theme$transitions = theme.transitions) == null || (_theme$transitions$cr = _theme$transitions.create) == null ? void 0 : _theme$transitions$cr.call(_theme$transitions, 'fill', {\n      duration: (_theme$transitions2 = theme.transitions) == null || (_theme$transitions2 = _theme$transitions2.duration) == null ? void 0 : _theme$transitions2.shorter\n    }),\n    fontSize: {\n      inherit: 'inherit',\n      small: ((_theme$typography = theme.typography) == null || (_theme$typography$pxT = _theme$typography.pxToRem) == null ? void 0 : _theme$typography$pxT.call(_theme$typography, 20)) || '1.25rem',\n      medium: ((_theme$typography2 = theme.typography) == null || (_theme$typography2$px = _theme$typography2.pxToRem) == null ? void 0 : _theme$typography2$px.call(_theme$typography2, 24)) || '1.5rem',\n      large: ((_theme$typography3 = theme.typography) == null || (_theme$typography3$px = _theme$typography3.pxToRem) == null ? void 0 : _theme$typography3$px.call(_theme$typography3, 35)) || '2.1875rem'\n    }[ownerState.fontSize],\n    // TODO v5 deprecate, v6 remove for sx\n    color: (_palette$ownerState$c = (_palette = (theme.vars || theme).palette) == null || (_palette = _palette[ownerState.color]) == null ? void 0 : _palette.main) != null ? _palette$ownerState$c : {\n      action: (_palette2 = (theme.vars || theme).palette) == null || (_palette2 = _palette2.action) == null ? void 0 : _palette2.active,\n      disabled: (_palette3 = (theme.vars || theme).palette) == null || (_palette3 = _palette3.action) == null ? void 0 : _palette3.disabled,\n      inherit: undefined\n    }[ownerState.color]\n  };\n});\nconst SvgIcon = /*#__PURE__*/React.forwardRef(function SvgIcon(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiSvgIcon'\n  });\n  const {\n      children,\n      className,\n      color = 'inherit',\n      component = 'svg',\n      fontSize = 'medium',\n      htmlColor,\n      inheritViewBox = false,\n      titleAccess,\n      viewBox = '0 0 24 24'\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const hasSvgAsChild = /*#__PURE__*/React.isValidElement(children) && children.type === 'svg';\n  const ownerState = _extends({}, props, {\n    color,\n    component,\n    fontSize,\n    instanceFontSize: inProps.fontSize,\n    inheritViewBox,\n    viewBox,\n    hasSvgAsChild\n  });\n  const more = {};\n  if (!inheritViewBox) {\n    more.viewBox = viewBox;\n  }\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsxs(SvgIconRoot, _extends({\n    as: component,\n    className: clsx(classes.root, className),\n    focusable: \"false\",\n    color: htmlColor,\n    \"aria-hidden\": titleAccess ? undefined : true,\n    role: titleAccess ? 'img' : undefined,\n    ref: ref\n  }, more, other, hasSvgAsChild && children.props, {\n    ownerState: ownerState,\n    children: [hasSvgAsChild ? children.props.children : children, titleAccess ? /*#__PURE__*/_jsx(\"title\", {\n      children: titleAccess\n    }) : null]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? SvgIcon.propTypes /* remove-proptypes */ = {\n  //  Warning \n  //  These PropTypes are generated from the TypeScript type definitions. \n  //     To update them, edit the d.ts file and run `pnpm proptypes`.     \n  // \n  /**\n   * Node passed into the SVG element.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The color of the component.\n   * It supports both default and custom theme colors, which can be added as shown in the\n   * [palette customization guide](https://mui.com/material-ui/customization/palette/#custom-colors).\n   * You can use the `htmlColor` prop to apply a color attribute to the SVG element.\n   * @default 'inherit'\n   */\n  color: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['inherit', 'action', 'disabled', 'primary', 'secondary', 'error', 'info', 'success', 'warning']), PropTypes.string]),\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * The fontSize applied to the icon. Defaults to 24px, but can be configure to inherit font size.\n   * @default 'medium'\n   */\n  fontSize: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['inherit', 'large', 'medium', 'small']), PropTypes.string]),\n  /**\n   * Applies a color attribute to the SVG element.\n   */\n  htmlColor: PropTypes.string,\n  /**\n   * If `true`, the root node will inherit the custom `component`'s viewBox and the `viewBox`\n   * prop will be ignored.\n   * Useful when you want to reference a custom `component` and have `SvgIcon` pass that\n   * `component`'s viewBox to the root node.\n   * @default false\n   */\n  inheritViewBox: PropTypes.bool,\n  /**\n   * The shape-rendering attribute. The behavior of the different options is described on the\n   * [MDN Web Docs](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/shape-rendering).\n   * If you are having issues with blurry icons you should investigate this prop.\n   */\n  shapeRendering: PropTypes.string,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * Provides a human-readable title for the element that contains it.\n   * https://www.w3.org/TR/SVG-access/#Equivalent\n   */\n  titleAccess: PropTypes.string,\n  /**\n   * Allows you to redefine what the coordinates without units mean inside an SVG element.\n   * For example, if the SVG element is 500 (width) by 200 (height),\n   * and you pass viewBox=\"0 0 50 20\",\n   * this means that the coordinates inside the SVG will go from the top left corner (0,0)\n   * to bottom right (50,20) and each unit will be worth 10px.\n   * @default '0 0 24 24'\n   */\n  viewBox: PropTypes.string\n} : void 0;\nSvgIcon.muiName = 'SvgIcon';\nexport default SvgIcon;","'use client';\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport SvgIcon from '../SvgIcon';\n\n/**\n * Private module reserved for @mui packages.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default function createSvgIcon(path, displayName) {\n  function Component(props, ref) {\n    return /*#__PURE__*/_jsx(SvgIcon, _extends({\n      \"data-testid\": `${displayName}Icon`,\n      ref: ref\n    }, props, {\n      children: path\n    }));\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // Need to set `displayName` on the inner component for React.memo.\n    // React prior to 16.14 ignores `displayName` on the wrapper.\n    Component.displayName = `${displayName}Icon`;\n  }\n  Component.muiName = SvgIcon.muiName;\n  return /*#__PURE__*/React.memo( /*#__PURE__*/React.forwardRef(Component));\n}","import debounce from '@mui/utils/debounce';\nexport default debounce;","// Corresponds to 10 frames at 60 Hz.\n// A few bytes payload overhead when lodash/debounce is ~3 kB and debounce ~300 B.\nexport default function debounce(func, wait = 166) {\n  let timeout;\n  function debounced(...args) {\n    const later = () => {\n      // @ts-ignore\n      func.apply(this, args);\n    };\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  }\n  debounced.clear = () => {\n    clearTimeout(timeout);\n  };\n  return debounced;\n}","import createChainedFunction from '@mui/utils/createChainedFunction';\nexport default createChainedFunction;","import deprecatedPropType from '@mui/utils/deprecatedPropType';\nexport default deprecatedPropType;","export default function deprecatedPropType(validator, reason) {\n  if (process.env.NODE_ENV === 'production') {\n    return () => null;\n  }\n  return (props, propName, componentName, location, propFullName) => {\n    const componentNameSafe = componentName || '<<anonymous>>';\n    const propFullNameSafe = propFullName || propName;\n    if (typeof props[propName] !== 'undefined') {\n      return new Error(`The ${location} \\`${propFullNameSafe}\\` of ` + `\\`${componentNameSafe}\\` is deprecated. ${reason}`);\n    }\n    return null;\n  };\n}","import isMuiElement from '@mui/utils/isMuiElement';\nexport default isMuiElement;","import * as React from 'react';\nexport default function isMuiElement(element, muiNames) {\n  var _muiName, _element$type;\n  return /*#__PURE__*/React.isValidElement(element) && muiNames.indexOf( // For server components `muiName` is avaialble in element.type._payload.value.muiName\n  // relevant info - https://github.com/facebook/react/blob/2807d781a08db8e9873687fccc25c0f12b4fb3d4/packages/react/src/ReactLazy.js#L45\n  // eslint-disable-next-line no-underscore-dangle\n  (_muiName = element.type.muiName) != null ? _muiName : (_element$type = element.type) == null || (_element$type = _element$type._payload) == null || (_element$type = _element$type.value) == null ? void 0 : _element$type.muiName) !== -1;\n}","import requirePropFactory from '@mui/utils/requirePropFactory';\nexport default requirePropFactory;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nexport default function requirePropFactory(componentNameInError, Component) {\n  if (process.env.NODE_ENV === 'production') {\n    return () => null;\n  }\n\n  // eslint-disable-next-line react/forbid-foreign-prop-types\n  const prevPropTypes = Component ? _extends({}, Component.propTypes) : null;\n  const requireProp = requiredProp => (props, propName, componentName, location, propFullName, ...args) => {\n    const propFullNameSafe = propFullName || propName;\n    const defaultTypeChecker = prevPropTypes == null ? void 0 : prevPropTypes[propFullNameSafe];\n    if (defaultTypeChecker) {\n      const typeCheckerResult = defaultTypeChecker(props, propName, componentName, location, propFullName, ...args);\n      if (typeCheckerResult) {\n        return typeCheckerResult;\n      }\n    }\n    if (typeof props[propName] !== 'undefined' && !props[requiredProp]) {\n      return new Error(`The prop \\`${propFullNameSafe}\\` of ` + `\\`${componentNameInError}\\` can only be used together with the \\`${requiredProp}\\` prop.`);\n    }\n    return null;\n  };\n  return requireProp;\n}","import setRef from '@mui/utils/setRef';\nexport default setRef;","'use client';\n\nimport * as React from 'react';\nlet globalId = 0;\nfunction useGlobalId(idOverride) {\n  const [defaultId, setDefaultId] = React.useState(idOverride);\n  const id = idOverride || defaultId;\n  React.useEffect(() => {\n    if (defaultId == null) {\n      // Fallback to this default id when possible.\n      // Use the incrementing value for client-side rendering only.\n      // We can't use it server-side.\n      // If you want to use random values please consider the Birthday Problem: https://en.wikipedia.org/wiki/Birthday_problem\n      globalId += 1;\n      setDefaultId(`mui-${globalId}`);\n    }\n  }, [defaultId]);\n  return id;\n}\n\n// downstream bundlers may remove unnecessary concatenation, but won't remove toString call -- Workaround for https://github.com/webpack/webpack/issues/14814\nconst maybeReactUseId = React['useId'.toString()];\n/**\n *\n * @example <div id={useId()} />\n * @param idOverride\n * @returns {string}\n */\nexport default function useId(idOverride) {\n  if (maybeReactUseId !== undefined) {\n    const reactId = maybeReactUseId();\n    return idOverride != null ? idOverride : reactId;\n  }\n  // eslint-disable-next-line react-hooks/rules-of-hooks -- `React.useId` is invariant at runtime.\n  return useGlobalId(idOverride);\n}","'use client';\n\nimport useId from '@mui/utils/useId';\nexport default useId;","import unsupportedProp from '@mui/utils/unsupportedProp';\nexport default unsupportedProp;","export default function unsupportedProp(props, propName, componentName, location, propFullName) {\n  if (process.env.NODE_ENV === 'production') {\n    return null;\n  }\n  const propFullNameSafe = propFullName || propName;\n  if (typeof props[propName] !== 'undefined') {\n    return new Error(`The prop \\`${propFullNameSafe}\\` is not supported. Please remove it.`);\n  }\n  return null;\n}","'use client';\n\nimport useControlled from '@mui/utils/useControlled';\nexport default useControlled;","'use client';\n\n/* eslint-disable react-hooks/rules-of-hooks, react-hooks/exhaustive-deps */\nimport * as React from 'react';\nexport default function useControlled({\n  controlled,\n  default: defaultProp,\n  name,\n  state = 'value'\n}) {\n  // isControlled is ignored in the hook dependency lists as it should never change.\n  const {\n    current: isControlled\n  } = React.useRef(controlled !== undefined);\n  const [valueState, setValue] = React.useState(defaultProp);\n  const value = isControlled ? controlled : valueState;\n  if (process.env.NODE_ENV !== 'production') {\n    React.useEffect(() => {\n      if (isControlled !== (controlled !== undefined)) {\n        console.error([`MUI: A component is changing the ${isControlled ? '' : 'un'}controlled ${state} state of ${name} to be ${isControlled ? 'un' : ''}controlled.`, 'Elements should not switch from uncontrolled to controlled (or vice versa).', `Decide between using a controlled or uncontrolled ${name} ` + 'element for the lifetime of the component.', \"The nature of the state is determined during the first render. It's considered controlled if the value is not `undefined`.\", 'More info: https://fb.me/react-controlled-components'].join('\\n'));\n      }\n    }, [state, name, controlled]);\n    const {\n      current: defaultValue\n    } = React.useRef(defaultProp);\n    React.useEffect(() => {\n      if (!isControlled && defaultValue !== defaultProp) {\n        console.error([`MUI: A component is changing the default ${state} state of an uncontrolled ${name} after being initialized. ` + `To suppress this warning opt to use a controlled ${name}.`].join('\\n'));\n      }\n    }, [JSON.stringify(defaultProp)]);\n  }\n  const setValueIfUncontrolled = React.useCallback(newValue => {\n    if (!isControlled) {\n      setValue(newValue);\n    }\n  }, []);\n  return [value, setValueIfUncontrolled];\n}","'use client';\n\nimport { unstable_ClassNameGenerator as ClassNameGenerator } from '@mui/base/ClassNameGenerator';\nexport { default as capitalize } from './capitalize';\nexport { default as createChainedFunction } from './createChainedFunction';\nexport { default as createSvgIcon } from './createSvgIcon';\nexport { default as debounce } from './debounce';\nexport { default as deprecatedPropType } from './deprecatedPropType';\nexport { default as isMuiElement } from './isMuiElement';\nexport { default as ownerDocument } from './ownerDocument';\nexport { default as ownerWindow } from './ownerWindow';\nexport { default as requirePropFactory } from './requirePropFactory';\nexport { default as setRef } from './setRef';\nexport { default as unstable_useEnhancedEffect } from './useEnhancedEffect';\nexport { default as unstable_useId } from './useId';\nexport { default as unsupportedProp } from './unsupportedProp';\nexport { default as useControlled } from './useControlled';\nexport { default as useEventCallback } from './useEventCallback';\nexport { default as useForkRef } from './useForkRef';\nexport { default as useIsFocusVisible } from './useIsFocusVisible';\n// TODO: remove this export once ClassNameGenerator is stable\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport const unstable_ClassNameGenerator = {\n  configure: generator => {\n    if (process.env.NODE_ENV !== 'production') {\n      console.warn(['MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.', '', \"You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead\", '', 'The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401', '', 'The updated documentation: https://mui.com/guides/classname-generator/'].join('\\n'));\n    }\n    ClassNameGenerator.configure(generator);\n  }\n};","import ownerDocument from '@mui/utils/ownerDocument';\nexport default ownerDocument;","import ownerWindow from '@mui/utils/ownerWindow';\nexport default ownerWindow;","'use client';\n\nimport useEnhancedEffect from '@mui/utils/useEnhancedEffect';\nexport default useEnhancedEffect;","'use client';\n\nimport useEventCallback from '@mui/utils/useEventCallback';\nexport default useEventCallback;","'use client';\n\nimport useForkRef from '@mui/utils/useForkRef';\nexport default useForkRef;","'use client';\n\n// based on https://github.com/WICG/focus-visible/blob/v4.1.5/src/focus-visible.js\nimport * as React from 'react';\nimport { Timeout } from '../useTimeout/useTimeout';\nlet hadKeyboardEvent = true;\nlet hadFocusVisibleRecently = false;\nconst hadFocusVisibleRecentlyTimeout = new Timeout();\nconst inputTypesWhitelist = {\n  text: true,\n  search: true,\n  url: true,\n  tel: true,\n  email: true,\n  password: true,\n  number: true,\n  date: true,\n  month: true,\n  week: true,\n  time: true,\n  datetime: true,\n  'datetime-local': true\n};\n\n/**\n * Computes whether the given element should automatically trigger the\n * `focus-visible` class being added, i.e. whether it should always match\n * `:focus-visible` when focused.\n * @param {Element} node\n * @returns {boolean}\n */\nfunction focusTriggersKeyboardModality(node) {\n  const {\n    type,\n    tagName\n  } = node;\n  if (tagName === 'INPUT' && inputTypesWhitelist[type] && !node.readOnly) {\n    return true;\n  }\n  if (tagName === 'TEXTAREA' && !node.readOnly) {\n    return true;\n  }\n  if (node.isContentEditable) {\n    return true;\n  }\n  return false;\n}\n\n/**\n * Keep track of our keyboard modality state with `hadKeyboardEvent`.\n * If the most recent user interaction was via the keyboard;\n * and the key press did not include a meta, alt/option, or control key;\n * then the modality is keyboard. Otherwise, the modality is not keyboard.\n * @param {KeyboardEvent} event\n */\nfunction handleKeyDown(event) {\n  if (event.metaKey || event.altKey || event.ctrlKey) {\n    return;\n  }\n  hadKeyboardEvent = true;\n}\n\n/**\n * If at any point a user clicks with a pointing device, ensure that we change\n * the modality away from keyboard.\n * This avoids the situation where a user presses a key on an already focused\n * element, and then clicks on a different element, focusing it with a\n * pointing device, while we still think we're in keyboard modality.\n */\nfunction handlePointerDown() {\n  hadKeyboardEvent = false;\n}\nfunction handleVisibilityChange() {\n  if (this.visibilityState === 'hidden') {\n    // If the tab becomes active again, the browser will handle calling focus\n    // on the element (Safari actually calls it twice).\n    // If this tab change caused a blur on an element with focus-visible,\n    // re-apply the class when the user switches back to the tab.\n    if (hadFocusVisibleRecently) {\n      hadKeyboardEvent = true;\n    }\n  }\n}\nfunction prepare(doc) {\n  doc.addEventListener('keydown', handleKeyDown, true);\n  doc.addEventListener('mousedown', handlePointerDown, true);\n  doc.addEventListener('pointerdown', handlePointerDown, true);\n  doc.addEventListener('touchstart', handlePointerDown, true);\n  doc.addEventListener('visibilitychange', handleVisibilityChange, true);\n}\nexport function teardown(doc) {\n  doc.removeEventListener('keydown', handleKeyDown, true);\n  doc.removeEventListener('mousedown', handlePointerDown, true);\n  doc.removeEventListener('pointerdown', handlePointerDown, true);\n  doc.removeEventListener('touchstart', handlePointerDown, true);\n  doc.removeEventListener('visibilitychange', handleVisibilityChange, true);\n}\nfunction isFocusVisible(event) {\n  const {\n    target\n  } = event;\n  try {\n    return target.matches(':focus-visible');\n  } catch (error) {\n    // Browsers not implementing :focus-visible will throw a SyntaxError.\n    // We use our own heuristic for those browsers.\n    // Rethrow might be better if it's not the expected error but do we really\n    // want to crash if focus-visible malfunctioned?\n  }\n\n  // No need for validFocusTarget check. The user does that by attaching it to\n  // focusable events only.\n  return hadKeyboardEvent || focusTriggersKeyboardModality(target);\n}\nexport default function useIsFocusVisible() {\n  const ref = React.useCallback(node => {\n    if (node != null) {\n      prepare(node.ownerDocument);\n    }\n  }, []);\n  const isFocusVisibleRef = React.useRef(false);\n\n  /**\n   * Should be called if a blur event is fired\n   */\n  function handleBlurVisible() {\n    // checking against potential state variable does not suffice if we focus and blur synchronously.\n    // React wouldn't have time to trigger a re-render so `focusVisible` would be stale.\n    // Ideally we would adjust `isFocusVisible(event)` to look at `relatedTarget` for blur events.\n    // This doesn't work in IE11 due to https://github.com/facebook/react/issues/3751\n    // TODO: check again if React releases their internal changes to focus event handling (https://github.com/facebook/react/pull/19186).\n    if (isFocusVisibleRef.current) {\n      // To detect a tab/window switch, we look for a blur event followed\n      // rapidly by a visibility change.\n      // If we don't see a visibility change within 100ms, it's probably a\n      // regular focus change.\n      hadFocusVisibleRecently = true;\n      hadFocusVisibleRecentlyTimeout.start(100, () => {\n        hadFocusVisibleRecently = false;\n      });\n      isFocusVisibleRef.current = false;\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Should be called if a blur event is fired\n   */\n  function handleFocusVisible(event) {\n    if (isFocusVisible(event)) {\n      isFocusVisibleRef.current = true;\n      return true;\n    }\n    return false;\n  }\n  return {\n    isFocusVisibleRef,\n    onFocus: handleFocusVisible,\n    onBlur: handleBlurVisible,\n    ref\n  };\n}","'use client';\n\nimport useIsFocusVisible from '@mui/utils/useIsFocusVisible';\nexport default useIsFocusVisible;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.alpha = alpha;\nexports.blend = blend;\nexports.colorChannel = void 0;\nexports.darken = darken;\nexports.decomposeColor = decomposeColor;\nexports.emphasize = emphasize;\nexports.getContrastRatio = getContrastRatio;\nexports.getLuminance = getLuminance;\nexports.hexToRgb = hexToRgb;\nexports.hslToRgb = hslToRgb;\nexports.lighten = lighten;\nexports.private_safeAlpha = private_safeAlpha;\nexports.private_safeColorChannel = void 0;\nexports.private_safeDarken = private_safeDarken;\nexports.private_safeEmphasize = private_safeEmphasize;\nexports.private_safeLighten = private_safeLighten;\nexports.recomposeColor = recomposeColor;\nexports.rgbToHex = rgbToHex;\nvar _formatMuiErrorMessage2 = _interopRequireDefault(require(\"@mui/utils/formatMuiErrorMessage\"));\nvar _clamp = _interopRequireDefault(require(\"@mui/utils/clamp\"));\n/* eslint-disable @typescript-eslint/naming-convention */\n\n/**\n * Returns a number whose value is limited to the given range.\n * @param {number} value The value to be clamped\n * @param {number} min The lower boundary of the output range\n * @param {number} max The upper boundary of the output range\n * @returns {number} A number in the range [min, max]\n */\nfunction clampWrapper(value, min = 0, max = 1) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (value < min || value > max) {\n      console.error(`MUI: The value provided ${value} is out of range [${min}, ${max}].`);\n    }\n  }\n  return (0, _clamp.default)(value, min, max);\n}\n\n/**\n * Converts a color from CSS hex format to CSS rgb format.\n * @param {string} color - Hex color, i.e. #nnn or #nnnnnn\n * @returns {string} A CSS rgb color string\n */\nfunction hexToRgb(color) {\n  color = color.slice(1);\n  const re = new RegExp(`.{1,${color.length >= 6 ? 2 : 1}}`, 'g');\n  let colors = color.match(re);\n  if (colors && colors[0].length === 1) {\n    colors = colors.map(n => n + n);\n  }\n  return colors ? `rgb${colors.length === 4 ? 'a' : ''}(${colors.map((n, index) => {\n    return index < 3 ? parseInt(n, 16) : Math.round(parseInt(n, 16) / 255 * 1000) / 1000;\n  }).join(', ')})` : '';\n}\nfunction intToHex(int) {\n  const hex = int.toString(16);\n  return hex.length === 1 ? `0${hex}` : hex;\n}\n\n/**\n * Returns an object with the type and values of a color.\n *\n * Note: Does not support rgb % values.\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color()\n * @returns {object} - A MUI color object: {type: string, values: number[]}\n */\nfunction decomposeColor(color) {\n  // Idempotent\n  if (color.type) {\n    return color;\n  }\n  if (color.charAt(0) === '#') {\n    return decomposeColor(hexToRgb(color));\n  }\n  const marker = color.indexOf('(');\n  const type = color.substring(0, marker);\n  if (['rgb', 'rgba', 'hsl', 'hsla', 'color'].indexOf(type) === -1) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? `MUI: Unsupported \\`${color}\\` color.\nThe following formats are supported: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().` : (0, _formatMuiErrorMessage2.default)(9, color));\n  }\n  let values = color.substring(marker + 1, color.length - 1);\n  let colorSpace;\n  if (type === 'color') {\n    values = values.split(' ');\n    colorSpace = values.shift();\n    if (values.length === 4 && values[3].charAt(0) === '/') {\n      values[3] = values[3].slice(1);\n    }\n    if (['srgb', 'display-p3', 'a98-rgb', 'prophoto-rgb', 'rec-2020'].indexOf(colorSpace) === -1) {\n      throw new Error(process.env.NODE_ENV !== \"production\" ? `MUI: unsupported \\`${colorSpace}\\` color space.\nThe following color spaces are supported: srgb, display-p3, a98-rgb, prophoto-rgb, rec-2020.` : (0, _formatMuiErrorMessage2.default)(10, colorSpace));\n    }\n  } else {\n    values = values.split(',');\n  }\n  values = values.map(value => parseFloat(value));\n  return {\n    type,\n    values,\n    colorSpace\n  };\n}\n\n/**\n * Returns a channel created from the input color.\n *\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color()\n * @returns {string} - The channel for the color, that can be used in rgba or hsla colors\n */\nconst colorChannel = color => {\n  const decomposedColor = decomposeColor(color);\n  return decomposedColor.values.slice(0, 3).map((val, idx) => decomposedColor.type.indexOf('hsl') !== -1 && idx !== 0 ? `${val}%` : val).join(' ');\n};\nexports.colorChannel = colorChannel;\nconst private_safeColorChannel = (color, warning) => {\n  try {\n    return colorChannel(color);\n  } catch (error) {\n    if (warning && process.env.NODE_ENV !== 'production') {\n      console.warn(warning);\n    }\n    return color;\n  }\n};\n\n/**\n * Converts a color object with type and values to a string.\n * @param {object} color - Decomposed color\n * @param {string} color.type - One of: 'rgb', 'rgba', 'hsl', 'hsla', 'color'\n * @param {array} color.values - [n,n,n] or [n,n,n,n]\n * @returns {string} A CSS color string\n */\nexports.private_safeColorChannel = private_safeColorChannel;\nfunction recomposeColor(color) {\n  const {\n    type,\n    colorSpace\n  } = color;\n  let {\n    values\n  } = color;\n  if (type.indexOf('rgb') !== -1) {\n    // Only convert the first 3 values to int (i.e. not alpha)\n    values = values.map((n, i) => i < 3 ? parseInt(n, 10) : n);\n  } else if (type.indexOf('hsl') !== -1) {\n    values[1] = `${values[1]}%`;\n    values[2] = `${values[2]}%`;\n  }\n  if (type.indexOf('color') !== -1) {\n    values = `${colorSpace} ${values.join(' ')}`;\n  } else {\n    values = `${values.join(', ')}`;\n  }\n  return `${type}(${values})`;\n}\n\n/**\n * Converts a color from CSS rgb format to CSS hex format.\n * @param {string} color - RGB color, i.e. rgb(n, n, n)\n * @returns {string} A CSS rgb color string, i.e. #nnnnnn\n */\nfunction rgbToHex(color) {\n  // Idempotent\n  if (color.indexOf('#') === 0) {\n    return color;\n  }\n  const {\n    values\n  } = decomposeColor(color);\n  return `#${values.map((n, i) => intToHex(i === 3 ? Math.round(255 * n) : n)).join('')}`;\n}\n\n/**\n * Converts a color from hsl format to rgb format.\n * @param {string} color - HSL color values\n * @returns {string} rgb color values\n */\nfunction hslToRgb(color) {\n  color = decomposeColor(color);\n  const {\n    values\n  } = color;\n  const h = values[0];\n  const s = values[1] / 100;\n  const l = values[2] / 100;\n  const a = s * Math.min(l, 1 - l);\n  const f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n  let type = 'rgb';\n  const rgb = [Math.round(f(0) * 255), Math.round(f(8) * 255), Math.round(f(4) * 255)];\n  if (color.type === 'hsla') {\n    type += 'a';\n    rgb.push(values[3]);\n  }\n  return recomposeColor({\n    type,\n    values: rgb\n  });\n}\n/**\n * The relative brightness of any point in a color space,\n * normalized to 0 for darkest black and 1 for lightest white.\n *\n * Formula: https://www.w3.org/TR/WCAG20-TECHS/G17.html#G17-tests\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color()\n * @returns {number} The relative brightness of the color in the range 0 - 1\n */\nfunction getLuminance(color) {\n  color = decomposeColor(color);\n  let rgb = color.type === 'hsl' || color.type === 'hsla' ? decomposeColor(hslToRgb(color)).values : color.values;\n  rgb = rgb.map(val => {\n    if (color.type !== 'color') {\n      val /= 255; // normalized\n    }\n    return val <= 0.03928 ? val / 12.92 : ((val + 0.055) / 1.055) ** 2.4;\n  });\n\n  // Truncate at 3 digits\n  return Number((0.2126 * rgb[0] + 0.7152 * rgb[1] + 0.0722 * rgb[2]).toFixed(3));\n}\n\n/**\n * Calculates the contrast ratio between two colors.\n *\n * Formula: https://www.w3.org/TR/WCAG20-TECHS/G17.html#G17-tests\n * @param {string} foreground - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @param {string} background - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @returns {number} A contrast ratio value in the range 0 - 21.\n */\nfunction getContrastRatio(foreground, background) {\n  const lumA = getLuminance(foreground);\n  const lumB = getLuminance(background);\n  return (Math.max(lumA, lumB) + 0.05) / (Math.min(lumA, lumB) + 0.05);\n}\n\n/**\n * Sets the absolute transparency of a color.\n * Any existing alpha values are overwritten.\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color()\n * @param {number} value - value to set the alpha channel to in the range 0 - 1\n * @returns {string} A CSS color string. Hex input values are returned as rgb\n */\nfunction alpha(color, value) {\n  color = decomposeColor(color);\n  value = clampWrapper(value);\n  if (color.type === 'rgb' || color.type === 'hsl') {\n    color.type += 'a';\n  }\n  if (color.type === 'color') {\n    color.values[3] = `/${value}`;\n  } else {\n    color.values[3] = value;\n  }\n  return recomposeColor(color);\n}\nfunction private_safeAlpha(color, value, warning) {\n  try {\n    return alpha(color, value);\n  } catch (error) {\n    if (warning && process.env.NODE_ENV !== 'production') {\n      console.warn(warning);\n    }\n    return color;\n  }\n}\n\n/**\n * Darkens a color.\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color()\n * @param {number} coefficient - multiplier in the range 0 - 1\n * @returns {string} A CSS color string. Hex input values are returned as rgb\n */\nfunction darken(color, coefficient) {\n  color = decomposeColor(color);\n  coefficient = clampWrapper(coefficient);\n  if (color.type.indexOf('hsl') !== -1) {\n    color.values[2] *= 1 - coefficient;\n  } else if (color.type.indexOf('rgb') !== -1 || color.type.indexOf('color') !== -1) {\n    for (let i = 0; i < 3; i += 1) {\n      color.values[i] *= 1 - coefficient;\n    }\n  }\n  return recomposeColor(color);\n}\nfunction private_safeDarken(color, coefficient, warning) {\n  try {\n    return darken(color, coefficient);\n  } catch (error) {\n    if (warning && process.env.NODE_ENV !== 'production') {\n      console.warn(warning);\n    }\n    return color;\n  }\n}\n\n/**\n * Lightens a color.\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color()\n * @param {number} coefficient - multiplier in the range 0 - 1\n * @returns {string} A CSS color string. Hex input values are returned as rgb\n */\nfunction lighten(color, coefficient) {\n  color = decomposeColor(color);\n  coefficient = clampWrapper(coefficient);\n  if (color.type.indexOf('hsl') !== -1) {\n    color.values[2] += (100 - color.values[2]) * coefficient;\n  } else if (color.type.indexOf('rgb') !== -1) {\n    for (let i = 0; i < 3; i += 1) {\n      color.values[i] += (255 - color.values[i]) * coefficient;\n    }\n  } else if (color.type.indexOf('color') !== -1) {\n    for (let i = 0; i < 3; i += 1) {\n      color.values[i] += (1 - color.values[i]) * coefficient;\n    }\n  }\n  return recomposeColor(color);\n}\nfunction private_safeLighten(color, coefficient, warning) {\n  try {\n    return lighten(color, coefficient);\n  } catch (error) {\n    if (warning && process.env.NODE_ENV !== 'production') {\n      console.warn(warning);\n    }\n    return color;\n  }\n}\n\n/**\n * Darken or lighten a color, depending on its luminance.\n * Light colors are darkened, dark colors are lightened.\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color()\n * @param {number} coefficient=0.15 - multiplier in the range 0 - 1\n * @returns {string} A CSS color string. Hex input values are returned as rgb\n */\nfunction emphasize(color, coefficient = 0.15) {\n  return getLuminance(color) > 0.5 ? darken(color, coefficient) : lighten(color, coefficient);\n}\nfunction private_safeEmphasize(color, coefficient, warning) {\n  try {\n    return emphasize(color, coefficient);\n  } catch (error) {\n    if (warning && process.env.NODE_ENV !== 'production') {\n      console.warn(warning);\n    }\n    return color;\n  }\n}\n\n/**\n * Blend a transparent overlay color with a background color, resulting in a single\n * RGB color.\n * @param {string} background - CSS color\n * @param {string} overlay - CSS color\n * @param {number} opacity - Opacity multiplier in the range 0 - 1\n * @param {number} [gamma=1.0] - Gamma correction factor. For gamma-correct blending, 2.2 is usual.\n */\nfunction blend(background, overlay, opacity, gamma = 1.0) {\n  const blendChannel = (b, o) => Math.round((b ** (1 / gamma) * (1 - opacity) + o ** (1 / gamma) * opacity) ** gamma);\n  const backgroundColor = decomposeColor(background);\n  const overlayColor = decomposeColor(overlay);\n  const rgb = [blendChannel(backgroundColor.values[0], overlayColor.values[0]), blendChannel(backgroundColor.values[1], overlayColor.values[1]), blendChannel(backgroundColor.values[2], overlayColor.values[2])];\n  return recomposeColor({\n    type: 'rgb',\n    values: rgb\n  });\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createStyled;\nexports.shouldForwardProp = shouldForwardProp;\nexports.systemDefaultTheme = void 0;\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\nvar _styledEngine = _interopRequireWildcard(require(\"@mui/styled-engine\"));\nvar _deepmerge = require(\"@mui/utils/deepmerge\");\nvar _capitalize = _interopRequireDefault(require(\"@mui/utils/capitalize\"));\nvar _getDisplayName = _interopRequireDefault(require(\"@mui/utils/getDisplayName\"));\nvar _createTheme = _interopRequireDefault(require(\"./createTheme\"));\nvar _styleFunctionSx = _interopRequireDefault(require(\"./styleFunctionSx\"));\nconst _excluded = [\"ownerState\"],\n  _excluded2 = [\"variants\"],\n  _excluded3 = [\"name\", \"slot\", \"skipVariantsResolver\", \"skipSx\", \"overridesResolver\"];\n/* eslint-disable no-underscore-dangle */\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nfunction isEmpty(obj) {\n  return Object.keys(obj).length === 0;\n}\n\n// https://github.com/emotion-js/emotion/blob/26ded6109fcd8ca9875cc2ce4564fee678a3f3c5/packages/styled/src/utils.js#L40\nfunction isStringTag(tag) {\n  return typeof tag === 'string' &&\n  // 96 is one less than the char code\n  // for \"a\" so this is checking that\n  // it's a lowercase character\n  tag.charCodeAt(0) > 96;\n}\n\n// Update /system/styled/#api in case if this changes\nfunction shouldForwardProp(prop) {\n  return prop !== 'ownerState' && prop !== 'theme' && prop !== 'sx' && prop !== 'as';\n}\nconst systemDefaultTheme = exports.systemDefaultTheme = (0, _createTheme.default)();\nconst lowercaseFirstLetter = string => {\n  if (!string) {\n    return string;\n  }\n  return string.charAt(0).toLowerCase() + string.slice(1);\n};\nfunction resolveTheme({\n  defaultTheme,\n  theme,\n  themeId\n}) {\n  return isEmpty(theme) ? defaultTheme : theme[themeId] || theme;\n}\nfunction defaultOverridesResolver(slot) {\n  if (!slot) {\n    return null;\n  }\n  return (props, styles) => styles[slot];\n}\nfunction processStyleArg(callableStyle, _ref) {\n  let {\n      ownerState\n    } = _ref,\n    props = (0, _objectWithoutPropertiesLoose2.default)(_ref, _excluded);\n  const resolvedStylesArg = typeof callableStyle === 'function' ? callableStyle((0, _extends2.default)({\n    ownerState\n  }, props)) : callableStyle;\n  if (Array.isArray(resolvedStylesArg)) {\n    return resolvedStylesArg.flatMap(resolvedStyle => processStyleArg(resolvedStyle, (0, _extends2.default)({\n      ownerState\n    }, props)));\n  }\n  if (!!resolvedStylesArg && typeof resolvedStylesArg === 'object' && Array.isArray(resolvedStylesArg.variants)) {\n    const {\n        variants = []\n      } = resolvedStylesArg,\n      otherStyles = (0, _objectWithoutPropertiesLoose2.default)(resolvedStylesArg, _excluded2);\n    let result = otherStyles;\n    variants.forEach(variant => {\n      let isMatch = true;\n      if (typeof variant.props === 'function') {\n        isMatch = variant.props((0, _extends2.default)({\n          ownerState\n        }, props, ownerState));\n      } else {\n        Object.keys(variant.props).forEach(key => {\n          if ((ownerState == null ? void 0 : ownerState[key]) !== variant.props[key] && props[key] !== variant.props[key]) {\n            isMatch = false;\n          }\n        });\n      }\n      if (isMatch) {\n        if (!Array.isArray(result)) {\n          result = [result];\n        }\n        result.push(typeof variant.style === 'function' ? variant.style((0, _extends2.default)({\n          ownerState\n        }, props, ownerState)) : variant.style);\n      }\n    });\n    return result;\n  }\n  return resolvedStylesArg;\n}\nfunction createStyled(input = {}) {\n  const {\n    themeId,\n    defaultTheme = systemDefaultTheme,\n    rootShouldForwardProp = shouldForwardProp,\n    slotShouldForwardProp = shouldForwardProp\n  } = input;\n  const systemSx = props => {\n    return (0, _styleFunctionSx.default)((0, _extends2.default)({}, props, {\n      theme: resolveTheme((0, _extends2.default)({}, props, {\n        defaultTheme,\n        themeId\n      }))\n    }));\n  };\n  systemSx.__mui_systemSx = true;\n  return (tag, inputOptions = {}) => {\n    // Filter out the `sx` style function from the previous styled component to prevent unnecessary styles generated by the composite components.\n    (0, _styledEngine.internal_processStyles)(tag, styles => styles.filter(style => !(style != null && style.__mui_systemSx)));\n    const {\n        name: componentName,\n        slot: componentSlot,\n        skipVariantsResolver: inputSkipVariantsResolver,\n        skipSx: inputSkipSx,\n        // TODO v6: remove `lowercaseFirstLetter()` in the next major release\n        // For more details: https://github.com/mui/material-ui/pull/37908\n        overridesResolver = defaultOverridesResolver(lowercaseFirstLetter(componentSlot))\n      } = inputOptions,\n      options = (0, _objectWithoutPropertiesLoose2.default)(inputOptions, _excluded3);\n\n    // if skipVariantsResolver option is defined, take the value, otherwise, true for root and false for other slots.\n    const skipVariantsResolver = inputSkipVariantsResolver !== undefined ? inputSkipVariantsResolver :\n    // TODO v6: remove `Root` in the next major release\n    // For more details: https://github.com/mui/material-ui/pull/37908\n    componentSlot && componentSlot !== 'Root' && componentSlot !== 'root' || false;\n    const skipSx = inputSkipSx || false;\n    let label;\n    if (process.env.NODE_ENV !== 'production') {\n      if (componentName) {\n        // TODO v6: remove `lowercaseFirstLetter()` in the next major release\n        // For more details: https://github.com/mui/material-ui/pull/37908\n        label = `${componentName}-${lowercaseFirstLetter(componentSlot || 'Root')}`;\n      }\n    }\n    let shouldForwardPropOption = shouldForwardProp;\n\n    // TODO v6: remove `Root` in the next major release\n    // For more details: https://github.com/mui/material-ui/pull/37908\n    if (componentSlot === 'Root' || componentSlot === 'root') {\n      shouldForwardPropOption = rootShouldForwardProp;\n    } else if (componentSlot) {\n      // any other slot specified\n      shouldForwardPropOption = slotShouldForwardProp;\n    } else if (isStringTag(tag)) {\n      // for string (html) tag, preserve the behavior in emotion & styled-components.\n      shouldForwardPropOption = undefined;\n    }\n    const defaultStyledResolver = (0, _styledEngine.default)(tag, (0, _extends2.default)({\n      shouldForwardProp: shouldForwardPropOption,\n      label\n    }, options));\n    const transformStyleArg = stylesArg => {\n      // On the server Emotion doesn't use React.forwardRef for creating components, so the created\n      // component stays as a function. This condition makes sure that we do not interpolate functions\n      // which are basically components used as a selectors.\n      if (typeof stylesArg === 'function' && stylesArg.__emotion_real !== stylesArg || (0, _deepmerge.isPlainObject)(stylesArg)) {\n        return props => processStyleArg(stylesArg, (0, _extends2.default)({}, props, {\n          theme: resolveTheme({\n            theme: props.theme,\n            defaultTheme,\n            themeId\n          })\n        }));\n      }\n      return stylesArg;\n    };\n    const muiStyledResolver = (styleArg, ...expressions) => {\n      let transformedStyleArg = transformStyleArg(styleArg);\n      const expressionsWithDefaultTheme = expressions ? expressions.map(transformStyleArg) : [];\n      if (componentName && overridesResolver) {\n        expressionsWithDefaultTheme.push(props => {\n          const theme = resolveTheme((0, _extends2.default)({}, props, {\n            defaultTheme,\n            themeId\n          }));\n          if (!theme.components || !theme.components[componentName] || !theme.components[componentName].styleOverrides) {\n            return null;\n          }\n          const styleOverrides = theme.components[componentName].styleOverrides;\n          const resolvedStyleOverrides = {};\n          // TODO: v7 remove iteration and use `resolveStyleArg(styleOverrides[slot])` directly\n          Object.entries(styleOverrides).forEach(([slotKey, slotStyle]) => {\n            resolvedStyleOverrides[slotKey] = processStyleArg(slotStyle, (0, _extends2.default)({}, props, {\n              theme\n            }));\n          });\n          return overridesResolver(props, resolvedStyleOverrides);\n        });\n      }\n      if (componentName && !skipVariantsResolver) {\n        expressionsWithDefaultTheme.push(props => {\n          var _theme$components;\n          const theme = resolveTheme((0, _extends2.default)({}, props, {\n            defaultTheme,\n            themeId\n          }));\n          const themeVariants = theme == null || (_theme$components = theme.components) == null || (_theme$components = _theme$components[componentName]) == null ? void 0 : _theme$components.variants;\n          return processStyleArg({\n            variants: themeVariants\n          }, (0, _extends2.default)({}, props, {\n            theme\n          }));\n        });\n      }\n      if (!skipSx) {\n        expressionsWithDefaultTheme.push(systemSx);\n      }\n      const numOfCustomFnsApplied = expressionsWithDefaultTheme.length - expressions.length;\n      if (Array.isArray(styleArg) && numOfCustomFnsApplied > 0) {\n        const placeholders = new Array(numOfCustomFnsApplied).fill('');\n        // If the type is array, than we need to add placeholders in the template for the overrides, variants and the sx styles.\n        transformedStyleArg = [...styleArg, ...placeholders];\n        transformedStyleArg.raw = [...styleArg.raw, ...placeholders];\n      }\n      const Component = defaultStyledResolver(transformedStyleArg, ...expressionsWithDefaultTheme);\n      if (process.env.NODE_ENV !== 'production') {\n        let displayName;\n        if (componentName) {\n          displayName = `${componentName}${(0, _capitalize.default)(componentSlot || '')}`;\n        }\n        if (displayName === undefined) {\n          displayName = `Styled(${(0, _getDisplayName.default)(tag)})`;\n        }\n        Component.displayName = displayName;\n      }\n      if (tag.muiName) {\n        Component.muiName = tag.muiName;\n      }\n      return Component;\n    };\n    if (defaultStyledResolver.withConfig) {\n      muiStyledResolver.withConfig = defaultStyledResolver.withConfig;\n    }\n    return muiStyledResolver;\n  };\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"sx\"];\nimport { isPlainObject } from '@mui/utils/deepmerge';\nimport defaultSxConfig from './defaultSxConfig';\nconst splitProps = props => {\n  var _props$theme$unstable, _props$theme;\n  const result = {\n    systemProps: {},\n    otherProps: {}\n  };\n  const config = (_props$theme$unstable = props == null || (_props$theme = props.theme) == null ? void 0 : _props$theme.unstable_sxConfig) != null ? _props$theme$unstable : defaultSxConfig;\n  Object.keys(props).forEach(prop => {\n    if (config[prop]) {\n      result.systemProps[prop] = props[prop];\n    } else {\n      result.otherProps[prop] = props[prop];\n    }\n  });\n  return result;\n};\nexport default function extendSxProp(props) {\n  const {\n      sx: inSx\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const {\n    systemProps,\n    otherProps\n  } = splitProps(other);\n  let finalSx;\n  if (Array.isArray(inSx)) {\n    finalSx = [systemProps, ...inSx];\n  } else if (typeof inSx === 'function') {\n    finalSx = (...args) => {\n      const result = inSx(...args);\n      if (!isPlainObject(result)) {\n        return systemProps;\n      }\n      return _extends({}, systemProps, result);\n    };\n  } else {\n    finalSx = _extends({}, systemProps, inSx);\n  }\n  return _extends({}, otherProps, {\n    sx: finalSx\n  });\n}","'use client';\n\nimport * as React from 'react';\nimport { ThemeContext } from '@mui/styled-engine';\nfunction isObjectEmpty(obj) {\n  return Object.keys(obj).length === 0;\n}\nfunction useTheme(defaultTheme = null) {\n  const contextTheme = React.useContext(ThemeContext);\n  return !contextTheme || isObjectEmpty(contextTheme) ? defaultTheme : contextTheme;\n}\nexport default useTheme;","'use client';\n\nimport createTheme from './createTheme';\nimport useThemeWithoutDefault from './useThemeWithoutDefault';\nexport const systemDefaultTheme = createTheme();\nfunction useTheme(defaultTheme = systemDefaultTheme) {\n  return useThemeWithoutDefault(defaultTheme);\n}\nexport default useTheme;","function clamp(val, min = Number.MIN_SAFE_INTEGER, max = Number.MAX_SAFE_INTEGER) {\n  return Math.max(min, Math.min(val, max));\n}\nexport default clamp;","import generateUtilityClass from '../generateUtilityClass';\nexport default function generateUtilityClasses(componentName, slots, globalStatePrefix = 'Mui') {\n  const result = {};\n  slots.forEach(slot => {\n    result[slot] = generateUtilityClass(componentName, slot, globalStatePrefix);\n  });\n  return result;\n}","import { ForwardRef, Memo } from 'react-is';\n\n// Simplified polyfill for IE11 support\n// https://github.com/JamesMGreene/Function.name/blob/58b314d4a983110c3682f1228f845d39ccca1817/Function.name.js#L3\nconst fnNameMatchRegex = /^\\s*function(?:\\s|\\s*\\/\\*.*\\*\\/\\s*)+([^(\\s/]*)\\s*/;\nexport function getFunctionName(fn) {\n  const match = `${fn}`.match(fnNameMatchRegex);\n  const name = match && match[1];\n  return name || '';\n}\nfunction getFunctionComponentName(Component, fallback = '') {\n  return Component.displayName || Component.name || getFunctionName(Component) || fallback;\n}\nfunction getWrappedName(outerType, innerType, wrapperName) {\n  const functionName = getFunctionComponentName(innerType);\n  return outerType.displayName || (functionName !== '' ? `${wrapperName}(${functionName})` : wrapperName);\n}\n\n/**\n * cherry-pick from\n * https://github.com/facebook/react/blob/769b1f270e1251d9dbdce0fcbd9e92e502d059b8/packages/shared/getComponentName.js\n * originally forked from recompose/getDisplayName with added IE11 support\n */\nexport default function getDisplayName(Component) {\n  if (Component == null) {\n    return undefined;\n  }\n  if (typeof Component === 'string') {\n    return Component;\n  }\n  if (typeof Component === 'function') {\n    return getFunctionComponentName(Component, 'Component');\n  }\n\n  // TypeScript can't have components as objects but they exist in the form of `memo` or `Suspense`\n  if (typeof Component === 'object') {\n    switch (Component.$$typeof) {\n      case ForwardRef:\n        return getWrappedName(Component, Component.render, 'ForwardRef');\n      case Memo:\n        return getWrappedName(Component, Component.type, 'memo');\n      default:\n        return undefined;\n    }\n  }\n  return undefined;\n}","/**\n * @license React\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var b=Symbol.for(\"react.element\"),c=Symbol.for(\"react.portal\"),d=Symbol.for(\"react.fragment\"),e=Symbol.for(\"react.strict_mode\"),f=Symbol.for(\"react.profiler\"),g=Symbol.for(\"react.provider\"),h=Symbol.for(\"react.context\"),k=Symbol.for(\"react.server_context\"),l=Symbol.for(\"react.forward_ref\"),m=Symbol.for(\"react.suspense\"),n=Symbol.for(\"react.suspense_list\"),p=Symbol.for(\"react.memo\"),q=Symbol.for(\"react.lazy\"),t=Symbol.for(\"react.offscreen\"),u;u=Symbol.for(\"react.module.reference\");\nfunction v(a){if(\"object\"===typeof a&&null!==a){var r=a.$$typeof;switch(r){case b:switch(a=a.type,a){case d:case f:case e:case m:case n:return a;default:switch(a=a&&a.$$typeof,a){case k:case h:case l:case q:case p:case g:return a;default:return r}}case c:return r}}}exports.ContextConsumer=h;exports.ContextProvider=g;exports.Element=b;exports.ForwardRef=l;exports.Fragment=d;exports.Lazy=q;exports.Memo=p;exports.Portal=c;exports.Profiler=f;exports.StrictMode=e;exports.Suspense=m;\nexports.SuspenseList=n;exports.isAsyncMode=function(){return!1};exports.isConcurrentMode=function(){return!1};exports.isContextConsumer=function(a){return v(a)===h};exports.isContextProvider=function(a){return v(a)===g};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===b};exports.isForwardRef=function(a){return v(a)===l};exports.isFragment=function(a){return v(a)===d};exports.isLazy=function(a){return v(a)===q};exports.isMemo=function(a){return v(a)===p};\nexports.isPortal=function(a){return v(a)===c};exports.isProfiler=function(a){return v(a)===f};exports.isStrictMode=function(a){return v(a)===e};exports.isSuspense=function(a){return v(a)===m};exports.isSuspenseList=function(a){return v(a)===n};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===d||a===f||a===e||a===m||a===n||a===t||\"object\"===typeof a&&null!==a&&(a.$$typeof===q||a.$$typeof===p||a.$$typeof===g||a.$$typeof===h||a.$$typeof===l||a.$$typeof===u||void 0!==a.getModuleId)?!0:!1};exports.typeOf=v;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n/**\n * Add keys, values of `defaultProps` that does not exist in `props`\n * @param {object} defaultProps\n * @param {object} props\n * @returns {object} resolved props\n */\nexport default function resolveProps(defaultProps, props) {\n  const output = _extends({}, props);\n  Object.keys(defaultProps).forEach(propName => {\n    if (propName.toString().match(/^(components|slots)$/)) {\n      output[propName] = _extends({}, defaultProps[propName], output[propName]);\n    } else if (propName.toString().match(/^(componentsProps|slotProps)$/)) {\n      const defaultSlotProps = defaultProps[propName] || {};\n      const slotProps = props[propName];\n      output[propName] = {};\n      if (!slotProps || !Object.keys(slotProps)) {\n        // Reduce the iteration if the slot props is empty\n        output[propName] = defaultSlotProps;\n      } else if (!defaultSlotProps || !Object.keys(defaultSlotProps)) {\n        // Reduce the iteration if the default slot props is empty\n        output[propName] = slotProps;\n      } else {\n        output[propName] = _extends({}, slotProps);\n        Object.keys(defaultSlotProps).forEach(slotPropName => {\n          output[propName][slotPropName] = resolveProps(defaultSlotProps[slotPropName], slotProps[slotPropName]);\n        });\n      }\n    } else if (output[propName] === undefined) {\n      output[propName] = defaultProps[propName];\n    }\n  });\n  return output;\n}","'use client';\n\nimport * as React from 'react';\nconst UNINITIALIZED = {};\n\n/**\n * A React.useRef() that is initialized lazily with a function. Note that it accepts an optional\n * initialization argument, so the initialization function doesn't need to be an inline closure.\n *\n * @usage\n *   const ref = useLazyRef(sortColumns, columns)\n */\nexport default function useLazyRef(init, initArg) {\n  const ref = React.useRef(UNINITIALIZED);\n  if (ref.current === UNINITIALIZED) {\n    ref.current = init(initArg);\n  }\n  return ref;\n}","'use client';\n\nimport * as React from 'react';\nconst EMPTY = [];\n\n/**\n * A React.useEffect equivalent that runs once, when the component is mounted.\n */\nexport default function useOnMount(fn) {\n  /* eslint-disable react-hooks/exhaustive-deps */\n  React.useEffect(fn, EMPTY);\n  /* eslint-enable react-hooks/exhaustive-deps */\n}","'use client';\n\nimport useLazyRef from '../useLazyRef/useLazyRef';\nimport useOnMount from '../useOnMount/useOnMount';\nexport class Timeout {\n  constructor() {\n    this.currentId = null;\n    this.clear = () => {\n      if (this.currentId !== null) {\n        clearTimeout(this.currentId);\n        this.currentId = null;\n      }\n    };\n    this.disposeEffect = () => {\n      return this.clear;\n    };\n  }\n  static create() {\n    return new Timeout();\n  }\n  /**\n   * Executes `fn` after `delay`, clearing any previously scheduled call.\n   */\n  start(delay, fn) {\n    this.clear();\n    this.currentId = setTimeout(() => {\n      this.currentId = null;\n      fn();\n    }, delay);\n  }\n}\nexport default function useTimeout() {\n  const timeout = useLazyRef(Timeout.create).current;\n  useOnMount(timeout.disposeEffect);\n  return timeout;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"prefixCls\", \"className\", \"style\", \"checked\", \"disabled\", \"defaultChecked\", \"type\", \"title\", \"onChange\"];\nimport classNames from 'classnames';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport * as React from 'react';\nimport { forwardRef, useImperativeHandle, useRef } from 'react';\nexport var Checkbox = /*#__PURE__*/forwardRef(function (props, ref) {\n  var _props$prefixCls = props.prefixCls,\n    prefixCls = _props$prefixCls === void 0 ? 'rc-checkbox' : _props$prefixCls,\n    className = props.className,\n    style = props.style,\n    checked = props.checked,\n    disabled = props.disabled,\n    _props$defaultChecked = props.defaultChecked,\n    defaultChecked = _props$defaultChecked === void 0 ? false : _props$defaultChecked,\n    _props$type = props.type,\n    type = _props$type === void 0 ? 'checkbox' : _props$type,\n    title = props.title,\n    onChange = props.onChange,\n    inputProps = _objectWithoutProperties(props, _excluded);\n  var inputRef = useRef(null);\n  var _useMergedState = useMergedState(defaultChecked, {\n      value: checked\n    }),\n    _useMergedState2 = _slicedToArray(_useMergedState, 2),\n    rawValue = _useMergedState2[0],\n    setRawValue = _useMergedState2[1];\n  useImperativeHandle(ref, function () {\n    return {\n      focus: function focus(options) {\n        var _inputRef$current;\n        (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 || _inputRef$current.focus(options);\n      },\n      blur: function blur() {\n        var _inputRef$current2;\n        (_inputRef$current2 = inputRef.current) === null || _inputRef$current2 === void 0 || _inputRef$current2.blur();\n      },\n      input: inputRef.current\n    };\n  });\n  var classString = classNames(prefixCls, className, _defineProperty(_defineProperty({}, \"\".concat(prefixCls, \"-checked\"), rawValue), \"\".concat(prefixCls, \"-disabled\"), disabled));\n  var handleChange = function handleChange(e) {\n    if (disabled) {\n      return;\n    }\n    if (!('checked' in props)) {\n      setRawValue(e.target.checked);\n    }\n    onChange === null || onChange === void 0 || onChange({\n      target: _objectSpread(_objectSpread({}, props), {}, {\n        type: type,\n        checked: e.target.checked\n      }),\n      stopPropagation: function stopPropagation() {\n        e.stopPropagation();\n      },\n      preventDefault: function preventDefault() {\n        e.preventDefault();\n      },\n      nativeEvent: e.nativeEvent\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: classString,\n    title: title,\n    style: style\n  }, /*#__PURE__*/React.createElement(\"input\", _extends({}, inputProps, {\n    className: \"\".concat(prefixCls, \"-input\"),\n    ref: inputRef,\n    onChange: handleChange,\n    disabled: disabled,\n    checked: !!rawValue,\n    type: type\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"\".concat(prefixCls, \"-inner\")\n  }));\n});\nexport default Checkbox;","import React from 'react';\nconst GroupContext = /*#__PURE__*/React.createContext(null);\nexport default GroupContext;","import { unit } from '@ant-design/cssinjs';\nimport { genFocusOutline, resetComponent } from '../../style';\nimport { genStyleHooks, mergeToken } from '../../theme/internal';\n// ============================== Styles ==============================\nexport const genCheckboxStyle = token => {\n  const {\n    checkboxCls\n  } = token;\n  const wrapperCls = `${checkboxCls}-wrapper`;\n  return [\n  // ===================== Basic =====================\n  {\n    // Group\n    [`${checkboxCls}-group`]: Object.assign(Object.assign({}, resetComponent(token)), {\n      display: 'inline-flex',\n      flexWrap: 'wrap',\n      columnGap: token.marginXS,\n      // Group > Grid\n      [`> ${token.antCls}-row`]: {\n        flex: 1\n      }\n    }),\n    // Wrapper\n    [wrapperCls]: Object.assign(Object.assign({}, resetComponent(token)), {\n      display: 'inline-flex',\n      alignItems: 'baseline',\n      cursor: 'pointer',\n      // Fix checkbox & radio in flex align #30260\n      '&:after': {\n        display: 'inline-block',\n        width: 0,\n        overflow: 'hidden',\n        content: \"'\\\\a0'\"\n      },\n      // Checkbox near checkbox\n      [`& + ${wrapperCls}`]: {\n        marginInlineStart: 0\n      },\n      [`&${wrapperCls}-in-form-item`]: {\n        'input[type=\"checkbox\"]': {\n          width: 14,\n          // FIXME: magic\n          height: 14 // FIXME: magic\n        }\n      }\n    }),\n    // Wrapper > Checkbox\n    [checkboxCls]: Object.assign(Object.assign({}, resetComponent(token)), {\n      position: 'relative',\n      whiteSpace: 'nowrap',\n      lineHeight: 1,\n      cursor: 'pointer',\n      borderRadius: token.borderRadiusSM,\n      // To make alignment right when `controlHeight` is changed\n      // Ref: https://github.com/ant-design/ant-design/issues/41564\n      alignSelf: 'center',\n      // Wrapper > Checkbox > input\n      [`${checkboxCls}-input`]: {\n        position: 'absolute',\n        // Since baseline align will get additional space offset,\n        // we need to move input to top to make it align with text.\n        // Ref: https://github.com/ant-design/ant-design/issues/38926#issuecomment-1486137799\n        inset: 0,\n        zIndex: 1,\n        cursor: 'pointer',\n        opacity: 0,\n        margin: 0,\n        [`&:focus-visible + ${checkboxCls}-inner`]: Object.assign({}, genFocusOutline(token))\n      },\n      // Wrapper > Checkbox > inner\n      [`${checkboxCls}-inner`]: {\n        boxSizing: 'border-box',\n        display: 'block',\n        width: token.checkboxSize,\n        height: token.checkboxSize,\n        direction: 'ltr',\n        backgroundColor: token.colorBgContainer,\n        border: `${unit(token.lineWidth)} ${token.lineType} ${token.colorBorder}`,\n        borderRadius: token.borderRadiusSM,\n        borderCollapse: 'separate',\n        transition: `all ${token.motionDurationSlow}`,\n        '&:after': {\n          boxSizing: 'border-box',\n          position: 'absolute',\n          top: '50%',\n          insetInlineStart: '25%',\n          display: 'table',\n          width: token.calc(token.checkboxSize).div(14).mul(5).equal(),\n          height: token.calc(token.checkboxSize).div(14).mul(8).equal(),\n          border: `${unit(token.lineWidthBold)} solid ${token.colorWhite}`,\n          borderTop: 0,\n          borderInlineStart: 0,\n          transform: 'rotate(45deg) scale(0) translate(-50%,-50%)',\n          opacity: 0,\n          content: '\"\"',\n          transition: `all ${token.motionDurationFast} ${token.motionEaseInBack}, opacity ${token.motionDurationFast}`\n        }\n      },\n      // Wrapper > Checkbox + Text\n      '& + span': {\n        paddingInlineStart: token.paddingXS,\n        paddingInlineEnd: token.paddingXS\n      }\n    })\n  },\n  // ===================== Hover =====================\n  {\n    // Wrapper & Wrapper > Checkbox\n    [`\n        ${wrapperCls}:not(${wrapperCls}-disabled),\n        ${checkboxCls}:not(${checkboxCls}-disabled)\n      `]: {\n      [`&:hover ${checkboxCls}-inner`]: {\n        borderColor: token.colorPrimary\n      }\n    },\n    [`${wrapperCls}:not(${wrapperCls}-disabled)`]: {\n      [`&:hover ${checkboxCls}-checked:not(${checkboxCls}-disabled) ${checkboxCls}-inner`]: {\n        backgroundColor: token.colorPrimaryHover,\n        borderColor: 'transparent'\n      },\n      [`&:hover ${checkboxCls}-checked:not(${checkboxCls}-disabled):after`]: {\n        borderColor: token.colorPrimaryHover\n      }\n    }\n  },\n  // ==================== Checked ====================\n  {\n    // Wrapper > Checkbox\n    [`${checkboxCls}-checked`]: {\n      [`${checkboxCls}-inner`]: {\n        backgroundColor: token.colorPrimary,\n        borderColor: token.colorPrimary,\n        '&:after': {\n          opacity: 1,\n          transform: 'rotate(45deg) scale(1) translate(-50%,-50%)',\n          transition: `all ${token.motionDurationMid} ${token.motionEaseOutBack} ${token.motionDurationFast}`\n        }\n      }\n    },\n    [`\n        ${wrapperCls}-checked:not(${wrapperCls}-disabled),\n        ${checkboxCls}-checked:not(${checkboxCls}-disabled)\n      `]: {\n      [`&:hover ${checkboxCls}-inner`]: {\n        backgroundColor: token.colorPrimaryHover,\n        borderColor: 'transparent'\n      }\n    }\n  },\n  // ================= Indeterminate =================\n  {\n    [checkboxCls]: {\n      '&-indeterminate': {\n        // Wrapper > Checkbox > inner\n        [`${checkboxCls}-inner`]: {\n          backgroundColor: token.colorBgContainer,\n          borderColor: token.colorBorder,\n          '&:after': {\n            top: '50%',\n            insetInlineStart: '50%',\n            width: token.calc(token.fontSizeLG).div(2).equal(),\n            height: token.calc(token.fontSizeLG).div(2).equal(),\n            backgroundColor: token.colorPrimary,\n            border: 0,\n            transform: 'translate(-50%, -50%) scale(1)',\n            opacity: 1,\n            content: '\"\"'\n          }\n        }\n      }\n    }\n  },\n  // ==================== Disable ====================\n  {\n    // Wrapper\n    [`${wrapperCls}-disabled`]: {\n      cursor: 'not-allowed'\n    },\n    // Wrapper > Checkbox\n    [`${checkboxCls}-disabled`]: {\n      // Wrapper > Checkbox > input\n      [`&, ${checkboxCls}-input`]: {\n        cursor: 'not-allowed',\n        // Disabled for native input to enable Tooltip event handler\n        // ref: https://github.com/ant-design/ant-design/issues/39822#issuecomment-1365075901\n        pointerEvents: 'none'\n      },\n      // Wrapper > Checkbox > inner\n      [`${checkboxCls}-inner`]: {\n        background: token.colorBgContainerDisabled,\n        borderColor: token.colorBorder,\n        '&:after': {\n          borderColor: token.colorTextDisabled\n        }\n      },\n      '&:after': {\n        display: 'none'\n      },\n      '& + span': {\n        color: token.colorTextDisabled\n      },\n      [`&${checkboxCls}-indeterminate ${checkboxCls}-inner::after`]: {\n        background: token.colorTextDisabled\n      }\n    }\n  }];\n};\n// ============================== Export ==============================\nexport function getStyle(prefixCls, token) {\n  const checkboxToken = mergeToken(token, {\n    checkboxCls: `.${prefixCls}`,\n    checkboxSize: token.controlInteractiveSize\n  });\n  return [genCheckboxStyle(checkboxToken)];\n}\nexport default genStyleHooks('Checkbox', (token, _ref) => {\n  let {\n    prefixCls\n  } = _ref;\n  return [getStyle(prefixCls, token)];\n});","\"use client\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport RcCheckbox from 'rc-checkbox';\nimport { devUseWarning } from '../_util/warning';\nimport Wave from '../_util/wave';\nimport { TARGET_CLS } from '../_util/wave/interface';\nimport { ConfigContext } from '../config-provider';\nimport DisabledContext from '../config-provider/DisabledContext';\nimport useCSSVarCls from '../config-provider/hooks/useCSSVarCls';\nimport { FormItemInputContext } from '../form/context';\nimport GroupContext from './GroupContext';\nimport useStyle from './style';\nconst InternalCheckbox = (props, ref) => {\n  var _a;\n  const {\n      prefixCls: customizePrefixCls,\n      className,\n      rootClassName,\n      children,\n      indeterminate = false,\n      style,\n      onMouseEnter,\n      onMouseLeave,\n      skipGroup = false,\n      disabled\n    } = props,\n    restProps = __rest(props, [\"prefixCls\", \"className\", \"rootClassName\", \"children\", \"indeterminate\", \"style\", \"onMouseEnter\", \"onMouseLeave\", \"skipGroup\", \"disabled\"]);\n  const {\n    getPrefixCls,\n    direction,\n    checkbox\n  } = React.useContext(ConfigContext);\n  const checkboxGroup = React.useContext(GroupContext);\n  const {\n    isFormItemInput\n  } = React.useContext(FormItemInputContext);\n  const contextDisabled = React.useContext(DisabledContext);\n  const mergedDisabled = (_a = (checkboxGroup === null || checkboxGroup === void 0 ? void 0 : checkboxGroup.disabled) || disabled) !== null && _a !== void 0 ? _a : contextDisabled;\n  const prevValue = React.useRef(restProps.value);\n  if (process.env.NODE_ENV !== 'production') {\n    const warning = devUseWarning('Checkbox');\n    process.env.NODE_ENV !== \"production\" ? warning('checked' in restProps || !!checkboxGroup || !('value' in restProps), 'usage', '`value` is not a valid prop, do you mean `checked`?') : void 0;\n  }\n  React.useEffect(() => {\n    checkboxGroup === null || checkboxGroup === void 0 ? void 0 : checkboxGroup.registerValue(restProps.value);\n  }, []);\n  React.useEffect(() => {\n    if (skipGroup) {\n      return;\n    }\n    if (restProps.value !== prevValue.current) {\n      checkboxGroup === null || checkboxGroup === void 0 ? void 0 : checkboxGroup.cancelValue(prevValue.current);\n      checkboxGroup === null || checkboxGroup === void 0 ? void 0 : checkboxGroup.registerValue(restProps.value);\n      prevValue.current = restProps.value;\n    }\n    return () => checkboxGroup === null || checkboxGroup === void 0 ? void 0 : checkboxGroup.cancelValue(restProps.value);\n  }, [restProps.value]);\n  const prefixCls = getPrefixCls('checkbox', customizePrefixCls);\n  const rootCls = useCSSVarCls(prefixCls);\n  const [wrapCSSVar, hashId, cssVarCls] = useStyle(prefixCls, rootCls);\n  const checkboxProps = Object.assign({}, restProps);\n  if (checkboxGroup && !skipGroup) {\n    checkboxProps.onChange = function () {\n      if (restProps.onChange) {\n        restProps.onChange.apply(restProps, arguments);\n      }\n      if (checkboxGroup.toggleOption) {\n        checkboxGroup.toggleOption({\n          label: children,\n          value: restProps.value\n        });\n      }\n    };\n    checkboxProps.name = checkboxGroup.name;\n    checkboxProps.checked = checkboxGroup.value.includes(restProps.value);\n  }\n  const classString = classNames(`${prefixCls}-wrapper`, {\n    [`${prefixCls}-rtl`]: direction === 'rtl',\n    [`${prefixCls}-wrapper-checked`]: checkboxProps.checked,\n    [`${prefixCls}-wrapper-disabled`]: mergedDisabled,\n    [`${prefixCls}-wrapper-in-form-item`]: isFormItemInput\n  }, checkbox === null || checkbox === void 0 ? void 0 : checkbox.className, className, rootClassName, cssVarCls, rootCls, hashId);\n  const checkboxClass = classNames({\n    [`${prefixCls}-indeterminate`]: indeterminate\n  }, TARGET_CLS, hashId);\n  const ariaChecked = indeterminate ? 'mixed' : undefined;\n  return wrapCSSVar( /*#__PURE__*/React.createElement(Wave, {\n    component: \"Checkbox\",\n    disabled: mergedDisabled\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: classString,\n    style: Object.assign(Object.assign({}, checkbox === null || checkbox === void 0 ? void 0 : checkbox.style), style),\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave\n  }, /*#__PURE__*/React.createElement(RcCheckbox, Object.assign({\n    \"aria-checked\": ariaChecked\n  }, checkboxProps, {\n    prefixCls: prefixCls,\n    className: checkboxClass,\n    disabled: mergedDisabled,\n    ref: ref\n  })), children !== undefined && /*#__PURE__*/React.createElement(\"span\", null, children))));\n};\nconst Checkbox = /*#__PURE__*/React.forwardRef(InternalCheckbox);\nif (process.env.NODE_ENV !== 'production') {\n  Checkbox.displayName = 'Checkbox';\n}\nexport default Checkbox;","\"use client\";\n\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport omit from \"rc-util/es/omit\";\nimport { ConfigContext } from '../config-provider';\nimport useCSSVarCls from '../config-provider/hooks/useCSSVarCls';\nimport Checkbox from './Checkbox';\nimport GroupContext from './GroupContext';\nimport useStyle from './style';\nconst CheckboxGroup = /*#__PURE__*/React.forwardRef((props, ref) => {\n  const {\n      defaultValue,\n      children,\n      options = [],\n      prefixCls: customizePrefixCls,\n      className,\n      rootClassName,\n      style,\n      onChange\n    } = props,\n    restProps = __rest(props, [\"defaultValue\", \"children\", \"options\", \"prefixCls\", \"className\", \"rootClassName\", \"style\", \"onChange\"]);\n  const {\n    getPrefixCls,\n    direction\n  } = React.useContext(ConfigContext);\n  const [value, setValue] = React.useState(restProps.value || defaultValue || []);\n  const [registeredValues, setRegisteredValues] = React.useState([]);\n  React.useEffect(() => {\n    if ('value' in restProps) {\n      setValue(restProps.value || []);\n    }\n  }, [restProps.value]);\n  const memoOptions = React.useMemo(() => options.map(option => {\n    if (typeof option === 'string' || typeof option === 'number') {\n      return {\n        label: option,\n        value: option\n      };\n    }\n    return option;\n  }), [options]);\n  const cancelValue = val => {\n    setRegisteredValues(prevValues => prevValues.filter(v => v !== val));\n  };\n  const registerValue = val => {\n    setRegisteredValues(prevValues => [].concat(_toConsumableArray(prevValues), [val]));\n  };\n  const toggleOption = option => {\n    const optionIndex = value.indexOf(option.value);\n    const newValue = _toConsumableArray(value);\n    if (optionIndex === -1) {\n      newValue.push(option.value);\n    } else {\n      newValue.splice(optionIndex, 1);\n    }\n    if (!('value' in restProps)) {\n      setValue(newValue);\n    }\n    onChange === null || onChange === void 0 ? void 0 : onChange(newValue.filter(val => registeredValues.includes(val)).sort((a, b) => {\n      const indexA = memoOptions.findIndex(opt => opt.value === a);\n      const indexB = memoOptions.findIndex(opt => opt.value === b);\n      return indexA - indexB;\n    }));\n  };\n  const prefixCls = getPrefixCls('checkbox', customizePrefixCls);\n  const groupPrefixCls = `${prefixCls}-group`;\n  const rootCls = useCSSVarCls(prefixCls);\n  const [wrapCSSVar, hashId, cssVarCls] = useStyle(prefixCls, rootCls);\n  const domProps = omit(restProps, ['value', 'disabled']);\n  const childrenNode = options.length ? memoOptions.map(option => ( /*#__PURE__*/React.createElement(Checkbox, {\n    prefixCls: prefixCls,\n    key: option.value.toString(),\n    disabled: 'disabled' in option ? option.disabled : restProps.disabled,\n    value: option.value,\n    checked: value.includes(option.value),\n    onChange: option.onChange,\n    className: `${groupPrefixCls}-item`,\n    style: option.style,\n    title: option.title,\n    id: option.id,\n    required: option.required\n  }, option.label))) : children;\n  const context = {\n    toggleOption,\n    value,\n    disabled: restProps.disabled,\n    name: restProps.name,\n    // https://github.com/ant-design/ant-design/issues/16376\n    registerValue,\n    cancelValue\n  };\n  const classString = classNames(groupPrefixCls, {\n    [`${groupPrefixCls}-rtl`]: direction === 'rtl'\n  }, className, rootClassName, cssVarCls, rootCls, hashId);\n  return wrapCSSVar( /*#__PURE__*/React.createElement(\"div\", Object.assign({\n    className: classString,\n    style: style\n  }, domProps, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(GroupContext.Provider, {\n    value: context\n  }, childrenNode)));\n});\nexport { GroupContext };\nexport default CheckboxGroup;","\"use client\";\n\nimport InternalCheckbox from './Checkbox';\nimport Group from './Group';\nconst Checkbox = InternalCheckbox;\nCheckbox.Group = Group;\nCheckbox.__ANT_CHECKBOX = true;\nif (process.env.NODE_ENV !== 'production') {\n  Checkbox.displayName = 'Checkbox';\n}\nexport default Checkbox;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nmodule.exports = _arrayWithHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\nmodule.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _extends() {\n  module.exports = _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _extends.apply(this, arguments);\n}\nmodule.exports = _extends, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nmodule.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nmodule.exports = _iterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nmodule.exports = _iterableToArrayLimit, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nmodule.exports = _nonIterableRest, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nmodule.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  for (var key in source) {\n    if (Object.prototype.hasOwnProperty.call(source, key)) {\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nmodule.exports = _objectWithoutPropertiesLoose, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nvar nonIterableRest = require(\"./nonIterableRest.js\");\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\nmodule.exports = _slicedToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\nvar iterableToArray = require(\"./iterableToArray.js\");\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\nmodule.exports = _toConsumableArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","/** @param {Object<string, any>} blockExports */\nexport function registerBlocks(blockExports) {\n  for (let blockName in blockExports) {\n    let tagName = [...blockName].reduce((name, char) => {\n      if (char.toUpperCase() === char) {\n        char = '-' + char.toLowerCase();\n      }\n      return (name += char);\n    }, '');\n    if (tagName.startsWith('-')) {\n      tagName = tagName.replace('-', '');\n    }\n    if (!tagName.startsWith('lr-')) {\n      tagName = 'lr-' + tagName;\n    }\n    if (blockExports[blockName].reg) {\n      blockExports[blockName].reg(tagName);\n    }\n  }\n}\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\n\n// core/Data.js\nfunction cloneObj(obj) {\n  let clone = (o) => {\n    var _a;\n    for (let prop in o) {\n      if (((_a = o[prop]) == null ? void 0 : _a.constructor) === Object) {\n        o[prop] = clone(o[prop]);\n      }\n    }\n    return { ...o };\n  };\n  return clone(obj);\n}\nvar Data = class {\n  constructor(schema) {\n    if (schema.constructor === Object) {\n      this.store = cloneObj(schema);\n    } else {\n      this._storeIsProxy = true;\n      this.store = schema;\n    }\n    this.callbackMap = Object.create(null);\n  }\n  static warn(actionName, prop) {\n    console.warn(`Symbiote Data: cannot ${actionName}. Prop name: ` + prop);\n  }\n  read(prop) {\n    if (!this._storeIsProxy && !this.store.hasOwnProperty(prop)) {\n      Data.warn(\"read\", prop);\n      return null;\n    }\n    return this.store[prop];\n  }\n  has(prop) {\n    return this._storeIsProxy ? this.store[prop] !== void 0 : this.store.hasOwnProperty(prop);\n  }\n  add(prop, val, rewrite = false) {\n    if (!rewrite && Object.keys(this.store).includes(prop)) {\n      return;\n    }\n    this.store[prop] = val;\n    this.notify(prop);\n  }\n  pub(prop, val) {\n    if (!this._storeIsProxy && !this.store.hasOwnProperty(prop)) {\n      Data.warn(\"publish\", prop);\n      return;\n    }\n    this.store[prop] = val;\n    this.notify(prop);\n  }\n  multiPub(updObj) {\n    for (let prop in updObj) {\n      this.pub(prop, updObj[prop]);\n    }\n  }\n  notify(prop) {\n    if (this.callbackMap[prop]) {\n      this.callbackMap[prop].forEach((callback) => {\n        callback(this.store[prop]);\n      });\n    }\n  }\n  sub(prop, callback, init = true) {\n    if (!this._storeIsProxy && !this.store.hasOwnProperty(prop)) {\n      Data.warn(\"subscribe\", prop);\n      return null;\n    }\n    if (!this.callbackMap[prop]) {\n      this.callbackMap[prop] = /* @__PURE__ */ new Set();\n    }\n    this.callbackMap[prop].add(callback);\n    if (init) {\n      callback(this.store[prop]);\n    }\n    return {\n      remove: () => {\n        this.callbackMap[prop].delete(callback);\n        if (!this.callbackMap[prop].size) {\n          delete this.callbackMap[prop];\n        }\n      },\n      callback\n    };\n  }\n  static registerCtx(schema, uid = Symbol()) {\n    let data = Data.globalStore.get(uid);\n    if (data) {\n      console.warn('State: context UID \"' + uid + '\" already in use');\n    } else {\n      data = new Data(schema);\n      Data.globalStore.set(uid, data);\n    }\n    return data;\n  }\n  static deleteCtx(uid) {\n    Data.globalStore.delete(uid);\n  }\n  static getCtx(uid, notify = true) {\n    return Data.globalStore.get(uid) || (notify && console.warn('State: wrong context UID - \"' + uid + '\"'), null);\n  }\n};\nData.globalStore = /* @__PURE__ */ new Map();\n\n// core/dictionary.js\nvar DICT = Object.freeze({\n  BIND_ATTR: \"set\",\n  ATTR_BIND_PRFX: \"@\",\n  EXT_DATA_CTX_PRFX: \"*\",\n  NAMED_DATA_CTX_SPLTR: \"/\",\n  CTX_NAME_ATTR: \"ctx-name\",\n  CTX_OWNER_ATTR: \"ctx-owner\",\n  CSS_CTX_PROP: \"--ctx-name\",\n  EL_REF_ATTR: \"ref\",\n  AUTO_TAG_PRFX: \"sym\",\n  REPEAT_ATTR: \"repeat\",\n  REPEAT_ITEM_TAG_ATTR: \"repeat-item-tag\",\n  SET_LATER_KEY: \"__toSetLater__\",\n  USE_TPL: \"use-template\",\n  ROOT_STYLE_ATTR_NAME: \"sym-component\"\n});\n\n// utils/UID.js\nvar CHARS = \"1234567890QWERTYUIOPASDFGHJKLZXCVBNMqwertyuiopasdfghjklzxcvbnm\";\nvar CHLENGTH = CHARS.length - 1;\nvar UID = class {\n  static generate(pattern = \"XXXXXXXXX-XXX\") {\n    let uid = \"\";\n    for (let i = 0; i < pattern.length; i++) {\n      uid += pattern[i] === \"-\" ? pattern[i] : CHARS.charAt(Math.random() * CHLENGTH);\n    }\n    return uid;\n  }\n};\n\n// utils/setNestedProp.js\nfunction setNestedProp(parent, path, value) {\n  let success = true;\n  let lastStep;\n  let propPath = path.split(\".\");\n  propPath.forEach((step, idx) => {\n    if (idx < propPath.length - 1) {\n      parent = parent[step];\n    } else {\n      lastStep = step;\n    }\n  });\n  if (parent) {\n    parent[lastStep] = value;\n  } else {\n    success = false;\n  }\n  return success;\n}\n\n// utils/kebabToCamel.js\nfunction kebabToCamel(string) {\n  return string.split(\"-\").map((p, i) => {\n    return p && i ? p[0].toUpperCase() + p.slice(1) : p;\n  }).join(\"\").split(\"_\").map((p, i) => {\n    return p && i ? p.toUpperCase() : p;\n  }).join(\"\");\n}\n\n// core/repeatProcessor.js\nfunction repeatProcessor(fr, fnCtx) {\n  [...fr.querySelectorAll(`[${DICT.REPEAT_ATTR}]`)].forEach((el) => {\n    let itemTag = el.getAttribute(DICT.REPEAT_ITEM_TAG_ATTR);\n    let itemClass;\n    if (itemTag) {\n      itemClass = window.customElements.get(itemTag);\n    }\n    if (!itemClass) {\n      itemClass = class extends fnCtx.BaseComponent {\n        constructor() {\n          super();\n          if (!itemTag) {\n            this.style.display = \"contents\";\n          }\n        }\n      };\n      let itemTpl = el.innerHTML;\n      itemClass.template = itemTpl;\n      itemClass.reg(itemTag);\n    }\n    while (el.firstChild) {\n      el.firstChild.remove();\n    }\n    let repeatDataKey = el.getAttribute(DICT.REPEAT_ATTR);\n    fnCtx.sub(repeatDataKey, (data) => {\n      if (!data) {\n        while (el.firstChild) {\n          el.firstChild.remove();\n        }\n        return;\n      }\n      let currentList = [...el.children];\n      let fragment;\n      let fillItems = (items) => {\n        items.forEach((item, idx) => {\n          if (currentList[idx]) {\n            if (currentList[idx].set$) {\n              setTimeout(() => {\n                currentList[idx].set$(item);\n              });\n            } else {\n              for (let k in item) {\n                currentList[idx][k] = item[k];\n              }\n            }\n          } else {\n            if (!fragment) {\n              fragment = new DocumentFragment();\n            }\n            let repeatItem = new itemClass();\n            Object.assign(repeatItem.init$, item);\n            fragment.appendChild(repeatItem);\n          }\n        });\n        fragment && el.appendChild(fragment);\n        let oversize = currentList.slice(items.length, currentList.length);\n        for (let exItm of oversize) {\n          exItm.remove();\n        }\n      };\n      if (data.constructor === Array) {\n        fillItems(data);\n      } else if (data.constructor === Object) {\n        let items = [];\n        for (let itemKey in data) {\n          let init = data[itemKey];\n          Object.defineProperty(init, \"_KEY_\", {\n            value: itemKey,\n            enumerable: true\n          });\n          items.push(init);\n        }\n        fillItems(items);\n      } else {\n        console.warn(\"Symbiote repeat data type error:\");\n        console.log(data);\n      }\n    });\n    el.removeAttribute(DICT.REPEAT_ATTR);\n    el.removeAttribute(DICT.REPEAT_ITEM_TAG_ATTR);\n  });\n}\n\n// core/tpl-processors.js\nvar DEFAULT_SLOT_KEY = \"__default__\";\nfunction slotProcessor(fr, fnCtx) {\n  if (fnCtx.shadowRoot) {\n    return;\n  }\n  let slots = [...fr.querySelectorAll(\"slot\")];\n  if (!slots.length) {\n    return;\n  }\n  let slotMap = {};\n  slots.forEach((slot) => {\n    let slotName = slot.getAttribute(\"name\") || DEFAULT_SLOT_KEY;\n    slotMap[slotName] = {\n      slot,\n      fr: document.createDocumentFragment()\n    };\n  });\n  fnCtx.initChildren.forEach((child) => {\n    var _a;\n    let slotName = DEFAULT_SLOT_KEY;\n    if (child instanceof Element && child.hasAttribute(\"slot\")) {\n      slotName = child.getAttribute(\"slot\");\n      child.removeAttribute(\"slot\");\n    }\n    (_a = slotMap[slotName]) == null ? void 0 : _a.fr.appendChild(child);\n  });\n  Object.values(slotMap).forEach((mapObj) => {\n    if (mapObj.fr.childNodes.length) {\n      mapObj.slot.parentNode.replaceChild(mapObj.fr, mapObj.slot);\n    } else if (mapObj.slot.childNodes.length) {\n      let slotFr = document.createDocumentFragment();\n      slotFr.append(...mapObj.slot.childNodes);\n      mapObj.slot.parentNode.replaceChild(slotFr, mapObj.slot);\n    } else {\n      mapObj.slot.remove();\n    }\n  });\n}\nfunction refProcessor(fr, fnCtx) {\n  [...fr.querySelectorAll(`[${DICT.EL_REF_ATTR}]`)].forEach((el) => {\n    let refName = el.getAttribute(DICT.EL_REF_ATTR);\n    fnCtx.ref[refName] = el;\n    el.removeAttribute(DICT.EL_REF_ATTR);\n  });\n}\nfunction domSetProcessor(fr, fnCtx) {\n  [...fr.querySelectorAll(`[${DICT.BIND_ATTR}]`)].forEach((el) => {\n    let subStr = el.getAttribute(DICT.BIND_ATTR);\n    let keyValArr = subStr.split(\";\");\n    [...el.attributes].forEach((attr) => {\n      if (attr.name.startsWith(\"-\") && attr.value) {\n        let key = kebabToCamel(attr.name.replace(\"-\", \"\"));\n        keyValArr.push(key + \":\" + attr.value);\n        el.removeAttribute(attr.name);\n      }\n    });\n    keyValArr.forEach((keyValStr) => {\n      if (!keyValStr) {\n        return;\n      }\n      let kv = keyValStr.split(\":\").map((str) => str.trim());\n      let prop = kv[0];\n      let isAttr;\n      if (prop.indexOf(DICT.ATTR_BIND_PRFX) === 0) {\n        isAttr = true;\n        prop = prop.replace(DICT.ATTR_BIND_PRFX, \"\");\n      }\n      let valKeysArr = kv[1].split(\",\").map((valKey) => {\n        return valKey.trim();\n      });\n      for (let valKey of valKeysArr) {\n        let castType;\n        if (valKey.startsWith(\"!!\")) {\n          castType = \"double\";\n          valKey = valKey.replace(\"!!\", \"\");\n        } else if (valKey.startsWith(\"!\")) {\n          castType = \"single\";\n          valKey = valKey.replace(\"!\", \"\");\n        }\n        fnCtx.sub(valKey, (val) => {\n          if (castType === \"double\") {\n            val = !!val;\n          } else if (castType === \"single\") {\n            val = !val;\n          }\n          if (isAttr) {\n            if ((val == null ? void 0 : val.constructor) === Boolean) {\n              val ? el.setAttribute(prop, \"\") : el.removeAttribute(prop);\n            } else {\n              el.setAttribute(prop, val);\n            }\n          } else {\n            if (!setNestedProp(el, prop, val)) {\n              if (!el[DICT.SET_LATER_KEY]) {\n                el[DICT.SET_LATER_KEY] = Object.create(null);\n              }\n              el[DICT.SET_LATER_KEY][prop] = val;\n            }\n          }\n        });\n      }\n    });\n    el.removeAttribute(DICT.BIND_ATTR);\n  });\n}\nvar OPEN_TOKEN = \"{{\";\nvar CLOSE_TOKEN = \"}}\";\nvar SKIP_ATTR = \"skip-text\";\nfunction getTextNodesWithTokens(el) {\n  let node;\n  let result = [];\n  let walk = document.createTreeWalker(el, NodeFilter.SHOW_TEXT, {\n    acceptNode: (txt) => {\n      var _a;\n      return !((_a = txt.parentElement) == null ? void 0 : _a.hasAttribute(SKIP_ATTR)) && txt.textContent.includes(OPEN_TOKEN) && txt.textContent.includes(CLOSE_TOKEN) && 1;\n    }\n  });\n  while (node = walk.nextNode()) {\n    result.push(node);\n  }\n  return result;\n}\nvar txtNodesProcessor = function(fr, fnCtx) {\n  let txtNodes = getTextNodesWithTokens(fr);\n  txtNodes.forEach((txtNode) => {\n    let tokenNodes = [];\n    let offset;\n    while (txtNode.textContent.includes(CLOSE_TOKEN)) {\n      if (txtNode.textContent.startsWith(OPEN_TOKEN)) {\n        offset = txtNode.textContent.indexOf(CLOSE_TOKEN) + CLOSE_TOKEN.length;\n        txtNode.splitText(offset);\n        tokenNodes.push(txtNode);\n      } else {\n        offset = txtNode.textContent.indexOf(OPEN_TOKEN);\n        txtNode.splitText(offset);\n      }\n      txtNode = txtNode.nextSibling;\n    }\n    tokenNodes.forEach((tNode) => {\n      let prop = tNode.textContent.replace(OPEN_TOKEN, \"\").replace(CLOSE_TOKEN, \"\");\n      tNode.textContent = \"\";\n      fnCtx.sub(prop, (val) => {\n        tNode.textContent = val;\n      });\n    });\n  });\n};\nvar tpl_processors_default = [repeatProcessor, slotProcessor, refProcessor, domSetProcessor, txtNodesProcessor];\n\n// utils/parseCssPropertyValue.js\nvar SINGLE_QUOTE = \"'\";\nvar DOUBLE_QUOTE = '\"';\nvar ESCAPED_PATTERN = /\\\\([0-9a-fA-F]{1,6} ?)/g;\nfunction hasLeadingTrailingQuotes(str) {\n  return (str[0] === DOUBLE_QUOTE || str[0] === SINGLE_QUOTE) && (str[str.length - 1] === DOUBLE_QUOTE || str[str.length - 1] === SINGLE_QUOTE);\n}\nfunction trimQuotes(str) {\n  if (str[0] === DOUBLE_QUOTE || str[0] === SINGLE_QUOTE) {\n    str = str.slice(1);\n  }\n  if (str[str.length - 1] === DOUBLE_QUOTE || str[str.length - 1] === SINGLE_QUOTE) {\n    str = str.slice(0, -1);\n  }\n  return str;\n}\nfunction escapeQuotes(str) {\n  let result = \"\";\n  let prev = \"\";\n  for (var i = 0; i < str.length; i++) {\n    const next = str[i + 1];\n    if (str[i] === \"\\\\\" && next === '\"') {\n      result += '\\\\\"';\n      i++;\n    } else if (str[i] === '\"' && prev !== \"\\\\\") {\n      result += '\\\\\"';\n    } else {\n      result += str[i];\n    }\n    prev = str[i];\n  }\n  return result;\n}\nfunction parseCssPropertyValue(input) {\n  let output = input;\n  if (hasLeadingTrailingQuotes(input)) {\n    output = trimQuotes(output);\n    output = output.replace(ESCAPED_PATTERN, (match, p1) => {\n      return String.fromCodePoint(parseInt(p1.trim(), 16));\n    });\n    output = output.replaceAll(\"\\\\\\n\", \"\\\\n\");\n    output = escapeQuotes(output);\n    output = DOUBLE_QUOTE + output + DOUBLE_QUOTE;\n  }\n  try {\n    return JSON.parse(output);\n  } catch (err) {\n    throw new Error(`Failed to parse CSS property value: ${output}. Original input: ${input}`);\n  }\n}\n\n// core/BaseComponent.js\nvar autoTagsCount = 0;\nvar styleMutationObserver = null;\nvar styleMutationObserverCbList = null;\nvar _BaseComponent = class extends HTMLElement {\n  constructor() {\n    super();\n    __publicField(this, \"updateCssData\", () => {\n      var _a;\n      this.dropCssDataCache();\n      (_a = this.__boundCssProps) == null ? void 0 : _a.forEach((ctxProp) => {\n        let val = this.getCssData(this.__extractCssName(ctxProp), true);\n        val !== null && this.$[ctxProp] !== val && (this.$[ctxProp] = val);\n      });\n    });\n    this.init$ = Object.create(null);\n    this.cssInit$ = Object.create(null);\n    this.tplProcessors = /* @__PURE__ */ new Set();\n    this.ref = Object.create(null);\n    this.allSubs = /* @__PURE__ */ new Set();\n    this.pauseRender = false;\n    this.renderShadow = false;\n    this.readyToDestroy = true;\n    this.processInnerHtml = false;\n    this.allowCustomTemplate = false;\n    this.ctxOwner = false;\n  }\n  get BaseComponent() {\n    return _BaseComponent;\n  }\n  initCallback() {\n  }\n  __initCallback() {\n    var _a;\n    if (this.__initialized) {\n      return;\n    }\n    this.__initialized = true;\n    (_a = this.initCallback) == null ? void 0 : _a.call(this);\n  }\n  render(template, shadow = this.renderShadow) {\n    let fr;\n    if ((shadow || this.constructor[\"__shadowStylesUrl\"]) && !this.shadowRoot) {\n      this.attachShadow({\n        mode: \"open\"\n      });\n    }\n    if (this.allowCustomTemplate) {\n      let customTplSelector = this.getAttribute(DICT.USE_TPL);\n      if (customTplSelector) {\n        let root = this.getRootNode();\n        let customTpl = (root == null ? void 0 : root.querySelector(customTplSelector)) || document.querySelector(customTplSelector);\n        if (customTpl) {\n          template = customTpl.content.cloneNode(true);\n        } else {\n          console.warn(`Symbiote template \"${customTplSelector}\" is not found...`);\n        }\n      }\n    }\n    if (this.processInnerHtml) {\n      for (let fn of this.tplProcessors) {\n        fn(this, this);\n      }\n    }\n    if (template || this.constructor[\"template\"]) {\n      if (this.constructor[\"template\"] && !this.constructor[\"__tpl\"]) {\n        this.constructor[\"__tpl\"] = document.createElement(\"template\");\n        this.constructor[\"__tpl\"].innerHTML = this.constructor[\"template\"];\n      }\n      if ((template == null ? void 0 : template.constructor) === DocumentFragment) {\n        fr = template;\n      } else if ((template == null ? void 0 : template.constructor) === String) {\n        let tpl = document.createElement(\"template\");\n        tpl.innerHTML = template;\n        fr = tpl.content.cloneNode(true);\n      } else if (this.constructor[\"__tpl\"]) {\n        fr = this.constructor[\"__tpl\"].content.cloneNode(true);\n      }\n      for (let fn of this.tplProcessors) {\n        fn(fr, this);\n      }\n    }\n    let addFr = () => {\n      fr && (shadow && this.shadowRoot.appendChild(fr) || this.appendChild(fr));\n      this.__initCallback();\n    };\n    if (this.constructor[\"__shadowStylesUrl\"]) {\n      shadow = true;\n      let styleLink = document.createElement(\"link\");\n      styleLink.rel = \"stylesheet\";\n      styleLink.href = this.constructor[\"__shadowStylesUrl\"];\n      styleLink.onload = addFr;\n      this.shadowRoot.prepend(styleLink);\n    } else {\n      addFr();\n    }\n  }\n  addTemplateProcessor(processorFn) {\n    this.tplProcessors.add(processorFn);\n  }\n  get autoCtxName() {\n    if (!this.__autoCtxName) {\n      this.__autoCtxName = UID.generate();\n      this.style.setProperty(DICT.CSS_CTX_PROP, `'${this.__autoCtxName}'`);\n    }\n    return this.__autoCtxName;\n  }\n  get cssCtxName() {\n    return this.getCssData(DICT.CSS_CTX_PROP, true);\n  }\n  get ctxName() {\n    var _a;\n    let ctxName = ((_a = this.getAttribute(DICT.CTX_NAME_ATTR)) == null ? void 0 : _a.trim()) || this.cssCtxName || this.__cachedCtxName || this.autoCtxName;\n    this.__cachedCtxName = ctxName;\n    return ctxName;\n  }\n  get localCtx() {\n    if (!this.__localCtx) {\n      this.__localCtx = Data.registerCtx({}, this);\n    }\n    return this.__localCtx;\n  }\n  get nodeCtx() {\n    return Data.getCtx(this.ctxName, false) || Data.registerCtx({}, this.ctxName);\n  }\n  static __parseProp(prop, fnCtx) {\n    let ctx;\n    let name;\n    if (prop.startsWith(DICT.EXT_DATA_CTX_PRFX)) {\n      ctx = fnCtx.nodeCtx;\n      name = prop.replace(DICT.EXT_DATA_CTX_PRFX, \"\");\n    } else if (prop.includes(DICT.NAMED_DATA_CTX_SPLTR)) {\n      let pArr = prop.split(DICT.NAMED_DATA_CTX_SPLTR);\n      ctx = Data.getCtx(pArr[0]);\n      name = pArr[1];\n    } else {\n      ctx = fnCtx.localCtx;\n      name = prop;\n    }\n    return {\n      ctx,\n      name\n    };\n  }\n  sub(prop, handler, init = true) {\n    let subCb = (val) => {\n      if (!this.isConnected) {\n        return;\n      }\n      handler(val);\n    };\n    let parsed = _BaseComponent.__parseProp(prop, this);\n    if (!parsed.ctx.has(parsed.name)) {\n      window.setTimeout(() => {\n        this.allSubs.add(parsed.ctx.sub(parsed.name, subCb, init));\n      });\n    } else {\n      this.allSubs.add(parsed.ctx.sub(parsed.name, subCb, init));\n    }\n  }\n  notify(prop) {\n    let parsed = _BaseComponent.__parseProp(prop, this);\n    parsed.ctx.notify(parsed.name);\n  }\n  has(prop) {\n    let parsed = _BaseComponent.__parseProp(prop, this);\n    return parsed.ctx.has(parsed.name);\n  }\n  add(prop, val, rewrite = false) {\n    let parsed = _BaseComponent.__parseProp(prop, this);\n    parsed.ctx.add(parsed.name, val, rewrite);\n  }\n  add$(obj, rewrite = false) {\n    for (let prop in obj) {\n      this.add(prop, obj[prop], rewrite);\n    }\n  }\n  get $() {\n    if (!this.__stateProxy) {\n      let o = Object.create(null);\n      this.__stateProxy = new Proxy(o, {\n        set: (obj, prop, val) => {\n          let parsed = _BaseComponent.__parseProp(prop, this);\n          parsed.ctx.pub(parsed.name, val);\n          return true;\n        },\n        get: (obj, prop) => {\n          let parsed = _BaseComponent.__parseProp(prop, this);\n          return parsed.ctx.read(parsed.name);\n        }\n      });\n    }\n    return this.__stateProxy;\n  }\n  set$(kvObj, forcePrimitives = false) {\n    for (let key in kvObj) {\n      let val = kvObj[key];\n      let primArr = [String, Number, Boolean];\n      if (forcePrimitives || !primArr.includes(val == null ? void 0 : val.constructor)) {\n        this.$[key] = val;\n      } else {\n        this.$[key] !== val && (this.$[key] = val);\n      }\n    }\n  }\n  get __ctxOwner() {\n    return this.ctxOwner || this.hasAttribute(DICT.CTX_OWNER_ATTR) && this.getAttribute(DICT.CTX_OWNER_ATTR) !== \"false\";\n  }\n  __initDataCtx() {\n    let attrDesc = this.constructor[\"__attrDesc\"];\n    if (attrDesc) {\n      for (let prop of Object.values(attrDesc)) {\n        if (!Object.keys(this.init$).includes(prop)) {\n          this.init$[prop] = \"\";\n        }\n      }\n    }\n    for (let prop in this.init$) {\n      if (prop.startsWith(DICT.EXT_DATA_CTX_PRFX)) {\n        this.nodeCtx.add(prop.replace(DICT.EXT_DATA_CTX_PRFX, \"\"), this.init$[prop], this.__ctxOwner);\n      } else if (prop.includes(DICT.NAMED_DATA_CTX_SPLTR)) {\n        let propArr = prop.split(DICT.NAMED_DATA_CTX_SPLTR);\n        let ctxName = propArr[0].trim();\n        let propName = propArr[1].trim();\n        if (ctxName && propName) {\n          let namedCtx = Data.getCtx(ctxName, false);\n          if (!namedCtx) {\n            namedCtx = Data.registerCtx({}, ctxName);\n          }\n          namedCtx.add(propName, this.init$[prop]);\n        }\n      } else {\n        this.localCtx.add(prop, this.init$[prop]);\n      }\n    }\n    for (let cssProp in this.cssInit$) {\n      this.bindCssData(cssProp, this.cssInit$[cssProp]);\n    }\n    this.__dataCtxInitialized = true;\n  }\n  connectedCallback() {\n    var _a;\n    if (!this.isConnected) {\n      return;\n    }\n    if (this.__disconnectTimeout) {\n      window.clearTimeout(this.__disconnectTimeout);\n    }\n    if (!this.connectedOnce) {\n      let ctxNameAttrVal = (_a = this.getAttribute(DICT.CTX_NAME_ATTR)) == null ? void 0 : _a.trim();\n      if (ctxNameAttrVal) {\n        this.style.setProperty(DICT.CSS_CTX_PROP, `'${ctxNameAttrVal}'`);\n      }\n      this.__initDataCtx();\n      if (this[DICT.SET_LATER_KEY]) {\n        for (let prop in this[DICT.SET_LATER_KEY]) {\n          setNestedProp(this, prop, this[DICT.SET_LATER_KEY][prop]);\n        }\n        delete this[DICT.SET_LATER_KEY];\n      }\n      this.initChildren = [...this.childNodes];\n      for (let proc of tpl_processors_default) {\n        this.addTemplateProcessor(proc);\n      }\n      if (this.pauseRender) {\n        this.__initCallback();\n      } else {\n        if (this.constructor[\"__rootStylesLink\"]) {\n          let root = this.getRootNode();\n          if (!root) {\n            return;\n          }\n          let hasLink = root == null ? void 0 : root.querySelector(`link[${DICT.ROOT_STYLE_ATTR_NAME}=\"${this.constructor.is}\"]`);\n          if (hasLink) {\n            this.render();\n            return;\n          }\n          let rootLink = this.constructor[\"__rootStylesLink\"].cloneNode(true);\n          rootLink.setAttribute(DICT.ROOT_STYLE_ATTR_NAME, this.constructor[\"is\"]);\n          rootLink.onload = () => {\n            this.render();\n          };\n          root.nodeType === Node.DOCUMENT_NODE ? root.head.appendChild(rootLink) : root.prepend(rootLink);\n        } else {\n          this.render();\n        }\n      }\n    }\n    this.connectedOnce = true;\n  }\n  destroyCallback() {\n  }\n  disconnectedCallback() {\n    if (!this.connectedOnce) {\n      return;\n    }\n    this.dropCssDataCache();\n    if (!this.readyToDestroy) {\n      return;\n    }\n    if (this.__disconnectTimeout) {\n      window.clearTimeout(this.__disconnectTimeout);\n    }\n    this.__disconnectTimeout = window.setTimeout(() => {\n      this.destroyCallback();\n      for (let sub of this.allSubs) {\n        sub.remove();\n        this.allSubs.delete(sub);\n      }\n      for (let proc of this.tplProcessors) {\n        this.tplProcessors.delete(proc);\n      }\n      styleMutationObserverCbList == null ? void 0 : styleMutationObserverCbList.delete(this.updateCssData);\n      if (!(styleMutationObserverCbList == null ? void 0 : styleMutationObserverCbList.size)) {\n        styleMutationObserver == null ? void 0 : styleMutationObserver.disconnect();\n        styleMutationObserver = null;\n        styleMutationObserverCbList = null;\n      }\n    }, 100);\n  }\n  static reg(tagName, isAlias = false) {\n    if (!tagName) {\n      autoTagsCount++;\n      tagName = `${DICT.AUTO_TAG_PRFX}-${autoTagsCount}`;\n    }\n    this.__tag = tagName;\n    let registeredClass = window.customElements.get(tagName);\n    if (registeredClass) {\n      if (!isAlias && registeredClass !== this) {\n        console.warn([\n          `Element with tag name \"${tagName}\" already registered.`,\n          `You're trying to override it with another class \"${this.name}\".`,\n          `This is most likely a mistake.`,\n          `New element will not be registered.`\n        ].join(\"\\n\"));\n      }\n      return;\n    }\n    window.customElements.define(tagName, isAlias ? class extends this {\n    } : this);\n  }\n  static get is() {\n    if (!this.__tag) {\n      this.reg();\n    }\n    return this.__tag;\n  }\n  static bindAttributes(desc) {\n    this.observedAttributes = Object.keys(desc);\n    this.__attrDesc = desc;\n  }\n  attributeChangedCallback(name, oldVal, newVal) {\n    var _a;\n    if (oldVal === newVal) {\n      return;\n    }\n    let $prop = (_a = this.constructor[\"__attrDesc\"]) == null ? void 0 : _a[name];\n    if ($prop) {\n      if (this.__dataCtxInitialized) {\n        this.$[$prop] = newVal;\n      } else {\n        this.init$[$prop] = newVal;\n      }\n    } else {\n      this[name] = newVal;\n    }\n  }\n  getCssData(propName, silentCheck = false) {\n    if (!this.__cssDataCache) {\n      this.__cssDataCache = Object.create(null);\n    }\n    if (!Object.keys(this.__cssDataCache).includes(propName)) {\n      if (!this.__computedStyle) {\n        this.__computedStyle = window.getComputedStyle(this);\n      }\n      let val = this.__computedStyle.getPropertyValue(propName).trim();\n      try {\n        this.__cssDataCache[propName] = parseCssPropertyValue(val);\n      } catch (e) {\n        !silentCheck && console.warn(`CSS Data error: ${propName}`);\n        this.__cssDataCache[propName] = null;\n      }\n    }\n    return this.__cssDataCache[propName];\n  }\n  __extractCssName(ctxPropName) {\n    return ctxPropName.split(\"--\").map((part, idx) => {\n      return idx === 0 ? \"\" : part;\n    }).join(\"--\");\n  }\n  __initStyleAttrObserver() {\n    if (!styleMutationObserverCbList) {\n      styleMutationObserverCbList = /* @__PURE__ */ new Set();\n    }\n    styleMutationObserverCbList.add(this.updateCssData);\n    if (!styleMutationObserver) {\n      styleMutationObserver = new MutationObserver((records) => {\n        records[0].type === \"attributes\" && styleMutationObserverCbList.forEach((cb) => {\n          cb();\n        });\n      });\n      styleMutationObserver.observe(document, {\n        childList: true,\n        subtree: true,\n        attributes: true,\n        attributeFilter: [\"style\"]\n      });\n    }\n  }\n  bindCssData(propName, initValue = \"\") {\n    if (!this.__boundCssProps) {\n      this.__boundCssProps = /* @__PURE__ */ new Set();\n    }\n    this.__boundCssProps.add(propName);\n    let val = this.getCssData(this.__extractCssName(propName), true);\n    val === null && (val = initValue);\n    this.add(propName, val);\n    this.__initStyleAttrObserver();\n  }\n  dropCssDataCache() {\n    this.__cssDataCache = null;\n    this.__computedStyle = null;\n  }\n  defineAccessor(propName, handler, isAsync) {\n    let localPropName = \"__\" + propName;\n    this[localPropName] = this[propName];\n    Object.defineProperty(this, propName, {\n      set: (val) => {\n        this[localPropName] = val;\n        if (isAsync) {\n          window.setTimeout(() => {\n            handler == null ? void 0 : handler(val);\n          });\n        } else {\n          handler == null ? void 0 : handler(val);\n        }\n      },\n      get: () => {\n        return this[localPropName];\n      }\n    });\n    this[propName] = this[localPropName];\n  }\n  static set shadowStyles(cssTxt) {\n    let styleBlob = new Blob([cssTxt], {\n      type: \"text/css\"\n    });\n    this.__shadowStylesUrl = URL.createObjectURL(styleBlob);\n  }\n  static set rootStyles(cssTxt) {\n    if (!this.__rootStylesLink) {\n      let styleBlob = new Blob([cssTxt], {\n        type: \"text/css\"\n      });\n      let url = URL.createObjectURL(styleBlob);\n      let link = document.createElement(\"link\");\n      link.href = url;\n      link.rel = \"stylesheet\";\n      this.__rootStylesLink = link;\n    }\n  }\n};\nvar BaseComponent = _BaseComponent;\n__publicField(BaseComponent, \"template\");\n\n// core/AppRouter.js\nvar AppRouter = class {\n  static _print(msg) {\n    console.warn(msg);\n  }\n  static setDefaultTitle(title) {\n    this.defaultTitle = title;\n  }\n  static setRoutingMap(map) {\n    Object.assign(this.appMap, map);\n    for (let route in this.appMap) {\n      if (!this.defaultRoute && this.appMap[route].default === true) {\n        this.defaultRoute = route;\n      } else if (!this.errorRoute && this.appMap[route].error === true) {\n        this.errorRoute = route;\n      }\n    }\n  }\n  static set routingEventName(name) {\n    this.__routingEventName = name;\n  }\n  static get routingEventName() {\n    return this.__routingEventName || \"sym-on-route\";\n  }\n  static readAddressBar() {\n    let result = {\n      route: null,\n      options: {}\n    };\n    let paramsArr = window.location.search.split(this.separator);\n    paramsArr.forEach((part) => {\n      if (part.includes(\"?\")) {\n        result.route = part.replace(\"?\", \"\");\n      } else if (part.includes(\"=\")) {\n        let pair = part.split(\"=\");\n        result.options[pair[0]] = decodeURI(pair[1]);\n      } else {\n        result.options[part] = true;\n      }\n    });\n    return result;\n  }\n  static notify() {\n    let routeBase = this.readAddressBar();\n    let routeScheme = this.appMap[routeBase.route];\n    if (routeScheme && routeScheme.title) {\n      document.title = routeScheme.title;\n    }\n    if (routeBase.route === null && this.defaultRoute) {\n      this.applyRoute(this.defaultRoute);\n      return;\n    } else if (!routeScheme && this.errorRoute) {\n      this.applyRoute(this.errorRoute);\n      return;\n    } else if (!routeScheme && this.defaultRoute) {\n      this.applyRoute(this.defaultRoute);\n      return;\n    } else if (!routeScheme) {\n      this._print(`Route \"${routeBase.route}\" not found...`);\n      return;\n    }\n    let event = new CustomEvent(AppRouter.routingEventName, {\n      detail: {\n        route: routeBase.route,\n        options: Object.assign(routeScheme || {}, routeBase.options)\n      }\n    });\n    window.dispatchEvent(event);\n  }\n  static reflect(route, options = {}) {\n    let routeScheme = this.appMap[route];\n    if (!routeScheme) {\n      this._print(\"Wrong route: \" + route);\n      return;\n    }\n    let routeStr = \"?\" + route;\n    for (let prop in options) {\n      if (options[prop] === true) {\n        routeStr += this.separator + prop;\n      } else {\n        routeStr += this.separator + prop + `=${options[prop]}`;\n      }\n    }\n    let title = routeScheme.title || this.defaultTitle || \"\";\n    window.history.pushState(null, title, routeStr);\n    document.title = title;\n  }\n  static applyRoute(route, options = {}) {\n    this.reflect(route, options);\n    this.notify();\n  }\n  static setSeparator(char) {\n    this._separator = char;\n  }\n  static get separator() {\n    return this._separator || \"&\";\n  }\n  static createRouterData(ctxName, routingMap) {\n    this.setRoutingMap(routingMap);\n    let routeData = Data.registerCtx({\n      route: null,\n      options: null,\n      title: null\n    }, ctxName);\n    window.addEventListener(this.routingEventName, (e) => {\n      var _a;\n      routeData.multiPub({\n        route: e.detail.route,\n        options: e.detail.options,\n        title: ((_a = e.detail.options) == null ? void 0 : _a.title) || this.defaultTitle || \"\"\n      });\n    });\n    AppRouter.notify();\n    this.initPopstateListener();\n    return routeData;\n  }\n  static initPopstateListener() {\n    if (this.__onPopstate) {\n      return;\n    }\n    this.__onPopstate = () => {\n      this.notify();\n    };\n    window.addEventListener(\"popstate\", this.__onPopstate);\n  }\n  static removePopstateListener() {\n    window.removeEventListener(\"popstate\", this.__onPopstate);\n    this.__onPopstate = null;\n  }\n};\nAppRouter.appMap = Object.create(null);\n\n// utils/dom-helpers.js\nfunction applyStyles(el, styleMap) {\n  for (let prop in styleMap) {\n    if (prop.includes(\"-\")) {\n      el.style.setProperty(prop, styleMap[prop]);\n    } else {\n      el.style[prop] = styleMap[prop];\n    }\n  }\n}\nfunction applyAttributes(el, attrMap) {\n  for (let attrName in attrMap) {\n    if (attrMap[attrName].constructor === Boolean) {\n      if (attrMap[attrName]) {\n        el.setAttribute(attrName, \"\");\n      } else {\n        el.removeAttribute(attrName);\n      }\n    } else {\n      el.setAttribute(attrName, attrMap[attrName]);\n    }\n  }\n}\nfunction create(desc = { tag: \"div\" }) {\n  let el = document.createElement(desc.tag);\n  if (desc.attributes) {\n    applyAttributes(el, desc.attributes);\n  }\n  if (desc.styles) {\n    applyStyles(el, desc.styles);\n  }\n  if (desc.properties) {\n    for (let prop in desc.properties) {\n      el[prop] = desc.properties[prop];\n    }\n  }\n  if (desc.processors) {\n    desc.processors.forEach((fn) => {\n      fn(el);\n    });\n  }\n  if (desc.children) {\n    desc.children.forEach((desc2) => {\n      let child = create(desc2);\n      el.appendChild(child);\n    });\n  }\n  return el;\n}\n\n// utils/IDB.js\nvar READY_EVENT_NAME = \"idb-store-ready\";\nvar DEFAULT_DB_NAME = `symbiote-db`;\nvar UPD_EVENT_PREFIX = `symbiote-idb-update_`;\nvar DbInstance = class {\n  _notifyWhenReady(event = null) {\n    window.dispatchEvent(new CustomEvent(READY_EVENT_NAME, {\n      detail: {\n        dbName: this.name,\n        storeName: this.storeName,\n        event\n      }\n    }));\n  }\n  get _updEventName() {\n    return UPD_EVENT_PREFIX + this.name;\n  }\n  _getUpdateEvent(key) {\n    return new CustomEvent(this._updEventName, {\n      detail: {\n        key: this.name,\n        newValue: key\n      }\n    });\n  }\n  _notifySubscribers(key) {\n    window.localStorage.removeItem(this.name);\n    window.localStorage.setItem(this.name, key);\n    window.dispatchEvent(this._getUpdateEvent(key));\n  }\n  constructor(dbName, storeName) {\n    this.name = dbName;\n    this.storeName = storeName;\n    this.version = 1;\n    this.request = window.indexedDB.open(this.name, this.version);\n    this.request.onupgradeneeded = (e) => {\n      this.db = e.target[\"result\"];\n      this.objStore = this.db.createObjectStore(storeName, {\n        keyPath: \"_key\"\n      });\n      this.objStore.transaction.oncomplete = (ev) => {\n        this._notifyWhenReady(ev);\n      };\n    };\n    this.request.onsuccess = (e) => {\n      this.db = e.target.result;\n      this._notifyWhenReady(e);\n    };\n    this.request.onerror = (e) => {\n      console.error(e);\n    };\n    this._subscriptionsMap = {};\n    this._updateHandler = (e) => {\n      if (e.key === this.name && this._subscriptionsMap[e.newValue]) {\n        let set = this._subscriptionsMap[e.newValue];\n        set.forEach(async (callback) => {\n          callback(await this.read(e.newValue));\n        });\n      }\n    };\n    this._localUpdateHandler = (e) => {\n      this._updateHandler(e.detail);\n    };\n    window.addEventListener(\"storage\", this._updateHandler);\n    window.addEventListener(this._updEventName, this._localUpdateHandler);\n  }\n  read(key) {\n    let tx = this.db.transaction(this.storeName, \"readwrite\");\n    let request = tx.objectStore(this.storeName).get(key);\n    return new Promise((resolve, reject) => {\n      request.onsuccess = (e) => {\n        var _a;\n        if ((_a = e.target.result) == null ? void 0 : _a._value) {\n          resolve(e.target.result._value);\n        } else {\n          resolve(null);\n          console.warn(`IDB: cannot read \"${key}\"`);\n        }\n      };\n      request.onerror = (e) => {\n        reject(e);\n      };\n    });\n  }\n  write(key, value, silent = false) {\n    let data = {\n      _key: key,\n      _value: value\n    };\n    let tx = this.db.transaction(this.storeName, \"readwrite\");\n    let request = tx.objectStore(this.storeName).put(data);\n    return new Promise((resolve, reject) => {\n      request.onsuccess = (e) => {\n        if (!silent) {\n          this._notifySubscribers(key);\n        }\n        resolve(e.target.result);\n      };\n      request.onerror = (e) => {\n        reject(e);\n      };\n    });\n  }\n  delete(key, silent = false) {\n    let tx = this.db.transaction(this.storeName, \"readwrite\");\n    let request = tx.objectStore(this.storeName).delete(key);\n    return new Promise((resolve, reject) => {\n      request.onsuccess = (e) => {\n        if (!silent) {\n          this._notifySubscribers(key);\n        }\n        resolve(e);\n      };\n      request.onerror = (e) => {\n        reject(e);\n      };\n    });\n  }\n  getAll() {\n    let tx = this.db.transaction(this.storeName, \"readwrite\");\n    let request = tx.objectStore(this.storeName).getAll();\n    return new Promise((resolve, reject) => {\n      request.onsuccess = (e) => {\n        let all = e.target.result;\n        resolve(all.map((obj) => {\n          return obj._value;\n        }));\n      };\n      request.onerror = (e) => {\n        reject(e);\n      };\n    });\n  }\n  subscribe(key, callback) {\n    if (!this._subscriptionsMap[key]) {\n      this._subscriptionsMap[key] = /* @__PURE__ */ new Set();\n    }\n    let set = this._subscriptionsMap[key];\n    set.add(callback);\n    return {\n      remove: () => {\n        set.delete(callback);\n        if (!set.size) {\n          delete this._subscriptionsMap[key];\n        }\n      }\n    };\n  }\n  stop() {\n    window.removeEventListener(\"storage\", this._updateHandler);\n    this._subscriptionsMap = null;\n    IDB.clear(this.name);\n  }\n};\nvar IDB = class {\n  static get readyEventName() {\n    return READY_EVENT_NAME;\n  }\n  static open(dbName = DEFAULT_DB_NAME, storeName = \"store\") {\n    let key = dbName + \"/\" + storeName;\n    if (!this._reg[key]) {\n      this._reg[key] = new DbInstance(dbName, storeName);\n    }\n    return this._reg[key];\n  }\n  static clear(dbName) {\n    window.indexedDB.deleteDatabase(dbName);\n    for (let key in this._reg) {\n      if (key.split(\"/\")[0] === dbName) {\n        delete this._reg[key];\n      }\n    }\n  }\n};\n__publicField(IDB, \"_reg\", Object.create(null));\nexport {\n  AppRouter,\n  BaseComponent,\n  Data,\n  IDB,\n  UID,\n  applyAttributes,\n  applyStyles,\n  create,\n  kebabToCamel,\n  setNestedProp\n};\n","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n  return object;\n}","import superPropBase from \"./superPropBase.js\";\nexport default function _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get.apply(this, arguments);\n}","//  @ts-check\n\nconst DEFAULT_DEBOUNCE_TIMEOUT = 20;\n\nexport const EventType = Object.freeze({\n  FILE_ADDED: 'file-added',\n  FILE_REMOVED: 'file-removed',\n  FILE_UPLOAD_START: 'file-upload-start',\n  FILE_UPLOAD_PROGRESS: 'file-upload-progress',\n  FILE_UPLOAD_SUCCESS: 'file-upload-success',\n  FILE_UPLOAD_FAILED: 'file-upload-failed',\n  FILE_URL_CHANGED: 'file-url-changed',\n\n  MODAL_OPEN: 'modal-open',\n  MODAL_CLOSE: 'modal-close',\n  DONE_CLICK: 'done-click',\n  UPLOAD_CLICK: 'upload-click',\n  ACTIVITY_CHANGE: 'activity-change',\n\n  COMMON_UPLOAD_START: 'common-upload-start',\n  COMMON_UPLOAD_PROGRESS: 'common-upload-progress',\n  COMMON_UPLOAD_SUCCESS: 'common-upload-success',\n  COMMON_UPLOAD_FAILED: 'common-upload-failed',\n\n  CHANGE: 'change',\n  GROUP_CREATED: 'group-created',\n});\n\n/**\n * @typedef {{\n *   [EventType.FILE_ADDED]: import('../../index.js').OutputFileEntry<'idle'>;\n *   [EventType.FILE_REMOVED]: import('../../index.js').OutputFileEntry<'removed'>;\n *   [EventType.FILE_UPLOAD_START]: import('../../index.js').OutputFileEntry<'uploading'>;\n *   [EventType.FILE_UPLOAD_PROGRESS]: import('../../index.js').OutputFileEntry<'uploading'>;\n *   [EventType.FILE_UPLOAD_SUCCESS]: import('../../index.js').OutputFileEntry<'success'>;\n *   [EventType.FILE_UPLOAD_FAILED]: import('../../index.js').OutputFileEntry<'failed'>;\n *   [EventType.FILE_URL_CHANGED]: import('../../index.js').OutputFileEntry<'success'>;\n *   [EventType.MODAL_OPEN]: void;\n *   [EventType.MODAL_CLOSE]: void;\n *   [EventType.ACTIVITY_CHANGE]: {\n *     activity: import('../../abstract/ActivityBlock.js').ActivityType;\n *   };\n *   [EventType.UPLOAD_CLICK]: void;\n *   [EventType.DONE_CLICK]: import('../../index.js').OutputCollectionState;\n *   [EventType.COMMON_UPLOAD_START]: import('../../index.js').OutputCollectionState<'uploading'>;\n *   [EventType.COMMON_UPLOAD_PROGRESS]: import('../../index.js').OutputCollectionState<'uploading'>;\n *   [EventType.COMMON_UPLOAD_SUCCESS]: import('../../index.js').OutputCollectionState<'success'>;\n *   [EventType.COMMON_UPLOAD_FAILED]: import('../../index.js').OutputCollectionState<'failed'>;\n *   [EventType.CHANGE]: import('../../index.js').OutputCollectionState;\n *   [EventType.GROUP_CREATED]: import('../../index.js').OutputCollectionState<'success', 'has-group'>;\n * }} EventPayload\n */\n\nexport class EventEmitter {\n  /**\n   * @private\n   * @type {Map<string, number>}\n   */\n  _timeoutStore = new Map();\n\n  /**\n   * @private\n   * @type {Set<import('../../abstract/Block.js').Block>}\n   */\n  _targets = new Set();\n\n  /**\n   * @private\n   * @type {((...args: unknown[]) => void) | null}\n   */\n  _debugPrint = null;\n\n  /** @param {(...args: unknown[]) => void} debugPrint */\n  constructor(debugPrint) {\n    this._debugPrint = debugPrint;\n  }\n\n  /** @param {import('../../abstract/Block.js').Block} target */\n  bindTarget(target) {\n    this._targets.add(target);\n  }\n\n  /** @param {import('../../abstract/Block.js').Block} target */\n  unbindTarget(target) {\n    this._targets.delete(target);\n  }\n\n  /**\n   * @private\n   * @template {(typeof EventType)[keyof typeof EventType]} T\n   * @param {T} type\n   * @param {unknown} [payload]\n   */\n  _dispatch(type, payload) {\n    for (const target of this._targets) {\n      target.dispatchEvent(\n        new CustomEvent(type, {\n          detail: payload,\n        }),\n      );\n    }\n\n    this._debugPrint?.(() => {\n      const copyPayload = !!payload && typeof payload === 'object' ? { ...payload } : payload;\n      return [`event \"${type}\"`, copyPayload];\n    });\n  }\n\n  /**\n   * @template {(typeof EventType)[keyof typeof EventType]} T\n   * @template {boolean | number | undefined} TDebounce\n   * @param {T} type\n   * @param {TDebounce extends false | undefined ? unknown : () => unknown} [payload]\n   * @param {{ debounce?: TDebounce }} [options]\n   */\n  emit(type, payload, { debounce } = {}) {\n    if (typeof debounce !== 'number' && !debounce) {\n      this._dispatch(type, typeof payload === 'function' ? payload() : payload);\n      return;\n    }\n\n    if (this._timeoutStore.has(type)) {\n      window.clearTimeout(this._timeoutStore.get(type));\n    }\n    const timeout = typeof debounce === 'number' ? debounce : DEFAULT_DEBOUNCE_TIMEOUT;\n    const timeoutId = window.setTimeout(() => {\n      this._dispatch(type, typeof payload === 'function' ? payload() : payload);\n      this._timeoutStore.delete(type);\n    }, timeout);\n    this._timeoutStore.set(type, timeoutId);\n  }\n}\n","// @ts-check\n\n/**\n * @template {{ (...args: any[]): any }} T\n * @param {T} callback\n * @param {number} wait\n * @returns {T & { cancel: () => void }} }\n */\nexport function debounce(callback, wait) {\n  /** @type {NodeJS.Timeout} */\n  let timer;\n  const debounced =\n    /** @param {...any} args */\n    (...args) => {\n      clearTimeout(timer);\n      timer = setTimeout(() => callback(...args), wait);\n    };\n  debounced.cancel = () => {\n    clearTimeout(timer);\n  };\n  return /** @type {T & { cancel: () => void }} } */ (debounced);\n}\n","// @ts-check\nimport { debounce } from '../blocks/utils/debounce.js';\n\nconst WINDOW_HEIGHT_TRACKER_PROPERTY = '--uploadcare-blocks-window-height';\n\nexport class WindowHeightTracker {\n  /**\n   * @private\n   * @type {Set<unknown>}\n   */\n  static clientsRegistry = new Set();\n\n  /** @private */\n  static flush = debounce(() => {\n    document.documentElement.style.setProperty(WINDOW_HEIGHT_TRACKER_PROPERTY, `${window.innerHeight}px`);\n  }, 100);\n\n  /**\n   * @param {unknown} client\n   * @public\n   */\n  static registerClient(client) {\n    if (this.clientsRegistry.size === 0) {\n      this.attachTracker();\n    }\n    this.clientsRegistry.add(client);\n  }\n\n  /**\n   * @param {unknown} client\n   * @public\n   */\n  static unregisterClient(client) {\n    this.clientsRegistry.delete(client);\n    if (this.clientsRegistry.size === 0) {\n      this.detachTracker();\n    }\n  }\n\n  /** @private */\n  static attachTracker() {\n    window.addEventListener('resize', this.flush, { passive: true, capture: true });\n    this.flush();\n  }\n\n  /** @private */\n  static detachTracker() {\n    window.removeEventListener('resize', this.flush, { capture: true });\n    document.documentElement.style.removeProperty(WINDOW_HEIGHT_TRACKER_PROPERTY);\n  }\n}\n","// @ts-check\n/** @param {string} localeId */\nexport const getLocaleDirection = (localeId) => {\n  /**\n   * @type {typeof Intl.Locale & {\n   *   textInfo?: { direction: string };\n   *   getTextInfo?: () => { direction: string };\n   * }}\n   */\n  const locale = /** @type {any} */ (new Intl.Locale(localeId));\n  let direction = 'ltr';\n  if (typeof locale.getTextInfo === 'function' && locale.getTextInfo().direction) {\n    direction = locale.getTextInfo().direction;\n  } else if ('textInfo' in locale && locale.textInfo?.direction) {\n    direction = locale.textInfo.direction;\n  }\n  return direction;\n};\n","// @ts-check\n\n/** @typedef {Intl.LDMLPluralRule} PluralForm */\n\n/**\n * @param {string} locale\n * @param {number} count\n * @returns {PluralForm}\n */\nexport const getPluralForm = (locale, count) => {\n  const pluralForm = new Intl.PluralRules(locale).select(count);\n  return pluralForm;\n};\n","/** @typedef {{ [key: String]: String | Number | Boolean | InputData }} InputData */\n\nconst DEFAULT_TRANSFORMER = (value) => value;\nconst OPEN_TOKEN = '{{';\nconst CLOSE_TOKEN = '}}';\nconst PLURAL_PREFIX = 'plural:';\n\n/**\n * @typedef {Object} Options\n * @property {String} [openToken='{{'] Default is `'{{'`\n * @property {String} [closeToken='}}'] Default is `'}}'`\n * @property {(value: String) => String} [transform=DEFAULT_TRANSFORMER] Default is `DEFAULT_TRANSFORMER`\n */\n\n/**\n * @param {String} template\n * @param {InputData} [data={}] Default is `{}`\n * @param {Options} [options={}] Default is `{}`\n * @returns {String}\n */\nexport function applyTemplateData(template, data, options = {}) {\n  let { openToken = OPEN_TOKEN, closeToken = CLOSE_TOKEN, transform = DEFAULT_TRANSFORMER } = options;\n\n  for (let key in data) {\n    let value = data[key]?.toString();\n    template = template.replaceAll(openToken + key + closeToken, typeof value === 'string' ? transform(value) : value);\n  }\n  return template;\n}\n\n/**\n * @param {String} template\n * @returns {{ variable: string; pluralKey: string; countVariable: string }[]}\n */\nexport function getPluralObjects(template) {\n  const pluralObjects = [];\n  let open = template.indexOf(OPEN_TOKEN);\n  while (open !== -1) {\n    const close = template.indexOf(CLOSE_TOKEN, open);\n    const variable = template.substring(open + 2, close);\n    if (variable.startsWith(PLURAL_PREFIX)) {\n      const keyValue = template.substring(open + 2, close).replace(PLURAL_PREFIX, '');\n      const key = keyValue.substring(0, keyValue.indexOf('('));\n      const count = keyValue.substring(keyValue.indexOf('(') + 1, keyValue.indexOf(')'));\n      pluralObjects.push({ variable, pluralKey: key, countVariable: count });\n    }\n    open = template.indexOf(OPEN_TOKEN, close);\n  }\n  return pluralObjects;\n}\n","// @ts-check\n\n/**\n * @param {{\n *   element: HTMLElement;\n *   attribute: string;\n *   onSuccess: (value: string) => void;\n *   onTimeout: () => void;\n *   timeout?: number;\n * }} options\n */\nexport const waitForAttribute = ({ element, attribute, onSuccess, onTimeout, timeout = 300 }) => {\n  const currentAttrValue = element.getAttribute(attribute);\n  if (currentAttrValue !== null) {\n    onSuccess(currentAttrValue);\n    return;\n  }\n\n  const observer = new MutationObserver((mutations) => {\n    const mutation = mutations[mutations.length - 1];\n    handleMutation(mutation);\n  });\n\n  observer.observe(element, {\n    attributes: true,\n    attributeFilter: [attribute],\n  });\n\n  const timeoutId = setTimeout(() => {\n    observer.disconnect();\n    onTimeout();\n  }, timeout);\n\n  /** @param {MutationRecord} mutation */\n  const handleMutation = (mutation) => {\n    const attrValue = element.getAttribute(attribute);\n    if (mutation.type === 'attributes' && mutation.attributeName === attribute && attrValue !== null) {\n      clearTimeout(timeoutId);\n      observer.disconnect();\n      onSuccess(attrValue);\n    }\n  };\n};\n","function isObject(o) {\n    return Object.prototype.toString.call(o) === '[object Object]';\n}\n\nconst SEPARATOR = /\\W|_/g;\nfunction camelizeString(text) {\n    return text\n        .split(SEPARATOR)\n        .map((word, index) => word.charAt(0)[index > 0 ? 'toUpperCase' : 'toLowerCase']() +\n        word.slice(1))\n        .join('');\n}\nfunction camelizeArrayItems(array, { ignoreKeys } = { ignoreKeys: [] }) {\n    if (!Array.isArray(array)) {\n        return array;\n    }\n    return array.map((item) => camelizeKeys(item, { ignoreKeys }));\n}\nfunction camelizeKeys(source, { ignoreKeys } = { ignoreKeys: [] }) {\n    if (Array.isArray(source)) {\n        return camelizeArrayItems(source, { ignoreKeys });\n    }\n    if (!isObject(source)) {\n        return source;\n    }\n    const result = {};\n    for (const key of Object.keys(source)) {\n        let value = source[key];\n        if (ignoreKeys.includes(key)) {\n            result[key] = value;\n            continue;\n        }\n        if (isObject(value)) {\n            value = camelizeKeys(value, { ignoreKeys });\n        }\n        else if (Array.isArray(value)) {\n            value = camelizeArrayItems(value, { ignoreKeys });\n        }\n        result[camelizeString(key)] = value;\n    }\n    return result;\n}\n\n/**\n * SetTimeout as Promise.\n *\n * @param {number} ms Timeout in milliseconds.\n */\nconst delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\n\nfunction getUserAgent$1({ libraryName, libraryVersion, userAgent, publicKey = '', integration = '' }) {\n    const languageName = 'JavaScript';\n    if (typeof userAgent === 'string') {\n        return userAgent;\n    }\n    if (typeof userAgent === 'function') {\n        return userAgent({\n            publicKey,\n            libraryName,\n            libraryVersion,\n            languageName,\n            integration\n        });\n    }\n    const mainInfo = [libraryName, libraryVersion, publicKey]\n        .filter(Boolean)\n        .join('/');\n    const additionInfo = [languageName, integration].filter(Boolean).join('; ');\n    return `${mainInfo} (${additionInfo})`;\n}\n\nconst defaultOptions = {\n    factor: 2,\n    time: 100\n};\nfunction retrier(fn, options = defaultOptions) {\n    let attempts = 0;\n    function runAttempt(fn) {\n        const defaultDelayTime = Math.round(options.time * options.factor ** attempts);\n        const retry = (ms) => delay(ms ?? defaultDelayTime).then(() => {\n            attempts += 1;\n            return runAttempt(fn);\n        });\n        return fn({\n            attempt: attempts,\n            retry\n        });\n    }\n    return runAttempt(fn);\n}\n\nclass UploadcareError extends Error {\n}\n\nclass NetworkError extends UploadcareError {\n    originalProgressEvent;\n    constructor(progressEvent) {\n        super();\n        this.name = 'NetworkError';\n        this.message = 'Network error';\n        Object.setPrototypeOf(this, NetworkError.prototype);\n        this.originalProgressEvent = progressEvent;\n    }\n}\n\nconst onCancel = (signal, callback) => {\n    if (signal) {\n        if (signal.aborted) {\n            Promise.resolve().then(callback);\n        }\n        else {\n            signal.addEventListener('abort', () => callback(), { once: true });\n        }\n    }\n};\n\nclass CancelError extends UploadcareError {\n    isCancel = true;\n    constructor(message = 'Request canceled') {\n        super(message);\n        this.name = 'CancelError';\n        Object.setPrototypeOf(this, CancelError.prototype);\n    }\n}\n\nconst DEFAULT_INTERVAL = 500;\nconst poll = ({ check, interval = DEFAULT_INTERVAL, timeout, signal }) => new Promise((resolve, reject) => {\n    let tickTimeoutId;\n    let timeoutId;\n    onCancel(signal, () => {\n        tickTimeoutId && clearTimeout(tickTimeoutId);\n        reject(new CancelError('Poll cancelled'));\n    });\n    if (timeout) {\n        timeoutId = setTimeout(() => {\n            tickTimeoutId && clearTimeout(tickTimeoutId);\n            reject(new CancelError('Timed out'));\n        }, timeout);\n    }\n    const tick = () => {\n        try {\n            Promise.resolve(check(signal))\n                .then((result) => {\n                if (result) {\n                    timeoutId && clearTimeout(timeoutId);\n                    resolve(result);\n                }\n                else {\n                    tickTimeoutId = setTimeout(tick, interval);\n                }\n            })\n                .catch((error) => {\n                timeoutId && clearTimeout(timeoutId);\n                reject(error);\n            });\n        }\n        catch (error) {\n            timeoutId && clearTimeout(timeoutId);\n            reject(error);\n        }\n    };\n    tickTimeoutId = setTimeout(tick, 0);\n});\n\n/*\n  Settings for future support:\n  parallelDirectUploads: 10,\n */\nconst defaultSettings = {\n    baseCDN: 'https://ucarecdn.com',\n    baseURL: 'https://upload.uploadcare.com',\n    maxContentLength: 50 * 1024 * 1024, // 50 MB\n    retryThrottledRequestMaxTimes: 1,\n    retryNetworkErrorMaxTimes: 3,\n    multipartMinFileSize: 25 * 1024 * 1024, // 25 MB\n    multipartChunkSize: 5 * 1024 * 1024, // 5 MB\n    multipartMinLastPartSize: 1024 * 1024, // 1MB\n    maxConcurrentRequests: 4,\n    pollingTimeoutMilliseconds: 10000,\n    pusherKey: '79ae88bd931ea68464d9'\n};\nconst defaultContentType = 'application/octet-stream';\nconst defaultFilename = 'original';\n\nconst request = ({ method, url, data, headers = {}, signal, onProgress }) => new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest();\n    const requestMethod = method?.toUpperCase() || 'GET';\n    let aborted = false;\n    /**\n     * Force synchronous flag to be off Some chrome versions gets\n     * `InvalidAccessError` error when we set `responseType` See\n     * https://xhr.spec.whatwg.org/#synchronous-flag and\n     * https://bugs.chromium.org/p/chromium/issues/detail?id=1346628\n     */\n    xhr.open(requestMethod, url, true);\n    if (headers) {\n        Object.entries(headers).forEach((entry) => {\n            const [key, value] = entry;\n            typeof value !== 'undefined' &&\n                !Array.isArray(value) &&\n                xhr.setRequestHeader(key, value);\n        });\n    }\n    xhr.responseType = 'text';\n    onCancel(signal, () => {\n        aborted = true;\n        xhr.abort();\n        reject(new CancelError());\n    });\n    xhr.onload = () => {\n        if (xhr.status != 200) {\n            // analyze HTTP status of the response\n            reject(new Error(`Error ${xhr.status}: ${xhr.statusText}`)); // e.g. 404: Not Found\n        }\n        else {\n            const request = {\n                method: requestMethod,\n                url,\n                data,\n                headers: headers || undefined,\n                signal,\n                onProgress\n            };\n            // Convert the header string into an array\n            // of individual headers\n            const headersArray = xhr\n                .getAllResponseHeaders()\n                .trim()\n                .split(/[\\r\\n]+/);\n            // Create a map of header names to values\n            const responseHeaders = {};\n            headersArray.forEach(function (line) {\n                const parts = line.split(': ');\n                const header = parts.shift();\n                const value = parts.join(': ');\n                if (header && typeof header !== 'undefined') {\n                    responseHeaders[header] = value;\n                }\n            });\n            const responseData = xhr.response;\n            const responseStatus = xhr.status;\n            resolve({\n                request,\n                data: responseData,\n                headers: responseHeaders,\n                status: responseStatus\n            });\n        }\n    };\n    xhr.onerror = (progressEvent) => {\n        if (aborted)\n            return;\n        // only triggers if the request couldn't be made at all\n        reject(new NetworkError(progressEvent));\n    };\n    if (onProgress && typeof onProgress === 'function') {\n        xhr.upload.onprogress = (event) => {\n            if (event.lengthComputable) {\n                onProgress({\n                    isComputable: true,\n                    value: event.loaded / event.total\n                });\n            }\n            else {\n                onProgress({ isComputable: false });\n            }\n        };\n    }\n    if (data) {\n        xhr.send(data);\n    }\n    else {\n        xhr.send();\n    }\n});\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction identity(obj, ..._args) {\n    return obj;\n}\n\nconst getFileOptions = ({ name }) => name ? [name] : [];\nconst transformFile = identity;\nvar getFormData = () => new FormData();\n\nconst isBuffer = (data) => false;\n\nconst isBlob = (data) => {\n    return typeof Blob !== 'undefined' && data instanceof Blob;\n};\nconst isFile = (data) => {\n    return typeof File !== 'undefined' && data instanceof File;\n};\nconst isReactNativeAsset = (data) => {\n    return (!!data &&\n        typeof data === 'object' &&\n        !Array.isArray(data) &&\n        'uri' in data &&\n        typeof data.uri === 'string');\n};\nconst isFileData = (data) => {\n    return (isBlob(data) || isFile(data) || isBuffer() || isReactNativeAsset(data));\n};\n\nconst isSimpleValue = (value) => {\n    return (typeof value === 'string' ||\n        typeof value === 'number' ||\n        typeof value === 'undefined');\n};\nconst isObjectValue = (value) => {\n    return !!value && typeof value === 'object' && !Array.isArray(value);\n};\nconst isFileValue = (value) => !!value &&\n    typeof value === 'object' &&\n    'data' in value &&\n    isFileData(value.data);\nfunction collectParams(params, inputKey, inputValue) {\n    if (Array.isArray(inputValue)) {\n        for (const value of inputValue) {\n            collectParams(params, `${inputKey}[]`, value);\n        }\n    }\n    else if (isFileValue(inputValue)) {\n        const { name, contentType } = inputValue;\n        const file = transformFile(inputValue.data, name, contentType ?? defaultContentType);\n        const options = getFileOptions({ name, contentType });\n        params.push([inputKey, file, ...options]);\n    }\n    else if (isObjectValue(inputValue)) {\n        for (const [key, value] of Object.entries(inputValue)) {\n            if (typeof value !== 'undefined') {\n                params.push([`${inputKey}[${key}]`, String(value)]);\n            }\n        }\n    }\n    else if (isSimpleValue(inputValue) && inputValue) {\n        params.push([inputKey, inputValue.toString()]);\n    }\n}\nfunction getFormDataParams(options) {\n    const params = [];\n    for (const [key, value] of Object.entries(options)) {\n        collectParams(params, key, value);\n    }\n    return params;\n}\nfunction buildFormData(options) {\n    const formData = getFormData();\n    const paramsList = getFormDataParams(options);\n    for (const params of paramsList) {\n        const [key, value, ...rest] = params;\n        // node form-data has another signature for append\n        formData.append(key, value, ...rest);\n    }\n    return formData;\n}\n\nclass UploadError extends UploadcareError {\n    code;\n    request;\n    response;\n    headers;\n    constructor(message, code, request, response, headers) {\n        super();\n        this.name = 'UploadError';\n        this.message = message;\n        this.code = code;\n        this.request = request;\n        this.response = response;\n        this.headers = headers;\n        Object.setPrototypeOf(this, UploadError.prototype);\n    }\n}\n\nconst buildSearchParams = (query) => {\n    const searchParams = new URLSearchParams();\n    for (const [key, value] of Object.entries(query)) {\n        if (value && typeof value === 'object' && !Array.isArray(value)) {\n            Object.entries(value)\n                .filter((entry) => entry[1] ?? false)\n                .forEach((entry) => searchParams.set(`${key}[${entry[0]}]`, String(entry[1])));\n        }\n        else if (Array.isArray(value)) {\n            value.forEach((val) => {\n                searchParams.append(`${key}[]`, val);\n            });\n        }\n        else if (typeof value === 'string' && value) {\n            searchParams.set(key, value);\n        }\n        else if (typeof value === 'number') {\n            searchParams.set(key, value.toString());\n        }\n    }\n    return searchParams.toString();\n};\nconst getUrl = (base, path, query) => {\n    const url = new URL(base);\n    url.pathname = (url.pathname + path).replace('//', '/');\n    if (query) {\n        url.search = buildSearchParams(query);\n    }\n    return url.toString();\n};\n\nvar version = '6.14.1';\n\nconst LIBRARY_NAME = 'UploadcareUploadClient';\nconst LIBRARY_VERSION = version;\nfunction getUserAgent(options) {\n    return getUserAgent$1({\n        libraryName: LIBRARY_NAME,\n        libraryVersion: LIBRARY_VERSION,\n        ...options\n    });\n}\n\nconst REQUEST_WAS_THROTTLED_CODE = 'RequestThrottledError';\nconst DEFAULT_RETRY_AFTER_TIMEOUT = 15000;\nconst DEFAULT_NETWORK_ERROR_TIMEOUT = 1000;\nfunction getTimeoutFromThrottledRequest(error) {\n    const { headers } = error || {};\n    if (!headers || typeof headers['retry-after'] !== 'string') {\n        return DEFAULT_RETRY_AFTER_TIMEOUT;\n    }\n    const seconds = parseInt(headers['retry-after'], 10);\n    if (!Number.isFinite(seconds)) {\n        return DEFAULT_RETRY_AFTER_TIMEOUT;\n    }\n    return seconds * 1000;\n}\nfunction retryIfFailed(fn, options) {\n    const { retryThrottledRequestMaxTimes, retryNetworkErrorMaxTimes } = options;\n    return retrier(({ attempt, retry }) => fn().catch((error) => {\n        if ('response' in error &&\n            error?.code === REQUEST_WAS_THROTTLED_CODE &&\n            attempt < retryThrottledRequestMaxTimes) {\n            return retry(getTimeoutFromThrottledRequest(error));\n        }\n        if (error instanceof NetworkError &&\n            attempt < retryNetworkErrorMaxTimes) {\n            return retry((attempt + 1) * DEFAULT_NETWORK_ERROR_TIMEOUT);\n        }\n        throw error;\n    }));\n}\n\nconst getContentType = (file) => {\n    let contentType = '';\n    if (isBlob(file) || isFile(file) || isReactNativeAsset(file)) {\n        contentType = file.type;\n    }\n    return contentType || defaultContentType;\n};\n\nconst getFileName = (file) => {\n    let filename = '';\n    if (isFile(file) && file.name) {\n        filename = file.name;\n    }\n    else if (isBlob(file) || isBuffer()) {\n        filename = '';\n    }\n    else if (isReactNativeAsset(file) && file.name) {\n        filename = file.name;\n    }\n    return filename || defaultFilename;\n};\n\nfunction getStoreValue(store) {\n    if (typeof store === 'undefined' || store === 'auto') {\n        return 'auto';\n    }\n    return store ? '1' : '0';\n}\n\n/**\n * Performs file uploading request to Uploadcare Upload API. Can be canceled and\n * has progress.\n */\nfunction base(file, { publicKey, fileName, contentType, baseURL = defaultSettings.baseURL, secureSignature, secureExpire, store, signal, onProgress, source = 'local', integration, userAgent, retryThrottledRequestMaxTimes = defaultSettings.retryThrottledRequestMaxTimes, retryNetworkErrorMaxTimes = defaultSettings.retryNetworkErrorMaxTimes, metadata }) {\n    return retryIfFailed(() => request({\n        method: 'POST',\n        url: getUrl(baseURL, '/base/', {\n            jsonerrors: 1\n        }),\n        headers: {\n            'X-UC-User-Agent': getUserAgent({ publicKey, integration, userAgent })\n        },\n        data: buildFormData({\n            file: {\n                data: file,\n                name: fileName || getFileName(file),\n                contentType: contentType || getContentType(file)\n            },\n            UPLOADCARE_PUB_KEY: publicKey,\n            UPLOADCARE_STORE: getStoreValue(store),\n            signature: secureSignature,\n            expire: secureExpire,\n            source: source,\n            metadata\n        }),\n        signal,\n        onProgress\n    }).then(({ data, headers, request }) => {\n        const response = camelizeKeys(JSON.parse(data));\n        if ('error' in response) {\n            throw new UploadError(response.error.content, response.error.errorCode, request, response, headers);\n        }\n        else {\n            return response;\n        }\n    }), { retryNetworkErrorMaxTimes, retryThrottledRequestMaxTimes });\n}\n\nvar TypeEnum;\n(function (TypeEnum) {\n    TypeEnum[\"Token\"] = \"token\";\n    TypeEnum[\"FileInfo\"] = \"file_info\";\n})(TypeEnum || (TypeEnum = {}));\n/** Uploading files from URL. */\nfunction fromUrl(sourceUrl, { publicKey, baseURL = defaultSettings.baseURL, store, fileName, checkForUrlDuplicates, saveUrlForRecurrentUploads, secureSignature, secureExpire, source = 'url', signal, integration, userAgent, retryThrottledRequestMaxTimes = defaultSettings.retryThrottledRequestMaxTimes, retryNetworkErrorMaxTimes = defaultSettings.retryNetworkErrorMaxTimes, metadata }) {\n    return retryIfFailed(() => request({\n        method: 'POST',\n        headers: {\n            'X-UC-User-Agent': getUserAgent({ publicKey, integration, userAgent })\n        },\n        url: getUrl(baseURL, '/from_url/', {\n            jsonerrors: 1,\n            pub_key: publicKey,\n            source_url: sourceUrl,\n            store: getStoreValue(store),\n            filename: fileName,\n            check_URL_duplicates: checkForUrlDuplicates ? 1 : undefined,\n            save_URL_duplicates: saveUrlForRecurrentUploads ? 1 : undefined,\n            signature: secureSignature,\n            expire: secureExpire,\n            source: source,\n            metadata\n        }),\n        signal\n    }).then(({ data, headers, request }) => {\n        const response = camelizeKeys(JSON.parse(data));\n        if ('error' in response) {\n            throw new UploadError(response.error.content, response.error.errorCode, request, response, headers);\n        }\n        else {\n            return response;\n        }\n    }), { retryNetworkErrorMaxTimes, retryThrottledRequestMaxTimes });\n}\n\nvar Status;\n(function (Status) {\n    Status[\"Unknown\"] = \"unknown\";\n    Status[\"Waiting\"] = \"waiting\";\n    Status[\"Progress\"] = \"progress\";\n    Status[\"Error\"] = \"error\";\n    Status[\"Success\"] = \"success\";\n})(Status || (Status = {}));\nconst isErrorResponse = (response) => {\n    return 'status' in response && response.status === Status.Error;\n};\n/** Checking upload status and working with file tokens. */\nfunction fromUrlStatus(token, { publicKey, baseURL = defaultSettings.baseURL, signal, integration, userAgent, retryThrottledRequestMaxTimes = defaultSettings.retryThrottledRequestMaxTimes, retryNetworkErrorMaxTimes = defaultSettings.retryNetworkErrorMaxTimes } = {}) {\n    return retryIfFailed(() => request({\n        method: 'GET',\n        headers: publicKey\n            ? {\n                'X-UC-User-Agent': getUserAgent({\n                    publicKey,\n                    integration,\n                    userAgent\n                })\n            }\n            : undefined,\n        url: getUrl(baseURL, '/from_url/status/', {\n            jsonerrors: 1,\n            token\n        }),\n        signal\n    }).then(({ data, headers, request }) => {\n        const response = camelizeKeys(JSON.parse(data));\n        if ('error' in response && !isErrorResponse(response)) {\n            throw new UploadError(response.error.content, response.error.errorCode, request, response, headers);\n        }\n        else {\n            return response;\n        }\n    }), { retryNetworkErrorMaxTimes, retryThrottledRequestMaxTimes });\n}\n\n/** Create files group. */\nfunction group(uuids, { publicKey, baseURL = defaultSettings.baseURL, jsonpCallback, secureSignature, secureExpire, signal, source, integration, userAgent, retryThrottledRequestMaxTimes = defaultSettings.retryThrottledRequestMaxTimes, retryNetworkErrorMaxTimes = defaultSettings.retryNetworkErrorMaxTimes }) {\n    return retryIfFailed(() => request({\n        method: 'POST',\n        headers: {\n            'X-UC-User-Agent': getUserAgent({ publicKey, integration, userAgent })\n        },\n        url: getUrl(baseURL, '/group/', {\n            jsonerrors: 1\n        }),\n        data: buildFormData({\n            files: uuids,\n            callback: jsonpCallback,\n            pub_key: publicKey,\n            signature: secureSignature,\n            expire: secureExpire,\n            source\n        }),\n        signal\n    }).then(({ data, headers, request }) => {\n        const response = camelizeKeys(JSON.parse(data));\n        if ('error' in response) {\n            throw new UploadError(response.error.content, response.error.errorCode, request, response, headers);\n        }\n        else {\n            return response;\n        }\n    }), { retryNetworkErrorMaxTimes, retryThrottledRequestMaxTimes });\n}\n\n/** Get info about group. */\nfunction groupInfo(id, { publicKey, baseURL = defaultSettings.baseURL, signal, source, integration, userAgent, retryThrottledRequestMaxTimes = defaultSettings.retryThrottledRequestMaxTimes, retryNetworkErrorMaxTimes = defaultSettings.retryNetworkErrorMaxTimes }) {\n    return retryIfFailed(() => request({\n        method: 'GET',\n        headers: {\n            'X-UC-User-Agent': getUserAgent({ publicKey, integration, userAgent })\n        },\n        url: getUrl(baseURL, '/group/info/', {\n            jsonerrors: 1,\n            pub_key: publicKey,\n            group_id: id,\n            source\n        }),\n        signal\n    }).then(({ data, headers, request }) => {\n        const response = camelizeKeys(JSON.parse(data));\n        if ('error' in response) {\n            throw new UploadError(response.error.content, response.error.errorCode, request, response, headers);\n        }\n        else {\n            return response;\n        }\n    }), { retryThrottledRequestMaxTimes, retryNetworkErrorMaxTimes });\n}\n\n/** Returns a JSON dictionary holding file info. */\nfunction info(uuid, { publicKey, baseURL = defaultSettings.baseURL, signal, source, integration, userAgent, retryThrottledRequestMaxTimes = defaultSettings.retryThrottledRequestMaxTimes, retryNetworkErrorMaxTimes = defaultSettings.retryNetworkErrorMaxTimes }) {\n    return retryIfFailed(() => request({\n        method: 'GET',\n        headers: {\n            'X-UC-User-Agent': getUserAgent({ publicKey, integration, userAgent })\n        },\n        url: getUrl(baseURL, '/info/', {\n            jsonerrors: 1,\n            pub_key: publicKey,\n            file_id: uuid,\n            source\n        }),\n        signal\n    }).then(({ data, headers, request }) => {\n        const response = camelizeKeys(JSON.parse(data));\n        if ('error' in response) {\n            throw new UploadError(response.error.content, response.error.errorCode, request, response, headers);\n        }\n        else {\n            return response;\n        }\n    }), { retryThrottledRequestMaxTimes, retryNetworkErrorMaxTimes });\n}\n\n/** Start multipart uploading. */\nfunction multipartStart(size, { publicKey, contentType, fileName, multipartChunkSize = defaultSettings.multipartChunkSize, baseURL = '', secureSignature, secureExpire, store, signal, source = 'local', integration, userAgent, retryThrottledRequestMaxTimes = defaultSettings.retryThrottledRequestMaxTimes, retryNetworkErrorMaxTimes = defaultSettings.retryNetworkErrorMaxTimes, metadata }) {\n    return retryIfFailed(() => request({\n        method: 'POST',\n        url: getUrl(baseURL, '/multipart/start/', { jsonerrors: 1 }),\n        headers: {\n            'X-UC-User-Agent': getUserAgent({ publicKey, integration, userAgent })\n        },\n        data: buildFormData({\n            filename: fileName || defaultFilename,\n            size: size,\n            content_type: contentType || defaultContentType,\n            part_size: multipartChunkSize,\n            UPLOADCARE_STORE: getStoreValue(store),\n            UPLOADCARE_PUB_KEY: publicKey,\n            signature: secureSignature,\n            expire: secureExpire,\n            source: source,\n            metadata\n        }),\n        signal\n    }).then(({ data, headers, request }) => {\n        const response = camelizeKeys(JSON.parse(data));\n        if ('error' in response) {\n            throw new UploadError(response.error.content, response.error.errorCode, request, response, headers);\n        }\n        else {\n            // convert to array\n            response.parts = Object.keys(response.parts).map((key) => response.parts[Number(key)]);\n            return response;\n        }\n    }), { retryThrottledRequestMaxTimes, retryNetworkErrorMaxTimes });\n}\n\n/** Complete multipart uploading. */\nfunction multipartUpload(part, url, { contentType, signal, onProgress, retryThrottledRequestMaxTimes = defaultSettings.retryThrottledRequestMaxTimes, retryNetworkErrorMaxTimes = defaultSettings.retryNetworkErrorMaxTimes }) {\n    return retryIfFailed(() => request({\n        method: 'PUT',\n        url,\n        data: part,\n        // Upload request can't be non-computable because we always know exact size\n        onProgress: onProgress,\n        signal,\n        headers: {\n            'Content-Type': contentType || defaultContentType\n        }\n    })\n        .then((result) => {\n        // hack for node \\_()_/\n        if (onProgress)\n            onProgress({\n                isComputable: true,\n                value: 1\n            });\n        return result;\n    })\n        .then(({ status }) => ({ code: status })), {\n        retryThrottledRequestMaxTimes,\n        retryNetworkErrorMaxTimes\n    });\n}\n\n/** Complete multipart uploading. */\nfunction multipartComplete(uuid, { publicKey, baseURL = defaultSettings.baseURL, source = 'local', signal, integration, userAgent, retryThrottledRequestMaxTimes = defaultSettings.retryThrottledRequestMaxTimes, retryNetworkErrorMaxTimes = defaultSettings.retryNetworkErrorMaxTimes }) {\n    return retryIfFailed(() => request({\n        method: 'POST',\n        url: getUrl(baseURL, '/multipart/complete/', { jsonerrors: 1 }),\n        headers: {\n            'X-UC-User-Agent': getUserAgent({ publicKey, integration, userAgent })\n        },\n        data: buildFormData({\n            uuid: uuid,\n            UPLOADCARE_PUB_KEY: publicKey,\n            source: source\n        }),\n        signal\n    }).then(({ data, headers, request }) => {\n        const response = camelizeKeys(JSON.parse(data));\n        if ('error' in response) {\n            throw new UploadError(response.error.content, response.error.errorCode, request, response, headers);\n        }\n        else {\n            return response;\n        }\n    }), { retryThrottledRequestMaxTimes, retryNetworkErrorMaxTimes });\n}\n\nfunction isReadyPoll(uuid, { publicKey, baseURL, source, integration, userAgent, retryThrottledRequestMaxTimes, retryNetworkErrorMaxTimes, signal, onProgress }) {\n    return poll({\n        check: (signal) => info(uuid, {\n            publicKey,\n            baseURL,\n            signal,\n            source,\n            integration,\n            userAgent,\n            retryThrottledRequestMaxTimes,\n            retryNetworkErrorMaxTimes\n        }).then((response) => {\n            if (response.isReady) {\n                return response;\n            }\n            onProgress && onProgress({ isComputable: true, value: 1 });\n            return false;\n        }),\n        signal\n    });\n}\n\nfunction isGroupFileInfo(fileInfo) {\n    return 'defaultEffects' in fileInfo;\n}\nclass UploadcareFile {\n    uuid;\n    name = null;\n    size = null;\n    isStored = null;\n    isImage = null;\n    mimeType = null;\n    cdnUrl = null;\n    s3Url = null;\n    originalFilename = null;\n    imageInfo = null;\n    videoInfo = null;\n    contentInfo = null;\n    metadata = null;\n    s3Bucket = null;\n    defaultEffects = null;\n    constructor(fileInfo, { baseCDN = defaultSettings.baseCDN, fileName } = {}) {\n        const { uuid, s3Bucket } = fileInfo;\n        const cdnUrl = getUrl(baseCDN, `${uuid}/`);\n        const s3Url = s3Bucket\n            ? getUrl(`https://${s3Bucket}.s3.amazonaws.com/`, `${uuid}/${fileInfo.filename}`)\n            : null;\n        this.uuid = uuid;\n        this.name = fileName || fileInfo.filename;\n        this.size = fileInfo.size;\n        this.isStored = fileInfo.isStored;\n        this.isImage = fileInfo.isImage;\n        this.mimeType = fileInfo.mimeType;\n        this.cdnUrl = cdnUrl;\n        this.originalFilename = fileInfo.originalFilename;\n        this.imageInfo = fileInfo.imageInfo;\n        this.videoInfo = fileInfo.videoInfo;\n        this.contentInfo = fileInfo.contentInfo;\n        this.metadata = fileInfo.metadata || null;\n        this.s3Bucket = s3Bucket || null;\n        this.s3Url = s3Url;\n        if (isGroupFileInfo(fileInfo)) {\n            this.defaultEffects = fileInfo.defaultEffects;\n        }\n    }\n}\n\nconst uploadDirect = (file, { publicKey, fileName, baseURL, secureSignature, secureExpire, store, contentType, signal, onProgress, source, integration, userAgent, retryThrottledRequestMaxTimes, retryNetworkErrorMaxTimes, baseCDN, metadata }) => {\n    return base(file, {\n        publicKey,\n        fileName,\n        contentType,\n        baseURL,\n        secureSignature,\n        secureExpire,\n        store,\n        signal,\n        onProgress,\n        source,\n        integration,\n        userAgent,\n        retryThrottledRequestMaxTimes,\n        retryNetworkErrorMaxTimes,\n        metadata\n    })\n        .then(({ file }) => {\n        return isReadyPoll(file, {\n            publicKey,\n            baseURL,\n            source,\n            integration,\n            userAgent,\n            retryThrottledRequestMaxTimes,\n            retryNetworkErrorMaxTimes,\n            onProgress,\n            signal\n        });\n    })\n        .then((fileInfo) => new UploadcareFile(fileInfo, { baseCDN }));\n};\n\nconst uploadFromUploaded = (uuid, { publicKey, fileName, baseURL, signal, onProgress, source, integration, userAgent, retryThrottledRequestMaxTimes, retryNetworkErrorMaxTimes, baseCDN }) => {\n    return info(uuid, {\n        publicKey,\n        baseURL,\n        signal,\n        source,\n        integration,\n        userAgent,\n        retryThrottledRequestMaxTimes,\n        retryNetworkErrorMaxTimes\n    })\n        .then((fileInfo) => new UploadcareFile(fileInfo, { baseCDN, fileName }))\n        .then((result) => {\n        // hack for node \\_()_/\n        if (onProgress)\n            onProgress({\n                isComputable: true,\n                value: 1\n            });\n        return result;\n    });\n};\n\nconst race = (fns, { signal } = {}) => {\n    let lastError = null;\n    let winnerIndex = null;\n    const controllers = fns.map(() => new AbortController());\n    const createStopRaceCallback = (i) => () => {\n        winnerIndex = i;\n        controllers.forEach((controller, index) => index !== i && controller.abort());\n    };\n    onCancel(signal, () => {\n        controllers.forEach((controller) => controller.abort());\n    });\n    return Promise.all(fns.map((fn, i) => {\n        const stopRace = createStopRaceCallback(i);\n        return Promise.resolve()\n            .then(() => fn({ stopRace, signal: controllers[i].signal }))\n            .then((result) => {\n            stopRace();\n            return result;\n        })\n            .catch((error) => {\n            lastError = error;\n            return null;\n        });\n    })).then((results) => {\n        if (winnerIndex === null) {\n            throw lastError;\n        }\n        else {\n            return results[winnerIndex];\n        }\n    });\n};\n\nvar WebSocket = window.WebSocket;\n\nclass Events {\n    events = Object.create({});\n    emit(event, data) {\n        this.events[event]?.forEach((fn) => fn(data));\n    }\n    on(event, callback) {\n        this.events[event] = this.events[event] || [];\n        this.events[event].push(callback);\n    }\n    off(event, callback) {\n        if (callback) {\n            this.events[event] = this.events[event].filter((fn) => fn !== callback);\n        }\n        else {\n            this.events[event] = [];\n        }\n    }\n}\n\nconst response = (type, data) => {\n    if (type === 'success') {\n        return { status: Status.Success, ...data };\n    }\n    if (type === 'progress') {\n        return { status: Status.Progress, ...data };\n    }\n    return { status: Status.Error, ...data };\n};\nclass Pusher {\n    key;\n    disconnectTime;\n    ws = undefined;\n    queue = [];\n    isConnected = false;\n    subscribers = 0;\n    emmitter = new Events();\n    disconnectTimeoutId = null;\n    constructor(pusherKey, disconnectTime = 30000) {\n        this.key = pusherKey;\n        this.disconnectTime = disconnectTime;\n    }\n    connect() {\n        this.disconnectTimeoutId && clearTimeout(this.disconnectTimeoutId);\n        if (!this.isConnected && !this.ws) {\n            const pusherUrl = `wss://ws.pusherapp.com/app/${this.key}?protocol=5&client=js&version=1.12.2`;\n            this.ws = new WebSocket(pusherUrl);\n            this.ws.addEventListener('error', (error) => {\n                this.emmitter.emit('error', new Error(error.message));\n            });\n            this.emmitter.on('connected', () => {\n                this.isConnected = true;\n                this.queue.forEach((message) => this.send(message.event, message.data));\n                this.queue = [];\n            });\n            this.ws.addEventListener('message', (e) => {\n                const data = JSON.parse(e.data.toString());\n                switch (data.event) {\n                    case 'pusher:connection_established': {\n                        this.emmitter.emit('connected', undefined);\n                        break;\n                    }\n                    case 'pusher:ping': {\n                        this.send('pusher:pong', {});\n                        break;\n                    }\n                    case 'progress':\n                    case 'success':\n                    case 'fail': {\n                        this.emmitter.emit(data.channel, response(data.event, JSON.parse(data.data)));\n                    }\n                }\n            });\n        }\n    }\n    disconnect() {\n        const actualDisconect = () => {\n            this.ws?.close();\n            this.ws = undefined;\n            this.isConnected = false;\n        };\n        if (this.disconnectTime) {\n            this.disconnectTimeoutId = setTimeout(() => {\n                actualDisconect();\n            }, this.disconnectTime);\n        }\n        else {\n            actualDisconect();\n        }\n    }\n    send(event, data) {\n        const str = JSON.stringify({ event, data });\n        this.ws?.send(str);\n    }\n    subscribe(token, handler) {\n        this.subscribers += 1;\n        this.connect();\n        const channel = `task-status-${token}`;\n        const message = {\n            event: 'pusher:subscribe',\n            data: { channel }\n        };\n        this.emmitter.on(channel, handler);\n        if (this.isConnected) {\n            this.send(message.event, message.data);\n        }\n        else {\n            this.queue.push(message);\n        }\n    }\n    unsubscribe(token) {\n        this.subscribers -= 1;\n        const channel = `task-status-${token}`;\n        const message = {\n            event: 'pusher:unsubscribe',\n            data: { channel }\n        };\n        this.emmitter.off(channel);\n        if (this.isConnected) {\n            this.send(message.event, message.data);\n        }\n        else {\n            this.queue = this.queue.filter((msg) => msg.data.channel !== channel);\n        }\n        if (this.subscribers === 0) {\n            this.disconnect();\n        }\n    }\n    onError(callback) {\n        this.emmitter.on('error', callback);\n        return () => this.emmitter.off('error', callback);\n    }\n}\nlet pusher = null;\nconst getPusher = (key) => {\n    if (!pusher) {\n        // no timeout for nodeJS and 30000 ms for browser\n        const disconectTimeout = typeof window === 'undefined' ? 0 : 30000;\n        pusher = new Pusher(key, disconectTimeout);\n    }\n    return pusher;\n};\nconst preconnect = (key) => {\n    getPusher(key).connect();\n};\n\nfunction pollStrategy({ token, publicKey, baseURL, integration, userAgent, retryThrottledRequestMaxTimes, retryNetworkErrorMaxTimes, onProgress, signal }) {\n    return poll({\n        check: (signal) => fromUrlStatus(token, {\n            publicKey,\n            baseURL,\n            integration,\n            userAgent,\n            retryThrottledRequestMaxTimes,\n            retryNetworkErrorMaxTimes,\n            signal\n        }).then((response) => {\n            switch (response.status) {\n                case Status.Error: {\n                    return new UploadError(response.error, response.errorCode);\n                }\n                case Status.Waiting: {\n                    return false;\n                }\n                case Status.Unknown: {\n                    return new UploadError(`Token \"${token}\" was not found.`);\n                }\n                case Status.Progress: {\n                    if (onProgress) {\n                        if (response.total === 'unknown') {\n                            onProgress({ isComputable: false });\n                        }\n                        else {\n                            onProgress({\n                                isComputable: true,\n                                value: response.done / response.total\n                            });\n                        }\n                    }\n                    return false;\n                }\n                case Status.Success: {\n                    if (onProgress)\n                        onProgress({\n                            isComputable: true,\n                            value: response.done / response.total\n                        });\n                    return response;\n                }\n                default: {\n                    throw new Error('Unknown status');\n                }\n            }\n        }),\n        signal\n    });\n}\nconst pushStrategy = ({ token, pusherKey, signal, onProgress }) => new Promise((resolve, reject) => {\n    const pusher = getPusher(pusherKey);\n    const unsubErrorHandler = pusher.onError(reject);\n    const destroy = () => {\n        unsubErrorHandler();\n        pusher.unsubscribe(token);\n    };\n    onCancel(signal, () => {\n        destroy();\n        reject(new CancelError('pusher cancelled'));\n    });\n    pusher.subscribe(token, (result) => {\n        switch (result.status) {\n            case Status.Progress: {\n                if (onProgress) {\n                    if (result.total === 'unknown') {\n                        onProgress({ isComputable: false });\n                    }\n                    else {\n                        onProgress({\n                            isComputable: true,\n                            value: result.done / result.total\n                        });\n                    }\n                }\n                break;\n            }\n            case Status.Success: {\n                destroy();\n                if (onProgress)\n                    onProgress({\n                        isComputable: true,\n                        value: result.done / result.total\n                    });\n                resolve(result);\n                break;\n            }\n            case Status.Error: {\n                destroy();\n                reject(new UploadError(result.msg, result.error_code));\n            }\n        }\n    });\n});\nconst uploadFromUrl = (sourceUrl, { publicKey, fileName, baseURL, baseCDN, checkForUrlDuplicates, saveUrlForRecurrentUploads, secureSignature, secureExpire, store, signal, onProgress, source, integration, userAgent, retryThrottledRequestMaxTimes, pusherKey = defaultSettings.pusherKey, metadata }) => Promise.resolve(preconnect(pusherKey))\n    .then(() => fromUrl(sourceUrl, {\n    publicKey,\n    fileName,\n    baseURL,\n    checkForUrlDuplicates,\n    saveUrlForRecurrentUploads,\n    secureSignature,\n    secureExpire,\n    store,\n    signal,\n    source,\n    integration,\n    userAgent,\n    retryThrottledRequestMaxTimes,\n    metadata\n}))\n    .catch((error) => {\n    const pusher = getPusher(pusherKey);\n    pusher?.disconnect();\n    return Promise.reject(error);\n})\n    .then((urlResponse) => {\n    if (urlResponse.type === TypeEnum.FileInfo) {\n        return urlResponse;\n    }\n    else {\n        return race([\n            ({ signal }) => pollStrategy({\n                token: urlResponse.token,\n                publicKey,\n                baseURL,\n                integration,\n                userAgent,\n                retryThrottledRequestMaxTimes,\n                onProgress,\n                signal\n            }),\n            ({ signal }) => pushStrategy({\n                token: urlResponse.token,\n                pusherKey,\n                signal,\n                onProgress\n            })\n        ], { signal });\n    }\n})\n    .then((result) => {\n    if (result instanceof UploadError)\n        throw result;\n    return result;\n})\n    .then((result) => isReadyPoll(result.uuid, {\n    publicKey,\n    baseURL,\n    integration,\n    userAgent,\n    retryThrottledRequestMaxTimes,\n    onProgress,\n    signal\n}))\n    .then((fileInfo) => new UploadcareFile(fileInfo, { baseCDN }));\n\nconst memo = new WeakMap();\nconst getBlobFromReactNativeAsset = async (asset) => {\n    if (memo.has(asset)) {\n        return memo.get(asset);\n    }\n    const blob = await fetch(asset.uri).then((res) => res.blob());\n    memo.set(asset, blob);\n    return blob;\n};\n\nconst getFileSize = async (file) => {\n    if (isFile(file) || isBlob(file)) {\n        return file.size;\n    }\n    if (isReactNativeAsset(file)) {\n        const blob = await getBlobFromReactNativeAsset(file);\n        return blob.size;\n    }\n    throw new Error(`Unknown file type. Cannot determine file size.`);\n};\n\n/** Check if FileData is multipart data. */\nconst isMultipart = (fileSize, multipartMinFileSize = defaultSettings.multipartMinFileSize) => {\n    return fileSize >= multipartMinFileSize;\n};\n\n/** Uuid type guard. */\nconst isUuid = (data) => {\n    const UUID_REGEX = '[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}';\n    const regExp = new RegExp(UUID_REGEX);\n    return !isFileData(data) && regExp.test(data);\n};\n/**\n * Url type guard.\n *\n * @param {SupportedFileInput | Url | Uuid} data\n */\nconst isUrl = (data) => {\n    const URL_REGEX = '^(?:\\\\w+:)?\\\\/\\\\/([^\\\\s\\\\.]+\\\\.\\\\S{2}|localhost[\\\\:?\\\\d]*)\\\\S*$';\n    const regExp = new RegExp(URL_REGEX);\n    return !isFileData(data) && regExp.test(data);\n};\n\nconst runWithConcurrency = (concurrency, tasks) => {\n    return new Promise((resolve, reject) => {\n        const results = [];\n        let rejected = false;\n        let settled = tasks.length;\n        const forRun = [...tasks];\n        const run = () => {\n            const index = tasks.length - forRun.length;\n            const next = forRun.shift();\n            if (next) {\n                next()\n                    .then((result) => {\n                    if (rejected)\n                        return;\n                    results[index] = result;\n                    settled -= 1;\n                    if (settled) {\n                        run();\n                    }\n                    else {\n                        resolve(results);\n                    }\n                })\n                    .catch((error) => {\n                    rejected = true;\n                    reject(error);\n                });\n            }\n        };\n        for (let i = 0; i < concurrency; i++) {\n            run();\n        }\n    });\n};\n\nconst sliceChunk = (file, index, fileSize, chunkSize) => {\n    const start = chunkSize * index;\n    const end = Math.min(start + chunkSize, fileSize);\n    return file.slice(start, end);\n};\n\nconst prepareChunks = async (file, fileSize, chunkSize) => {\n    return (index) => sliceChunk(file, index, fileSize, chunkSize);\n};\n\nconst uploadPart = (chunk, url, { publicKey, contentType, onProgress, signal, integration, retryThrottledRequestMaxTimes, retryNetworkErrorMaxTimes }) => multipartUpload(chunk, url, {\n    publicKey,\n    contentType,\n    onProgress,\n    signal,\n    integration,\n    retryThrottledRequestMaxTimes,\n    retryNetworkErrorMaxTimes\n});\nconst uploadMultipart = async (file, { publicKey, fileName, fileSize, baseURL, secureSignature, secureExpire, store, signal, onProgress, source, integration, userAgent, retryThrottledRequestMaxTimes, retryNetworkErrorMaxTimes, contentType, multipartChunkSize = defaultSettings.multipartChunkSize, maxConcurrentRequests = defaultSettings.maxConcurrentRequests, baseCDN, metadata }) => {\n    const size = fileSize ?? (await getFileSize(file));\n    let progressValues;\n    const createProgressHandler = (totalChunks, chunkIdx) => {\n        if (!onProgress)\n            return;\n        if (!progressValues) {\n            progressValues = Array(totalChunks).fill(0);\n        }\n        const sum = (values) => values.reduce((sum, next) => sum + next, 0);\n        return (info) => {\n            if (!info.isComputable) {\n                return;\n            }\n            progressValues[chunkIdx] = info.value;\n            onProgress({\n                isComputable: true,\n                value: sum(progressValues) / totalChunks\n            });\n        };\n    };\n    contentType ||= getContentType(file);\n    return multipartStart(size, {\n        publicKey,\n        contentType,\n        fileName: fileName || getFileName(file),\n        baseURL,\n        secureSignature,\n        secureExpire,\n        store,\n        signal,\n        source,\n        integration,\n        userAgent,\n        retryThrottledRequestMaxTimes,\n        retryNetworkErrorMaxTimes,\n        metadata\n    })\n        .then(async ({ uuid, parts }) => {\n        const getChunk = await prepareChunks(file, size, multipartChunkSize);\n        return Promise.all([\n            uuid,\n            runWithConcurrency(maxConcurrentRequests, parts.map((url, index) => () => uploadPart(getChunk(index), url, {\n                publicKey,\n                contentType,\n                onProgress: createProgressHandler(parts.length, index),\n                signal,\n                integration,\n                retryThrottledRequestMaxTimes,\n                retryNetworkErrorMaxTimes\n            })))\n        ]);\n    })\n        .then(([uuid]) => multipartComplete(uuid, {\n        publicKey,\n        baseURL,\n        source,\n        integration,\n        userAgent,\n        retryThrottledRequestMaxTimes,\n        retryNetworkErrorMaxTimes\n    }))\n        .then((fileInfo) => {\n        if (fileInfo.isReady) {\n            return fileInfo;\n        }\n        else {\n            return isReadyPoll(fileInfo.uuid, {\n                publicKey,\n                baseURL,\n                source,\n                integration,\n                userAgent,\n                retryThrottledRequestMaxTimes,\n                retryNetworkErrorMaxTimes,\n                onProgress,\n                signal\n            });\n        }\n    })\n        .then((fileInfo) => new UploadcareFile(fileInfo, { baseCDN }));\n};\n\n/** Uploads file from provided data. */\nasync function uploadFile(data, { publicKey, fileName, baseURL = defaultSettings.baseURL, secureSignature, secureExpire, store, signal, onProgress, source, integration, userAgent, retryThrottledRequestMaxTimes, retryNetworkErrorMaxTimes, contentType, multipartMinFileSize, multipartChunkSize, maxConcurrentRequests, baseCDN = defaultSettings.baseCDN, checkForUrlDuplicates, saveUrlForRecurrentUploads, pusherKey, metadata }) {\n    if (isFileData(data)) {\n        const fileSize = await getFileSize(data);\n        if (isMultipart(fileSize, multipartMinFileSize)) {\n            return uploadMultipart(data, {\n                publicKey,\n                contentType,\n                multipartChunkSize,\n                fileSize,\n                fileName,\n                baseURL,\n                secureSignature,\n                secureExpire,\n                store,\n                signal,\n                onProgress,\n                source,\n                integration,\n                userAgent,\n                maxConcurrentRequests,\n                retryThrottledRequestMaxTimes,\n                retryNetworkErrorMaxTimes,\n                baseCDN,\n                metadata\n            });\n        }\n        return uploadDirect(data, {\n            publicKey,\n            fileName,\n            contentType,\n            baseURL,\n            secureSignature,\n            secureExpire,\n            store,\n            signal,\n            onProgress,\n            source,\n            integration,\n            userAgent,\n            retryThrottledRequestMaxTimes,\n            retryNetworkErrorMaxTimes,\n            baseCDN,\n            metadata\n        });\n    }\n    if (isUrl(data)) {\n        return uploadFromUrl(data, {\n            publicKey,\n            fileName,\n            baseURL,\n            baseCDN,\n            checkForUrlDuplicates,\n            saveUrlForRecurrentUploads,\n            secureSignature,\n            secureExpire,\n            store,\n            signal,\n            onProgress,\n            source,\n            integration,\n            userAgent,\n            retryThrottledRequestMaxTimes,\n            retryNetworkErrorMaxTimes,\n            pusherKey,\n            metadata\n        });\n    }\n    if (isUuid(data)) {\n        return uploadFromUploaded(data, {\n            publicKey,\n            fileName,\n            baseURL,\n            signal,\n            onProgress,\n            source,\n            integration,\n            userAgent,\n            retryThrottledRequestMaxTimes,\n            retryNetworkErrorMaxTimes,\n            baseCDN\n        });\n    }\n    throw new TypeError(`File uploading from \"${data}\" is not supported`);\n}\n\nclass UploadcareGroup {\n    uuid;\n    filesCount;\n    totalSize;\n    isStored;\n    isImage;\n    cdnUrl;\n    files;\n    createdAt;\n    storedAt = null;\n    constructor(groupInfo, { baseCDN = defaultSettings.baseCDN } = {}) {\n        this.uuid = groupInfo.id;\n        this.filesCount = groupInfo.filesCount;\n        const groupFiles = groupInfo.files.filter(Boolean);\n        this.totalSize = Object.values(groupFiles).reduce((acc, file) => acc + file.size, 0);\n        this.isStored = !!groupInfo.datetimeStored;\n        this.isImage = !!Object.values(groupFiles).filter((file) => file.isImage)\n            .length;\n        this.cdnUrl = groupInfo.cdnUrl;\n        this.files = groupFiles.map((fileInfo) => new UploadcareFile(fileInfo, { baseCDN }));\n        this.createdAt = groupInfo.datetimeCreated;\n        this.storedAt = groupInfo.datetimeStored;\n    }\n}\n\n/** FileData type guard. */\nconst isFileDataArray = (data) => {\n    for (const item of data) {\n        if (!isFileData(item)) {\n            return false;\n        }\n    }\n    return true;\n};\n/** Uuid type guard. */\nconst isUuidArray = (data) => {\n    for (const item of data) {\n        if (!isUuid(item)) {\n            return false;\n        }\n    }\n    return true;\n};\n/** Url type guard. */\nconst isUrlArray = (data) => {\n    for (const item of data) {\n        if (!isUrl(item)) {\n            return false;\n        }\n    }\n    return true;\n};\n\nfunction uploadFileGroup(data, { publicKey, fileName, baseURL = defaultSettings.baseURL, secureSignature, secureExpire, store, signal, onProgress, source, integration, userAgent, retryThrottledRequestMaxTimes, retryNetworkErrorMaxTimes, contentType, multipartChunkSize = defaultSettings.multipartChunkSize, baseCDN = defaultSettings.baseCDN, checkForUrlDuplicates, saveUrlForRecurrentUploads, jsonpCallback }) {\n    if (!isFileDataArray(data) && !isUrlArray(data) && !isUuidArray(data)) {\n        throw new TypeError(`Group uploading from \"${data}\" is not supported`);\n    }\n    let progressValues;\n    let isStillComputable = true;\n    const filesCount = data.length;\n    const createProgressHandler = (size, index) => {\n        if (!onProgress)\n            return;\n        if (!progressValues) {\n            progressValues = Array(size).fill(0);\n        }\n        const normalize = (values) => values.reduce((sum, next) => sum + next) / size;\n        return (info) => {\n            if (!info.isComputable || !isStillComputable) {\n                isStillComputable = false;\n                onProgress({ isComputable: false });\n                return;\n            }\n            progressValues[index] = info.value;\n            onProgress({ isComputable: true, value: normalize(progressValues) });\n        };\n    };\n    return Promise.all(data.map((file, index) => {\n        if (isFileData(file) || isUrl(file)) {\n            return uploadFile(file, {\n                publicKey,\n                fileName,\n                baseURL,\n                secureSignature,\n                secureExpire,\n                store,\n                signal,\n                onProgress: createProgressHandler(filesCount, index),\n                source,\n                integration,\n                userAgent,\n                retryThrottledRequestMaxTimes,\n                retryNetworkErrorMaxTimes,\n                contentType,\n                multipartChunkSize,\n                baseCDN,\n                checkForUrlDuplicates,\n                saveUrlForRecurrentUploads\n            }).then((fileInfo) => fileInfo.uuid);\n        }\n        else {\n            // Do not request file info by uuid before creating group because this isn't necessary\n            return file;\n        }\n    })).then((uuids) => {\n        return group(uuids, {\n            publicKey,\n            baseURL,\n            jsonpCallback,\n            secureSignature,\n            secureExpire,\n            signal,\n            source,\n            integration,\n            userAgent,\n            retryThrottledRequestMaxTimes,\n            retryNetworkErrorMaxTimes\n        })\n            .then((groupInfo) => new UploadcareGroup(groupInfo, { baseCDN }))\n            .then((group) => {\n            onProgress && onProgress({ isComputable: true, value: 1 });\n            return group;\n        });\n    });\n}\n\n/** Populate options with settings. */\nconst populateOptionsWithSettings = (options, settings) => ({\n    ...settings,\n    ...options\n});\nclass UploadClient {\n    settings;\n    constructor(settings) {\n        this.settings = Object.assign({}, defaultSettings, settings);\n    }\n    updateSettings(newSettings) {\n        this.settings = Object.assign(this.settings, newSettings);\n    }\n    getSettings() {\n        return this.settings;\n    }\n    base(file, options = {}) {\n        const settings = this.getSettings();\n        return base(file, populateOptionsWithSettings(options, settings));\n    }\n    info(uuid, options = {}) {\n        const settings = this.getSettings();\n        return info(uuid, populateOptionsWithSettings(options, settings));\n    }\n    fromUrl(sourceUrl, options = {}) {\n        const settings = this.getSettings();\n        return fromUrl(sourceUrl, populateOptionsWithSettings(options, settings));\n    }\n    fromUrlStatus(token, options = {}) {\n        const settings = this.getSettings();\n        return fromUrlStatus(token, populateOptionsWithSettings(options, settings));\n    }\n    group(uuids, options = {}) {\n        const settings = this.getSettings();\n        return group(uuids, populateOptionsWithSettings(options, settings));\n    }\n    groupInfo(id, options = {}) {\n        const settings = this.getSettings();\n        return groupInfo(id, populateOptionsWithSettings(options, settings));\n    }\n    multipartStart(size, options = {}) {\n        const settings = this.getSettings();\n        return multipartStart(size, populateOptionsWithSettings(options, settings));\n    }\n    multipartUpload(part, url, options = {}) {\n        const settings = this.getSettings();\n        return multipartUpload(part, url, populateOptionsWithSettings(options, settings));\n    }\n    multipartComplete(uuid, options = {}) {\n        const settings = this.getSettings();\n        return multipartComplete(uuid, populateOptionsWithSettings(options, settings));\n    }\n    uploadFile(data, options = {}) {\n        const settings = this.getSettings();\n        return uploadFile(data, populateOptionsWithSettings(options, settings));\n    }\n    uploadFileGroup(data, options = {}) {\n        const settings = this.getSettings();\n        return uploadFileGroup(data, populateOptionsWithSettings(options, settings));\n    }\n    isReadyPoll(uuid, options = {}) {\n        const settings = this.getSettings();\n        return isReadyPoll(uuid, populateOptionsWithSettings(options, settings));\n    }\n}\n\nclass Queue {\n    _concurrency = 1;\n    _pending = [];\n    _running = 0;\n    _resolvers = new Map();\n    _rejectors = new Map();\n    constructor(concurrency) {\n        this._concurrency = concurrency;\n    }\n    _run() {\n        const tasksLeft = this._concurrency - this._running;\n        for (let i = 0; i < tasksLeft; i++) {\n            const task = this._pending.shift();\n            if (!task) {\n                return;\n            }\n            const resolver = this._resolvers.get(task);\n            const rejector = this._rejectors.get(task);\n            if (!resolver || !rejector)\n                throw new Error('Unexpected behavior: resolver or rejector is undefined');\n            this._running += 1;\n            task()\n                .finally(() => {\n                this._resolvers.delete(task);\n                this._rejectors.delete(task);\n                this._running -= 1;\n                this._run();\n            })\n                .then((value) => resolver(value))\n                .catch((error) => rejector(error));\n        }\n    }\n    add(task) {\n        return new Promise((resolve, reject) => {\n            this._resolvers.set(task, resolve);\n            this._rejectors.set(task, reject);\n            this._pending.push(task);\n            this._run();\n        });\n    }\n    get pending() {\n        return this._pending.length;\n    }\n    get running() {\n        return this._running;\n    }\n    set concurrency(value) {\n        this._concurrency = value;\n        this._run();\n    }\n    get concurrency() {\n        return this._concurrency;\n    }\n}\n\n/* Low-Level API */\n/** @deprecated Please use NetworkError instead. */\nconst UploadcareNetworkError = NetworkError;\n/** @deprecated Please use UploadError instead. */\nconst UploadClientError = UploadError;\n\nexport { CancelError, NetworkError, Queue, UploadClient, UploadClientError, UploadError, UploadcareError, UploadcareFile, UploadcareGroup, UploadcareNetworkError, base, fromUrl, fromUrlStatus, getUserAgent$1 as getUserAgent, group, groupInfo, info, isReadyPoll, multipartComplete, multipartStart, multipartUpload, uploadDirect, uploadFile, uploadFileGroup, uploadFromUploaded, uploadFromUrl, uploadMultipart };\n","// @ts-check\nimport { Queue } from '@uploadcare/upload-client';\n\nexport const blockCtx = () => ({});\n\n/** @param {import('./Block').Block} fnCtx */\nexport const activityBlockCtx = (fnCtx) => ({\n  ...blockCtx(),\n  '*currentActivity': '',\n  '*currentActivityParams': {},\n  '*history': [],\n  '*historyBack': null,\n  '*closeModal': () => {\n    fnCtx.set$({\n      '*modalActive': false,\n      '*currentActivity': '',\n    });\n  },\n});\n\n/** @param {import('./Block').Block} fnCtx */\nexport const uploaderBlockCtx = (fnCtx) => ({\n  ...activityBlockCtx(fnCtx),\n  '*commonProgress': 0,\n  '*uploadList': [],\n  '*focusedEntry': null,\n  '*uploadMetadata': null,\n  '*uploadQueue': new Queue(1),\n  '*uploadCollection': null,\n  /** @type {ReturnType<import('../utils/buildOutputError.js').buildCollectionFileError>[]} */\n  '*collectionErrors': [],\n  /** @type {import('../types').OutputCollectionState | null} */\n  '*collectionState': null,\n  /** @type {import('@uploadcare/upload-client').UploadcareGroup | null} */\n  '*groupInfo': null,\n  /** @type {Set<string>} */\n  '*uploadTrigger': new Set(),\n});\n","export default {\n  'locale-id': 'en',\n  'social-source-lang': 'en',\n  'upload-file': 'Upload file',\n  'upload-files': 'Upload files',\n  'choose-file': 'Choose file',\n  'choose-files': 'Choose files',\n  'drop-files-here': 'Drop files here',\n  'select-file-source': 'Select file source',\n  selected: 'Selected',\n  upload: 'Upload',\n  'add-more': 'Add more',\n  cancel: 'Cancel',\n  'start-from-cancel': 'Cancel',\n  clear: 'Clear',\n  'camera-shot': 'Shot',\n  'upload-url': 'Import',\n  'upload-url-placeholder': 'Paste link here',\n  'edit-image': 'Edit image',\n  'edit-detail': 'Details',\n  back: 'Back',\n  done: 'Done',\n  ok: 'Ok',\n  'remove-from-list': 'Remove',\n  no: 'No',\n  yes: 'Yes',\n  'confirm-your-action': 'Confirm your action',\n  'are-you-sure': 'Are you sure?',\n  'selected-count': 'Selected:',\n  'upload-error': 'Upload error',\n  'validation-error': 'Validation error',\n  'no-files': 'No files selected',\n  browse: 'Browse',\n  'not-uploaded-yet': 'Not uploaded yet...',\n  file__one: 'file',\n  file__other: 'files',\n  error__one: 'error',\n  error__other: 'errors',\n  'header-uploading': 'Uploading {{count}} {{plural:file(count)}}',\n  'header-failed': '{{count}} {{plural:error(count)}}',\n  'header-succeed': '{{count}} {{plural:file(count)}} uploaded',\n  'header-total': '{{count}} {{plural:file(count)}} selected',\n  'src-type-local': 'From device',\n  'src-type-from-url': 'From link',\n  'src-type-camera': 'Camera',\n  'src-type-draw': 'Draw',\n  'src-type-facebook': 'Facebook',\n  'src-type-dropbox': 'Dropbox',\n  'src-type-gdrive': 'Google Drive',\n  'src-type-gphotos': 'Google Photos',\n  'src-type-instagram': 'Instagram',\n  'src-type-flickr': 'Flickr',\n  'src-type-vk': 'VK',\n  'src-type-evernote': 'Evernote',\n  'src-type-box': 'Box',\n  'src-type-onedrive': 'Onedrive',\n  'src-type-huddle': 'Huddle',\n  'src-type-other': 'Other',\n  'caption-from-url': 'Import from link',\n  'caption-camera': 'Camera',\n  'caption-draw': 'Draw',\n  'caption-edit-file': 'Edit file',\n  'file-no-name': 'No name...',\n  'toggle-fullscreen': 'Toggle fullscreen',\n  'toggle-guides': 'Toggle guides',\n  rotate: 'Rotate',\n  'flip-vertical': 'Flip vertical',\n  'flip-horizontal': 'Flip horizontal',\n  apply: 'Apply',\n  brightness: 'Brightness',\n  contrast: 'Contrast',\n  saturation: 'Saturation',\n  exposure: 'Exposure',\n  gamma: 'Gamma',\n  vibrance: 'Vibrance',\n  warmth: 'Warmth',\n  enhance: 'Enhance',\n  original: 'Original',\n  resize: 'Resize image',\n  crop: 'Crop',\n  'select-color': 'Select color',\n  text: 'Text',\n  draw: 'Draw',\n  'cancel-edit': 'Cancel edit',\n  'tab-view': 'Preview',\n  'tab-details': 'Details',\n  'file-name': 'Name',\n  'file-size': 'Size',\n  'cdn-url': 'CDN URL',\n  'file-size-unknown': 'Unknown',\n  'camera-permissions-denied': 'Camera access denied',\n  'camera-permissions-prompt': 'Please allow access to the camera',\n  'camera-permissions-request': 'Request access',\n  'files-count-limit-error-title': 'Files count limit overflow',\n  'files-count-limit-error-too-few':\n    'Youve chosen {{total}} {{plural:file(total)}}. At least {{min}} {{plural:file(min)}} required.',\n  'files-count-limit-error-too-many': 'Youve chosen too many files. {{max}} {{plural:file(max)}} is maximum.',\n  'files-max-size-limit-error': 'File is too big. Max file size is {{maxFileSize}}.',\n  'has-validation-errors': 'File validation error ocurred. Please, check your files before upload.',\n  'images-only-accepted': 'Only image files are accepted.',\n  'file-type-not-allowed': 'Uploading of these file types is not allowed.',\n  'some-files-were-not-uploaded': 'Some files were not uploaded.',\n};\n","// @ts-check\n\nimport { default as en } from '../locales/file-uploader/en.js';\n\n/** @type {Map<string, LocaleDefinition>} */\nconst localeRegistry = new Map();\n/** @type {Map<string, LocaleDefinitionResolver>} */\nconst localeResolvers = new Map();\n\n/** @typedef {Record<string, string>} LocaleDefinition */\n/** @typedef {() => Promise<LocaleDefinition>} LocaleDefinitionResolver */\n\n/**\n * @param {string} localeName\n * @param {LocaleDefinition} definition\n */\nconst defineLocaleSync = (localeName, definition) => {\n  if (localeRegistry.has(localeName)) {\n    console.log(`Locale ${localeName} is already defined. Overwriting...`);\n  }\n\n  localeRegistry.set(localeName, { ...en, ...definition });\n};\n\n/**\n * @param {string} localeName\n * @param {LocaleDefinitionResolver} definitionResolver\n */\nconst defineLocaleAsync = (localeName, definitionResolver) => {\n  localeResolvers.set(localeName, definitionResolver);\n};\n\n/**\n * @param {string} localeName\n * @param {LocaleDefinition | LocaleDefinitionResolver} definitionOrResolver\n */\nexport const defineLocale = (localeName, definitionOrResolver) => {\n  if (typeof definitionOrResolver === 'function') {\n    defineLocaleAsync(localeName, definitionOrResolver);\n  } else {\n    defineLocaleSync(localeName, definitionOrResolver);\n  }\n};\n\n/**\n * @param {string} localeName\n * @returns {Promise<LocaleDefinition>}\n */\nexport const resolveLocaleDefinition = async (localeName) => {\n  if (!localeRegistry.has(localeName)) {\n    if (!localeResolvers.has(localeName)) {\n      throw new Error(`Locale ${localeName} is not defined`);\n    }\n\n    const definitionResolver = /** @type {LocaleDefinitionResolver} */ (localeResolvers.get(localeName));\n    const definition = await definitionResolver();\n    defineLocaleSync(localeName, definition);\n  }\n\n  return /** @type {LocaleDefinition} */ (localeRegistry.get(localeName));\n};\n\ndefineLocale('en', en);\n","// @ts-check\nimport { debounce } from '../blocks/utils/debounce.js';\nimport { resolveLocaleDefinition } from './localeRegistry.js';\nimport { default as en } from '../locales/file-uploader/en.js';\n\n/** @param {string} key */\nexport const localeStateKey = (key) => `*l10n/${key}`;\nexport const DEFAULT_LOCALE = 'en';\n\nexport class LocaleManager {\n  /**\n   * @private\n   * @type {import('./Block.js').Block | null}\n   */\n  _blockInstance = null;\n\n  /** @private */\n  _localeName = '';\n\n  /**\n   * @private\n   * @type {Set<() => void>}\n   */\n  _callbacks = new Set();\n\n  /**\n   * @private\n   * @type {Map<import('./Block.js').Block, Map<string, () => void>>}\n   */\n  _boundBlocks = new Map();\n\n  /** @param {import('./Block.js').Block} blockInstance */\n  constructor(blockInstance) {\n    this._blockInstance = blockInstance;\n\n    for (let [key, value] of Object.entries(en)) {\n      this._blockInstance.add(localeStateKey(key), value, false);\n    }\n\n    setTimeout(() => {\n      blockInstance.subConfigValue('localeName', async (localeName) => {\n        if (!this._blockInstance || !localeName) {\n          return;\n        }\n        this._localeName = localeName;\n        const definition = await resolveLocaleDefinition(localeName);\n        if (localeName !== DEFAULT_LOCALE && this._localeName !== localeName) {\n          return;\n        }\n\n        const overrides = this._blockInstance.cfg.localeDefinitionOverride?.[localeName];\n        for (const [key, value] of Object.entries(definition)) {\n          const overriddenValue = overrides?.[key];\n          this._blockInstance.add(localeStateKey(key), overriddenValue ?? value, true);\n          for (const callback of this._callbacks) {\n            callback();\n          }\n        }\n      });\n\n      blockInstance.subConfigValue('localeDefinitionOverride', (localeDefinitionOverride) => {\n        if (!localeDefinitionOverride) {\n          return;\n        }\n        const definition = localeDefinitionOverride[this._localeName];\n        if (!definition) {\n          return;\n        }\n        for (const [key, value] of Object.entries(definition)) {\n          this._blockInstance?.add(localeStateKey(key), value, true);\n          for (const callback of this._callbacks) {\n            callback();\n          }\n        }\n      });\n    });\n  }\n\n  /**\n   * @param {() => void} callback\n   * @returns {() => void}\n   */\n  onLocaleChange(callback) {\n    const debouncedCb = debounce(callback, 0);\n    this._callbacks.add(debouncedCb);\n    return () => {\n      this._callbacks.delete(debouncedCb);\n    };\n  }\n\n  /**\n   * @param {import('./Block.js').Block} block\n   * @param {string} key\n   * @param {() => void} resolver\n   */\n  bindL10n(block, key, resolver) {\n    block.$[key] = resolver();\n\n    if (!this._boundBlocks.has(block)) {\n      this._boundBlocks.set(block, new Map());\n    }\n\n    this._boundBlocks.get(block)?.get(key)?.();\n\n    const destroyCallback = this.onLocaleChange(() => {\n      block.$[key] = resolver();\n    });\n\n    this._boundBlocks.get(block)?.set(key, destroyCallback);\n  }\n\n  /** @param {import('./Block.js').Block} block */\n  destroyL10nBindings(block) {\n    const callbacks = this._boundBlocks.get(block);\n    if (!callbacks) {\n      return;\n    }\n    for (const callback of callbacks.values()) {\n      callback();\n    }\n    this._boundBlocks.delete(block);\n  }\n\n  destroy() {\n    this._callbacks.clear();\n  }\n}\n","// @ts-check\n\nimport { localeStateKey } from './LocaleManager.js';\n\n/**\n * @template {import('./Block.js').Block} T\n * @param {DocumentFragment} fr\n * @param {T} fnCtx\n */\nexport function l10nProcessor(fr, fnCtx) {\n  [...fr.querySelectorAll('[l10n]')].forEach((el) => {\n    let key = el.getAttribute('l10n');\n    if (!key) {\n      return;\n    }\n    let elProp = 'textContent';\n    let useAttribute = false;\n    if (key.includes(':')) {\n      const arr = key.split(':');\n      elProp = arr[0];\n      key = arr[1];\n      if (elProp.startsWith('@')) {\n        elProp = elProp.slice(1);\n        useAttribute = true;\n      }\n    }\n\n    // Check if the key is present in the local context\n    const localCtxKey = key;\n    if (fnCtx.has(localCtxKey)) {\n      fnCtx.sub(localCtxKey, (mappedKey) => {\n        if (!mappedKey) {\n          return;\n        }\n        // Store the subscription in a temporary map to be able to unsubscribe later\n        if (!fnCtx.l10nProcessorSubs.has(localCtxKey)) {\n          fnCtx.l10nProcessorSubs.set(localCtxKey, new Set());\n        }\n        const keySubs = fnCtx.l10nProcessorSubs.get(localCtxKey);\n        keySubs?.forEach(\n          /** @param {{ remove: () => void }} sub */\n          (sub) => {\n            sub.remove();\n            keySubs.delete(sub);\n            fnCtx.allSubs.delete(sub);\n          },\n        );\n        // We don't need the leading * in the key because we use the key as a local context key relative to the global state\n        const nodeStateKey = localeStateKey(mappedKey).replace('*', '');\n        // If the key is not present in the node context, add it\n        if (!fnCtx.nodeCtx.has(nodeStateKey)) {\n          fnCtx.nodeCtx.add(nodeStateKey, mappedKey);\n        }\n        // Subscribe on the global l10n key change\n        const sub = fnCtx.nodeCtx.sub(nodeStateKey, () => {\n          el[/** @type {'textContent'} */ (elProp)] = fnCtx.l10n(mappedKey);\n        });\n        keySubs?.add(sub);\n        // Store the subscription in the global context to make able Symbiote to unsubscribe it on destroy\n        fnCtx.allSubs.add(sub);\n        el.removeAttribute('l10n');\n      });\n    }\n\n    // Otherwise, assume the key is in the global context\n    const stateKey = localeStateKey(key);\n    if (!fnCtx.has(stateKey)) {\n      fnCtx.add(stateKey, '');\n    }\n    fnCtx.sub(stateKey, () => {\n      key = /** @type {string} */ (key);\n      if (useAttribute) {\n        el.setAttribute(elProp, fnCtx.l10n(key));\n      } else {\n        el[/** @type {'textContent'} */ (elProp)] = fnCtx.l10n(key);\n      }\n    });\n    el.removeAttribute('l10n');\n  });\n}\n","// @ts-check\n\n/**\n * @template {keyof import('../types').ConfigType} T\n * @param {T} key\n * @returns {`*cfg/${T}`}\n */\nexport const sharedConfigKey = (key) => `*cfg/${key}`;\n","import { PACKAGE_NAME, PACKAGE_VERSION } from '../env.js';\n\n/**\n * Trim leading `-/`, `/` and trailing `/` from CDN operation\n *\n * @param {String | unknown} [operation]\n * @returns {String}\n */\nexport const normalizeCdnOperation = (operation) => {\n  if (typeof operation !== 'string' || !operation) {\n    return '';\n  }\n  let str = operation.trim();\n  if (str.startsWith('-/')) {\n    str = str.slice(2);\n  } else if (str.startsWith('/')) {\n    str = str.slice(1);\n  }\n\n  if (str.endsWith('/')) {\n    str = str.slice(0, str.length - 1);\n  }\n  return str;\n};\n\n/**\n * Join multiple CDN operations into one string without trailing or leading delimeters\n *\n * @param {...(String | unknown)} [operations]\n * @returns {String}\n */\nexport const joinCdnOperations = (...operations) => {\n  return operations\n    .filter((op) => typeof op === 'string' && op)\n    .map((op) => normalizeCdnOperation(/** @type {String} */ (op)))\n    .join('/-/');\n};\n\n/**\n * Create string with leading `-/` from passed CDN operations. Do the same as `joinCdnOperations` but adds leading `-/`\n * and trailing `/`\n *\n * @param {...(String | unknown)} [cdnOperations] -\n * @returns {String}\n */\nexport const createCdnUrlModifiers = (...cdnOperations) => {\n  let joined = joinCdnOperations(...cdnOperations);\n  return joined ? `-/${joined}/` : '';\n};\n\n/**\n * Extract filename or file URL\n *\n * @param {String} cdnUrl\n * @returns {String}\n */\nexport function extractFilename(cdnUrl) {\n  let url = new URL(cdnUrl);\n  let noOrigin = url.pathname + url.search + url.hash;\n  let urlFilenameIdx = noOrigin.lastIndexOf('http');\n  let plainFilenameIdx = noOrigin.lastIndexOf('/');\n  let filename = '';\n\n  if (urlFilenameIdx >= 0) {\n    filename = noOrigin.slice(urlFilenameIdx);\n  } else if (plainFilenameIdx >= 0) {\n    filename = noOrigin.slice(plainFilenameIdx + 1);\n  }\n\n  return filename;\n}\n\n/**\n * Extract UUID from CDN URL\n *\n * @param {string} cdnUrl\n * @returns {string}\n */\nexport function extractUuid(cdnUrl) {\n  let url = new URL(cdnUrl);\n  let { pathname } = url;\n  const slashIndex = pathname.indexOf('/');\n  const secondSlashIndex = pathname.indexOf('/', slashIndex + 1);\n  return pathname.substring(slashIndex + 1, secondSlashIndex);\n}\n\n/**\n * Extract UUID from CDN URL\n *\n * @param {string} cdnUrl\n * @returns {string[]}\n */\nexport function extractOperations(cdnUrl) {\n  let withoutFilename = trimFilename(cdnUrl);\n  let url = new URL(withoutFilename);\n  let operationsMarker = url.pathname.indexOf('/-/');\n  if (operationsMarker === -1) {\n    return [];\n  }\n  let operationsStr = url.pathname.substring(operationsMarker);\n\n  return operationsStr\n    .split('/-/')\n    .filter(Boolean)\n    .map((operation) => normalizeCdnOperation(operation));\n}\n\n/**\n * Trim filename or file URL\n *\n * @param {String} cdnUrl\n * @returns {String}\n */\nexport function trimFilename(cdnUrl) {\n  let url = new URL(cdnUrl);\n  let filename = extractFilename(cdnUrl);\n  let filenamePathPart = isFileUrl(filename) ? splitFileUrl(filename).pathname : filename;\n\n  url.pathname = url.pathname.replace(filenamePathPart, '');\n  url.search = '';\n  url.hash = '';\n  return url.toString();\n}\n\n/**\n * Detect if filename is actually file URL\n *\n * @param {String} filename\n * @returns {Boolean}\n */\nexport function isFileUrl(filename) {\n  return filename.startsWith('http');\n}\n\n/**\n * Split file URL into the path and search parts\n *\n * @param {String} fileUrl\n * @returns {{ pathname: String; search: String; hash: String }}\n */\nexport function splitFileUrl(fileUrl) {\n  let url = new URL(fileUrl);\n  return {\n    pathname: url.origin + url.pathname || '',\n    search: url.search || '',\n    hash: url.hash || '',\n  };\n}\n\n/**\n * Create a final CDN URL with CDN modifiers and filename\n *\n * @param {String} baseCdnUrl - Base URL to CDN or Proxy, CDN modifiers and filename accepted\n * @param {String} [cdnModifiers] - CDN modifiers to apply, will be appended to `baseCdnUrl` ones\n * @param {String} [filename] - Filename for CDN or file URL for Proxy, will override one from `baseCdnUrl`\n * @returns {String}\n */\n\n// TODO eadidenko replace arg to pass the object parameter\nexport const createCdnUrl = (baseCdnUrl, cdnModifiers, filename) => {\n  let url = new URL(trimFilename(baseCdnUrl));\n  filename = filename || extractFilename(baseCdnUrl);\n  // TODO: fix double slash pathname bug (--cfg-cdn-cname: 'https://ucarecdn.com/' - trailing slash case)\n  if (url.pathname.startsWith('//')) {\n    url.pathname = url.pathname.replace('//', '/');\n  }\n  if (isFileUrl(filename)) {\n    let splitted = splitFileUrl(filename);\n    url.pathname = url.pathname + (cdnModifiers || '') + (splitted.pathname || '');\n    url.search = splitted.search;\n    url.hash = splitted.hash;\n  } else {\n    url.pathname = url.pathname + (cdnModifiers || '') + (filename || '');\n  }\n  return url.toString();\n};\n\n/**\n * Create URL for an original file on CDN\n *\n * @param {String} cdnUrl - URL to get base domain from, any pathname will be stripped\n * @param {String} uuid\n * @returns {String}\n */\nexport const createOriginalUrl = (cdnUrl, uuid) => {\n  let url = new URL(cdnUrl);\n  url.pathname = uuid + '/';\n  return url.toString();\n};\n","/**\n * @param {string} str\n * @returns {string[]}\n */\nexport const stringToArray = (str, delimiter = ',') => {\n  return str\n    .trim()\n    .split(delimiter)\n    .map((part) => part.trim())\n    .filter((part) => part.length > 0);\n};\n","// @ts-check\nimport { joinCdnOperations } from '../../../../utils/cdn-utils.js';\nimport { stringToArray } from '../../../../utils/stringToArray.js';\n\n/** @type {Record<keyof import('../types').Transformations, unknown>} */\nexport const OPERATIONS_DEFAULTS = Object.freeze({\n  brightness: 0,\n  exposure: 0,\n  gamma: 100,\n  contrast: 0,\n  saturation: 0,\n  vibrance: 0,\n  warmth: 0,\n  enhance: 0,\n  filter: 0,\n  rotate: 0,\n  mirror: false,\n  flip: false,\n  crop: undefined,\n});\n\n/** @type {readonly (keyof import('../types').Transformations)[]} */\nconst SUPPORTED_OPERATIONS_ORDERED = /** @type {const} */ ([\n  'enhance',\n  'brightness',\n  'exposure',\n  'gamma',\n  'contrast',\n  'saturation',\n  'vibrance',\n  'warmth',\n  'filter',\n  'mirror',\n  'flip',\n  'rotate',\n  'crop',\n]);\n\n/**\n * @template {keyof import('../types').Transformations} T\n * @param {T} operation\n * @param {import('../types').Transformations[T]} options\n */\nfunction transformationToStr(operation, options) {\n  if (typeof options === 'number') {\n    const value = options;\n    return OPERATIONS_DEFAULTS[operation] !== value ? `${operation}/${value}` : '';\n  }\n\n  if (typeof options === 'boolean') {\n    const value = options;\n    return OPERATIONS_DEFAULTS[operation] !== value ? `${operation}` : '';\n  }\n\n  if (operation === 'filter' && options) {\n    const { name, amount } = /** @type {NonNullable<import('../types').Transformations['filter']>} */ (options);\n    if (OPERATIONS_DEFAULTS.filter === amount) {\n      return '';\n    }\n    return `${operation}/${name}/${amount}`;\n  }\n\n  if (operation === 'crop' && options) {\n    let { dimensions, coords } = /** @type {NonNullable<import('../types').Transformations['crop']>} */ (options);\n    return `${operation}/${dimensions.join('x')}/${coords.join(',')}`;\n  }\n\n  return '';\n}\n\n/**\n * @param {import('../types').Transformations} transformations\n * @returns {string}\n */\nexport function transformationsToOperations(transformations) {\n  return joinCdnOperations(\n    ...SUPPORTED_OPERATIONS_ORDERED.filter(\n      (operation) => typeof transformations[operation] !== 'undefined' && transformations[operation] !== null,\n    )\n      .map((operation) => {\n        let options = transformations[operation];\n        return transformationToStr(operation, options);\n      })\n      .filter((str) => !!str),\n  );\n}\n\nexport const COMMON_OPERATIONS = joinCdnOperations('format/auto', 'progressive/yes');\n\n/** @param {[unknown]} arg */\nconst asNumber = ([value]) => (typeof value !== 'undefined' ? Number(value) : undefined);\nconst asBoolean = () => true;\n/** @param {[string, unknown]} arg */\nconst asFilter = ([name, amount]) => ({\n  name,\n  amount: typeof amount !== 'undefined' ? Number(amount) : 100,\n});\n\n/**\n * Docs: https://uploadcare.com/docs/transformations/image/resize-crop/#operation-crop We don't support percentages and\n * alignment presets, Because it's unclear how to handle them in the Editor UI TODO: add support for percentages and\n * alignment presets\n *\n * @param {[string, string]} arg\n */\nconst asCrop = ([dimensions, alignment]) => {\n  if (!/\\d+x\\d+/.test(dimensions) || !/\\d+,\\d+/.test(alignment)) {\n    throw new Error('Crop by aspect ratio, percentage or alignment shortcuts is not supported.');\n  }\n\n  return /** @type {{ dimensions: [number, number]; coords: [number, number] }} */ ({\n    dimensions: stringToArray(dimensions, 'x').map(Number),\n    coords: stringToArray(alignment).map(Number),\n  });\n};\n\n/**\n * @type {{\n *   [K in keyof Required<import('../types').Transformations>]: (args: any) => import('../types').Transformations[K];\n * }}\n */\nconst OPERATION_PROCESSORS = Object.freeze({\n  enhance: asNumber,\n  brightness: asNumber,\n  exposure: asNumber,\n  gamma: asNumber,\n  contrast: asNumber,\n  saturation: asNumber,\n  vibrance: asNumber,\n  warmth: asNumber,\n  filter: asFilter,\n  mirror: asBoolean,\n  flip: asBoolean,\n  rotate: asNumber,\n  crop: asCrop,\n});\n\n/**\n * @param {string[]} operations\n * @returns {import('../types.js').Transformations}\n */\nexport function operationsToTransformations(operations) {\n  /** @type {Record<string, unknown>} */\n  const transformations = {};\n  for (const operation of operations) {\n    const [name, ...args] = operation.split('/');\n    if (!SUPPORTED_OPERATIONS_ORDERED.includes(name)) {\n      continue;\n    }\n    const operationName = /** @type {(typeof SUPPORTED_OPERATIONS_ORDERED)[number]} */ (name);\n    const processor = OPERATION_PROCESSORS[operationName];\n    try {\n      const value = processor(args);\n      transformations[operationName] = value;\n    } catch (err) {\n      console.warn(\n        [\n          `Failed to parse URL operation \"${operation}\". It will be ignored.`,\n          err instanceof Error ? `Error message: \"${err.message}\"` : err,\n          'If you need this functionality, please feel free to open an issue at https://github.com/uploadcare/blocks/issues/new',\n        ].join('\\n'),\n      );\n    }\n  }\n\n  return /** @type {import('../types.js').Transformations} */ (transformations);\n}\n","// @ts-check\nimport { OPERATIONS_DEFAULTS } from './lib/transformationUtils.js';\n\nexport const TabId = Object.freeze({\n  CROP: 'crop',\n  TUNING: 'tuning',\n  FILTERS: 'filters',\n});\nexport const ALL_TABS = [TabId.CROP, TabId.TUNING, TabId.FILTERS];\n\nexport const ALL_COLOR_OPERATIONS = [\n  'brightness',\n  'exposure',\n  'gamma',\n  'contrast',\n  'saturation',\n  'vibrance',\n  'warmth',\n  'enhance',\n];\n\nexport const ALL_FILTERS = [\n  'adaris',\n  'briaril',\n  'calarel',\n  'carris',\n  'cynarel',\n  'cyren',\n  'elmet',\n  'elonni',\n  'enzana',\n  'erydark',\n  'fenralan',\n  'ferand',\n  'galen',\n  'gavin',\n  'gethriel',\n  'iorill',\n  'iothari',\n  'iselva',\n  'jadis',\n  'lavra',\n  'misiara',\n  'namala',\n  'nerion',\n  'nethari',\n  'pamaya',\n  'sarnar',\n  'sedis',\n  'sewen',\n  'sorahel',\n  'sorlen',\n  'tarian',\n  'thellassan',\n  'varriel',\n  'varven',\n  'vevera',\n  'virkas',\n  'yedis',\n  'yllara',\n  'zatvel',\n  'zevcen',\n];\n\nexport const ALL_CROP_OPERATIONS = ['rotate', 'mirror', 'flip'];\n\n/** KeypointsNumber is the number of keypoints loaded from each side of zero, not total number */\nexport const COLOR_OPERATIONS_CONFIG = Object.freeze({\n  brightness: {\n    zero: OPERATIONS_DEFAULTS.brightness,\n    range: [-100, 100],\n    keypointsNumber: 2,\n  },\n  exposure: {\n    zero: OPERATIONS_DEFAULTS.exposure,\n    range: [-500, 500],\n    keypointsNumber: 2,\n  },\n  gamma: {\n    zero: OPERATIONS_DEFAULTS.gamma,\n    range: [0, 1000],\n    keypointsNumber: 2,\n  },\n  contrast: {\n    zero: OPERATIONS_DEFAULTS.contrast,\n    range: [-100, 500],\n    keypointsNumber: 2,\n  },\n  saturation: {\n    zero: OPERATIONS_DEFAULTS.saturation,\n    range: [-100, 500],\n    keypointsNumber: 1,\n  },\n  vibrance: {\n    zero: OPERATIONS_DEFAULTS.vibrance,\n    range: [-100, 500],\n    keypointsNumber: 1,\n  },\n  warmth: {\n    zero: OPERATIONS_DEFAULTS.warmth,\n    range: [-100, 100],\n    keypointsNumber: 1,\n  },\n  enhance: {\n    zero: OPERATIONS_DEFAULTS.enhance,\n    range: [0, 100],\n    keypointsNumber: 1,\n  },\n  filter: {\n    zero: OPERATIONS_DEFAULTS.filter,\n    range: [0, 100],\n    keypointsNumber: 1,\n  },\n});\n","// @ts-check\n\n/** @param {string} value */\nexport const deserealizeCsv = (value) => {\n  if (!value) {\n    return [];\n  }\n\n  return value.split(',').map((item) => item.trim());\n};\n\n/** @param {unknown[]} value */\nexport const serializeCsv = (value) => {\n  if (!value) {\n    return '';\n  }\n\n  return value.join(',');\n};\n","// @ts-check\n\nimport { ALL_TABS } from '../CloudImageEditor/src/toolbar-constants.js';\nimport { serializeCsv } from '../utils/comma-separated.js';\n\nexport const DEFAULT_CDN_CNAME = 'https://ucarecdn.com';\nexport const DEFAULT_BASE_URL = 'https://upload.uploadcare.com';\nexport const DEFAULT_SOCIAL_BASE_URL = 'https://social.uploadcare.com';\n\n/** @type {import('../../types/exported').ConfigType} */\nexport const initialConfig = {\n  pubkey: '',\n  multiple: true,\n  multipleMin: 0,\n  multipleMax: Number.MAX_SAFE_INTEGER,\n\n  confirmUpload: false,\n  imgOnly: false,\n  accept: '',\n  externalSourcesPreferredTypes: '',\n  store: 'auto',\n  cameraMirror: false,\n  cameraCapture: '',\n  sourceList: 'local, url, camera, dropbox, gdrive',\n  cloudImageEditorTabs: serializeCsv(ALL_TABS),\n  maxLocalFileSizeBytes: 0,\n  thumbSize: 76,\n  showEmptyList: false,\n  useLocalImageEditor: false,\n  useCloudImageEditor: true,\n  removeCopyright: false,\n  cropPreset: '',\n  imageShrink: '',\n\n  modalScrollLock: true,\n  modalBackdropStrokes: false,\n\n  sourceListWrap: true,\n\n  remoteTabSessionKey: '',\n  cdnCname: DEFAULT_CDN_CNAME,\n  baseUrl: DEFAULT_BASE_URL,\n  socialBaseUrl: DEFAULT_SOCIAL_BASE_URL,\n  secureSignature: '',\n  secureExpire: '',\n  secureDeliveryProxy: '',\n  retryThrottledRequestMaxTimes: 1,\n  multipartMinFileSize: 26214400,\n  multipartChunkSize: 5242880,\n  maxConcurrentRequests: 10,\n  multipartMaxConcurrentRequests: 4,\n  multipartMaxAttempts: 3,\n  checkForUrlDuplicates: false,\n  saveUrlForRecurrentUploads: false,\n\n  groupOutput: false,\n  userAgentIntegration: '',\n  debug: false,\n\n  metadata: null,\n  localeName: 'en',\n  localeDefinitionOverride: null,\n  iconHrefResolver: null,\n};\n","// @ts-check\nimport { BaseComponent, Data } from '@symbiotejs/symbiote';\nimport { EventEmitter } from '../blocks/UploadCtxProvider/EventEmitter.js';\nimport { WindowHeightTracker } from '../utils/WindowHeightTracker.js';\nimport { getLocaleDirection } from '../utils/getLocaleDirection.js';\nimport { getPluralForm } from '../utils/getPluralForm.js';\nimport { applyTemplateData, getPluralObjects } from '../utils/template-utils.js';\nimport { waitForAttribute } from '../utils/waitForAttribute.js';\nimport { blockCtx } from './CTX.js';\nimport { LocaleManager, localeStateKey } from './LocaleManager.js';\nimport { l10nProcessor } from './l10nProcessor.js';\nimport { sharedConfigKey } from './sharedConfigKey.js';\nimport { initialConfig } from '../blocks/Config/initialConfig.js';\n\nconst TAG_PREFIX = 'lr-';\n\n// @ts-ignore TODO: fix this\nexport class Block extends BaseComponent {\n  /** @type {string | null} */\n  static StateConsumerScope = null;\n  static className = '';\n  requireCtxName = false;\n  allowCustomTemplate = true;\n  /** @type {import('./ActivityBlock.js').ActivityType} */\n  activityType = null;\n\n  init$ = blockCtx();\n\n  /**\n   * @param {String} str\n   * @param {{ [key: string]: string | number }} variables\n   * @returns {String}\n   */\n  l10n(str, variables = {}) {\n    if (!str) {\n      return '';\n    }\n    let template = this.$[localeStateKey(str)] || str;\n    let pluralObjects = getPluralObjects(template);\n    for (let pluralObject of pluralObjects) {\n      variables[pluralObject.variable] = this.pluralize(\n        pluralObject.pluralKey,\n        Number(variables[pluralObject.countVariable]),\n      );\n    }\n    let result = applyTemplateData(template, variables);\n    return result;\n  }\n\n  /**\n   * @param {string} key\n   * @param {number} count\n   * @returns {string}\n   */\n  pluralize(key, count) {\n    const locale = this.l10n('locale-id') || 'en';\n    const pluralForm = getPluralForm(locale, count);\n    return this.l10n(`${key}__${pluralForm}`);\n  }\n\n  /**\n   * @param {string} key\n   * @param {() => void} resolver\n   */\n  bindL10n(key, resolver) {\n    this.localeManager?.bindL10n(this, key, resolver);\n  }\n\n  constructor() {\n    super();\n    /** @type {Map<string, Set<{ remove: () => void }>>} */\n    this.l10nProcessorSubs = new Map();\n    // @ts-ignore TODO: fix this\n    this.addTemplateProcessor(l10nProcessor);\n  }\n\n  /**\n   * @param {Parameters<import('../blocks/UploadCtxProvider/EventEmitter.js').EventEmitter['emit']>[0]} type\n   * @param {Parameters<import('../blocks/UploadCtxProvider/EventEmitter.js').EventEmitter['emit']>[1]} [payload]\n   * @param {Parameters<import('../blocks/UploadCtxProvider/EventEmitter.js').EventEmitter['emit']>[2]} [options]\n   */\n  emit(type, payload, options) {\n    /** @type {import('../blocks/UploadCtxProvider/EventEmitter.js').EventEmitter} */\n    const eventEmitter = this.has('*eventEmitter') && this.$['*eventEmitter'];\n    if (!eventEmitter) {\n      return;\n    }\n    eventEmitter.emit(type, payload, options);\n  }\n\n  /**\n   * @param {(block: Block) => boolean} callback\n   * @returns {Boolean}\n   */\n  hasBlockInCtx(callback) {\n    // @ts-ignore TODO: fix this\n    /** @type {Set} */\n    let blocksRegistry = this.$['*blocksRegistry'];\n    for (let block of blocksRegistry) {\n      if (callback(block)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * @param {String} prop\n   * @param {any} newVal\n   */\n  setOrAddState(prop, newVal) {\n    this.add$(\n      {\n        [prop]: newVal,\n      },\n      true,\n    );\n  }\n\n  /** @param {import('./ActivityBlock.js').ActivityType} activityType */\n  setActivity(activityType) {\n    if (this.hasBlockInCtx((b) => b.activityType === activityType)) {\n      this.$['*currentActivity'] = activityType;\n      return;\n    }\n    console.warn(`Activity type \"${activityType}\" not found in the context`);\n  }\n\n  connectedCallback() {\n    const className = /** @type {typeof Block} */ (this.constructor).className;\n    if (className) {\n      this.classList.toggle(`${TAG_PREFIX}${className}`, true);\n    }\n\n    if (this.hasAttribute('retpl')) {\n      // @ts-ignore TODO: fix this\n      this.constructor['template'] = null;\n      this.processInnerHtml = true;\n    }\n    if (this.requireCtxName) {\n      waitForAttribute({\n        element: this,\n        attribute: 'ctx-name',\n        onSuccess: () => {\n          // async wait for ctx-name attribute to be set, needed for Angular because it sets attributes after mount\n          // TODO: should be moved to the symbiote core\n          super.connectedCallback();\n        },\n        onTimeout: () => {\n          console.error('Attribute `ctx-name` is required and it is not set.');\n        },\n      });\n    } else {\n      super.connectedCallback();\n    }\n\n    WindowHeightTracker.registerClient(this);\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    WindowHeightTracker.unregisterClient(this);\n  }\n\n  initCallback() {\n    if (!this.has('*blocksRegistry')) {\n      this.add('*blocksRegistry', new Set());\n    }\n\n    let blocksRegistry = this.$['*blocksRegistry'];\n    blocksRegistry.add(this);\n\n    if (!this.has('*eventEmitter')) {\n      this.add('*eventEmitter', new EventEmitter(this.debugPrint.bind(this)));\n    }\n    if (!this.has('*localeManager')) {\n      this.add('*localeManager', new LocaleManager(this));\n    }\n\n    this.sub(localeStateKey('locale-id'), (localeId) => {\n      this.style.direction = getLocaleDirection(localeId);\n    });\n  }\n\n  /** @returns {LocaleManager | null} */\n  get localeManager() {\n    return this.has('*localeManager') ? this.$['*localeManager'] : null;\n  }\n\n  destroyCallback() {\n    /** @type {Set<Block>} */\n    let blocksRegistry = this.$['*blocksRegistry'];\n    blocksRegistry.delete(this);\n\n    this.localeManager?.destroyL10nBindings(this);\n    this.l10nProcessorSubs = new Map();\n\n    // Destroy local context\n    // TODO: this should be done inside symbiote\n    Data.deleteCtx(this);\n\n    if (blocksRegistry.size === 0) {\n      setTimeout(() => {\n        // Destroy global context after all blocks are destroyed and all callbacks are run\n        this.destroyCtxCallback();\n      }, 0);\n    }\n  }\n\n  /**\n   * Called when the last block is removed from the context. Note that inheritors must run their callback before that.\n   *\n   * @protected\n   */\n  destroyCtxCallback() {\n    Data.deleteCtx(this.ctxName);\n\n    this.localeManager?.destroy();\n  }\n\n  /**\n   * @param {Number} bytes\n   * @param {Number} [decimals]\n   */\n  fileSizeFmt(bytes, decimals = 2) {\n    let units = ['B', 'KB', 'MB', 'GB', 'TB'];\n    /**\n     * @param {String} str\n     * @returns {String}\n     */\n    if (bytes === 0) {\n      return `0 ${units[0]}`;\n    }\n    let k = 1024;\n    let dm = decimals < 0 ? 0 : decimals;\n    let i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / k ** i).toFixed(dm)) + ' ' + units[i];\n  }\n\n  /**\n   * @param {String} url\n   * @returns {String}\n   */\n  proxyUrl(url) {\n    let previewProxy = this.cfg.secureDeliveryProxy;\n    if (!previewProxy) {\n      return url;\n    }\n    return applyTemplateData(\n      previewProxy,\n      { previewUrl: url },\n      { transform: (value) => window.encodeURIComponent(value) },\n    );\n  }\n\n  /** @returns {import('../types').ConfigType} } */\n  get cfg() {\n    if (!this.__cfgProxy) {\n      let o = Object.create(null);\n      /** @private */\n      this.__cfgProxy = new Proxy(o, {\n        set: (obj, key, value) => {\n          if (typeof key !== 'string') {\n            return false;\n          }\n          const sharedKey = sharedConfigKey(/** @type {keyof import('../types').ConfigType} */ (key));\n          if (!this.has(sharedKey)) {\n            this.add(sharedKey, initialConfig[/** @type {keyof import('../types').ConfigType} */ (key)]);\n          }\n          this.$[sharedKey] = value;\n          return true;\n        },\n        /**\n         * @param {never} obj\n         * @param {keyof import('../types').ConfigType} key\n         */\n        get: (obj, key) => {\n          const sharedKey = sharedConfigKey(key);\n          if (!this.has(sharedKey)) {\n            this.add(sharedKey, initialConfig[key]);\n          }\n          return this.$[sharedConfigKey(key)];\n        },\n      });\n    }\n    return this.__cfgProxy;\n  }\n\n  /**\n   * @template {keyof import('../types').ConfigType} T\n   * @param {T} key\n   * @param {(value: import('../types').ConfigType[T]) => void} callback\n   */\n  subConfigValue(key, callback) {\n    const sharedKey = sharedConfigKey(key);\n    if (!this.has(sharedKey)) {\n      this.add(sharedKey, initialConfig[key]);\n    }\n    this.sub(sharedKey, callback);\n  }\n\n  /** @param {unknown[]} args */\n  debugPrint(...args) {\n    if (!this.cfg.debug) {\n      return;\n    }\n    let consoleArgs = args;\n    if (typeof args?.[0] === 'function') {\n      const resolver = args[0];\n      consoleArgs = resolver();\n    }\n    console.log(`[${this.ctxName}]`, ...consoleArgs);\n  }\n\n  /** @param {String} [name] */\n  static reg(name) {\n    if (!name) {\n      super.reg();\n      return;\n    }\n    super.reg(name.startsWith(TAG_PREFIX) ? name : TAG_PREFIX + name);\n  }\n}\n\nexport { BaseComponent };\n","// @ts-check\nimport { debounce } from '../blocks/utils/debounce.js';\nimport { EventType } from '../blocks/UploadCtxProvider/EventEmitter.js';\nimport { Block } from './Block.js';\nimport { activityBlockCtx } from './CTX.js';\n\nconst ACTIVE_ATTR = 'active';\nconst ACTIVE_PROP = '___ACTIVITY_IS_ACTIVE___';\n\nexport class ActivityBlock extends Block {\n  historyTracked = false;\n  init$ = activityBlockCtx(this);\n\n  _debouncedHistoryFlush = debounce(this._historyFlush.bind(this), 10);\n\n  /** @private */\n  _deactivate() {\n    let actDesc = ActivityBlock._activityCallbacks.get(this);\n    this[ACTIVE_PROP] = false;\n    this.removeAttribute(ACTIVE_ATTR);\n    actDesc?.deactivateCallback?.();\n  }\n\n  /** @private */\n  _activate() {\n    let actDesc = ActivityBlock._activityCallbacks.get(this);\n    this.$['*historyBack'] = this.historyBack.bind(this);\n    /** @private */\n    this[ACTIVE_PROP] = true;\n    this.setAttribute(ACTIVE_ATTR, '');\n    actDesc?.activateCallback?.();\n\n    this._debouncedHistoryFlush();\n\n    this.emit(EventType.ACTIVITY_CHANGE, {\n      activity: this.activityType,\n    });\n  }\n\n  initCallback() {\n    super.initCallback();\n    if (this.hasAttribute('current-activity')) {\n      this.sub('*currentActivity', (/** @type {String} */ val) => {\n        this.setAttribute('current-activity', val);\n      });\n    }\n\n    // TODO: rename activityType to activityId\n    if (this.activityType) {\n      if (!this.hasAttribute('activity')) {\n        this.setAttribute('activity', this.activityType);\n      }\n      this.sub('*currentActivity', (/** @type {String} */ val) => {\n        if (this.activityType !== val && this[ACTIVE_PROP]) {\n          this._deactivate();\n        } else if (this.activityType === val && !this[ACTIVE_PROP]) {\n          this._activate();\n        }\n\n        if (!val) {\n          this.$['*history'] = [];\n        }\n      });\n\n      if (this.has('*modalActive')) {\n        this.sub('*modalActive', (modalActive) => {\n          if (!modalActive && this.activityType === this.$['*currentActivity']) {\n            this.$['*currentActivity'] = null;\n          }\n        });\n      }\n    }\n  }\n\n  /** @private */\n  _historyFlush() {\n    let history = this.$['*history'];\n    if (history) {\n      if (history.length > 10) {\n        history = history.slice(history.length - 11, history.length - 1);\n      }\n      if (this.historyTracked && history[history.length - 1] !== this.activityType) {\n        history.push(this.activityType);\n      }\n      this.$['*history'] = history;\n    }\n  }\n\n  /** @private */\n  _isActivityRegistered() {\n    return this.activityType && ActivityBlock._activityCallbacks.has(this);\n  }\n\n  /**\n   * @private\n   * @type {Map<\n   *   ActivityBlock,\n   *   { activateCallback: (() => void) | undefined; deactivateCallback: (() => void) | undefined }\n   * >}\n   */\n  static _activityCallbacks = new Map();\n\n  get isActivityActive() {\n    return this[ACTIVE_PROP];\n  }\n\n  get couldOpenActivity() {\n    return true;\n  }\n\n  /**\n   * TODO: remove name argument\n   *\n   * @param {String} name\n   * @param {Object} [options]\n   * @param {() => void} [options.onActivate]\n   * @param {() => void} [options.onDeactivate]\n   */\n  registerActivity(name, options = {}) {\n    const { onActivate, onDeactivate } = options;\n    ActivityBlock._activityCallbacks.set(this, {\n      activateCallback: onActivate,\n      deactivateCallback: onDeactivate,\n    });\n  }\n\n  unregisterActivity() {\n    if (this.isActivityActive) {\n      this._deactivate();\n    }\n    ActivityBlock._activityCallbacks.delete(this);\n  }\n\n  destroyCallback() {\n    super.destroyCallback();\n    this._isActivityRegistered() && this.unregisterActivity();\n\n    /** @type {string | null} */\n    const currentActivity = this.$['*currentActivity'];\n\n    /** @type {Set<import('./Block').Block>} */\n    let blocksRegistry = this.$['*blocksRegistry'];\n    const hasCurrentActivityInCtx = !![...blocksRegistry].find(\n      (block) => block instanceof ActivityBlock && block.activityType === currentActivity,\n    );\n\n    if (!hasCurrentActivityInCtx) {\n      this.$['*currentActivity'] = null;\n    }\n  }\n\n  get activityKey() {\n    return this.ctxName + this.activityType;\n  }\n\n  get activityParams() {\n    return this.$['*currentActivityParams'];\n  }\n\n  /** @type {String} */\n  get initActivity() {\n    return this.getCssData('--cfg-init-activity');\n  }\n\n  /** @type {String} */\n  get doneActivity() {\n    return this.getCssData('--cfg-done-activity');\n  }\n\n  historyBack() {\n    /** @type {String[]} */\n    let history = this.$['*history'];\n    if (history) {\n      let nextActivity = history.pop();\n      while (nextActivity === this.activityType) {\n        nextActivity = history.pop();\n      }\n      let couldOpenActivity = !!nextActivity;\n      if (nextActivity) {\n        /** @type {Set<ActivityBlock>} */\n        let blocksRegistry = this.$['*blocksRegistry'];\n        const nextActivityBlock = [...blocksRegistry].find((block) => block.activityType === nextActivity);\n        couldOpenActivity = nextActivityBlock?.couldOpenActivity ?? false;\n      }\n      nextActivity = couldOpenActivity ? nextActivity : undefined;\n      this.$['*currentActivity'] = nextActivity;\n      this.$['*history'] = history;\n      if (!nextActivity) {\n        this.setOrAddState('*modalActive', false);\n      }\n    }\n  }\n}\n\nActivityBlock.activities = Object.freeze({\n  START_FROM: 'start-from',\n  CAMERA: 'camera',\n  DRAW: 'draw',\n  UPLOAD_LIST: 'upload-list',\n  URL: 'url',\n  CONFIRMATION: 'confirmation',\n  CLOUD_IMG_EDIT: 'cloud-image-edit',\n  EXTERNAL: 'external',\n  DETAILS: 'details',\n});\n\n/** @typedef {(typeof ActivityBlock)['activities'][keyof (typeof ActivityBlock)['activities']] | null} ActivityType */\n","export const CROP_PADDING = 20;\nexport const THUMB_CORNER_SIZE = 24;\nexport const THUMB_SIDE_SIZE = 34;\nexport const THUMB_STROKE_WIDTH = 3;\nexport const THUMB_OFFSET = THUMB_STROKE_WIDTH / 2;\n\nexport const GUIDE_STROKE_WIDTH = 1;\nexport const GUIDE_THIRD = 100 / 3;\nexport const MIN_CROP_SIZE = 1;\nexport const MAX_INTERACTION_SIZE = 24;\nexport const MIN_INTERACTION_SIZE = 6;\n","// @ts-check\nimport { MIN_CROP_SIZE, THUMB_CORNER_SIZE, THUMB_OFFSET, THUMB_SIDE_SIZE } from './cropper-constants.js';\n\n/**\n * @param {SVGElement} node\n * @param {{ [key: String]: String | Number }} attrs\n */\nexport function setSvgNodeAttrs(node, attrs) {\n  for (let p in attrs) node.setAttributeNS(null, p, attrs[p].toString());\n}\n\n/**\n * @param {String} name\n * @param {{ [key: String]: String | Number }} attrs\n * @returns {SVGElement}\n */\nexport function createSvgNode(name, attrs = {}) {\n  let node = document.createElementNS('http://www.w3.org/2000/svg', name);\n  setSvgNodeAttrs(node, attrs);\n  return node;\n}\n\n/**\n * @param {import('./types.js').Rectangle} rect\n * @param {import('./types.js').Direction} direction\n * @param {number} sizeMultiplier\n */\nexport function cornerPath(rect, direction, sizeMultiplier) {\n  let { x, y, width, height } = rect;\n\n  let wMul = direction.includes('w') ? 0 : 1;\n  let hMul = direction.includes('n') ? 0 : 1;\n  let xSide = [-1, 1][wMul];\n  let ySide = [-1, 1][hMul];\n\n  let p1 = [\n    x + wMul * width + THUMB_OFFSET * xSide,\n    y + hMul * height + THUMB_OFFSET * ySide - THUMB_CORNER_SIZE * sizeMultiplier * ySide,\n  ];\n  let p2 = [x + wMul * width + THUMB_OFFSET * xSide, y + hMul * height + THUMB_OFFSET * ySide];\n  let p3 = [\n    x + wMul * width - THUMB_CORNER_SIZE * sizeMultiplier * xSide + THUMB_OFFSET * xSide,\n    y + hMul * height + THUMB_OFFSET * ySide,\n  ];\n\n  let path = `M ${p1[0]} ${p1[1]} L ${p2[0]} ${p2[1]} L ${p3[0]} ${p3[1]}`;\n  let center = p2;\n\n  return {\n    d: path,\n    center,\n  };\n}\n\n/**\n * @param {import('./types.js').Rectangle} rect\n * @param {Extract<import('./types.js').Direction, 'n' | 's' | 'w' | 'e'>} direction\n * @param {number} sizeMultiplier\n */\nexport function sidePath(rect, direction, sizeMultiplier) {\n  let { x, y, width, height } = rect;\n\n  let wMul = ['n', 's'].includes(direction)\n    ? 0.5\n    : { w: 0, e: 1 }[/** @type {Extract<import('./types.js').Direction, 'w' | 'e'>} */ (direction)];\n  let hMul = ['w', 'e'].includes(direction)\n    ? 0.5\n    : { n: 0, s: 1 }[/** @type {Extract<import('./types.js').Direction, 'n' | 's'>} */ (direction)];\n  let xSide = [-1, 1][wMul];\n  let ySide = [-1, 1][hMul];\n\n  let p1, p2;\n  if (['n', 's'].includes(direction)) {\n    p1 = [x + wMul * width - (THUMB_SIDE_SIZE * sizeMultiplier) / 2, y + hMul * height + THUMB_OFFSET * ySide];\n    p2 = [x + wMul * width + (THUMB_SIDE_SIZE * sizeMultiplier) / 2, y + hMul * height + THUMB_OFFSET * ySide];\n  } else {\n    p1 = [x + wMul * width + THUMB_OFFSET * xSide, y + hMul * height - (THUMB_SIDE_SIZE * sizeMultiplier) / 2];\n    p2 = [x + wMul * width + THUMB_OFFSET * xSide, y + hMul * height + (THUMB_SIDE_SIZE * sizeMultiplier) / 2];\n  }\n  let path = `M ${p1[0]} ${p1[1]} L ${p2[0]} ${p2[1]}`;\n  let center = [p2[0] - (p2[0] - p1[0]) / 2, p2[1] - (p2[1] - p1[1]) / 2];\n\n  return { d: path, center };\n}\n\n/** @param {import('./types.js').Direction} direction */\nexport function thumbCursor(direction) {\n  if (direction === '') {\n    return 'move';\n  }\n  if (['e', 'w'].includes(direction)) {\n    return 'ew-resize';\n  }\n  if (['n', 's'].includes(direction)) {\n    return 'ns-resize';\n  }\n  if (['nw', 'se'].includes(direction)) {\n    return 'nwse-resize';\n  }\n  return 'nesw-resize';\n}\n\n/**\n * @param {{\n *   rect: import('./types.js').Rectangle;\n *   delta: [Number, Number];\n *   imageBox: import('./types.js').Rectangle;\n * }} options\n */\nexport function moveRect({ rect, delta: [dx, dy], imageBox }) {\n  return constraintRect(\n    {\n      ...rect,\n      x: rect.x + dx,\n      y: rect.y + dy,\n    },\n    imageBox,\n  );\n}\n\n/**\n * @param {import('./types.js').Rectangle} rect1\n * @param {import('./types.js').Rectangle} rect2\n */\nexport function constraintRect(rect1, rect2) {\n  let { x } = rect1;\n  let { y } = rect1;\n  if (rect1.x < rect2.x) {\n    x = rect2.x;\n  } else if (rect1.x + rect1.width > rect2.x + rect2.width) {\n    x = rect2.x + rect2.width - rect1.width;\n  }\n  if (rect1.y < rect2.y) {\n    y = rect2.y;\n  } else if (rect1.y + rect1.height > rect2.y + rect2.height) {\n    y = rect2.y + rect2.height - rect1.height;\n  }\n\n  return {\n    ...rect1,\n    x,\n    y,\n  };\n}\n\n/**\n * @param {{\n *   rect: import('./types.js').Rectangle;\n *   delta: [Number, Number];\n *   aspectRatio?: number;\n *   imageBox: import('./types.js').Rectangle;\n * }} options\n */\nfunction resizeNorth({ rect, delta, aspectRatio, imageBox }) {\n  const [, dy] = delta;\n  let { y, width, height } = rect;\n\n  y += dy;\n  height -= dy;\n  if (aspectRatio) {\n    width = height * aspectRatio;\n  }\n  let x = rect.x + rect.width / 2 - width / 2;\n  if (y <= imageBox.y) {\n    y = imageBox.y;\n    height = rect.y + rect.height - y;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n      x = rect.x + rect.width / 2 - width / 2;\n    }\n  }\n  if (x <= imageBox.x) {\n    x = imageBox.x;\n    y = rect.y + rect.height - height;\n  }\n  if (x + width >= imageBox.x + imageBox.width) {\n    x = Math.max(imageBox.x, imageBox.x + imageBox.width - width);\n    width = imageBox.x + imageBox.width - x;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n    }\n    y = rect.y + rect.height - height;\n  }\n  if (height < MIN_CROP_SIZE) {\n    height = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n      x = rect.x + rect.width / 2 - width / 2;\n    }\n    y = rect.y + rect.height - height;\n  }\n  if (width < MIN_CROP_SIZE) {\n    width = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n      x = rect.x + rect.width / 2 - width / 2;\n    }\n    y = rect.y + rect.height - height;\n  }\n\n  return { x, y, width, height };\n}\n\n/**\n * @param {{\n *   rect: import('./types.js').Rectangle;\n *   delta: [Number, Number];\n *   aspectRatio?: number;\n *   imageBox: import('./types.js').Rectangle;\n * }} options\n */\nfunction resizeWest({ rect, delta, aspectRatio, imageBox }) {\n  const [dx] = delta;\n  let { x, width, height } = rect;\n\n  x += dx;\n  width -= dx;\n  if (aspectRatio) {\n    height = width / aspectRatio;\n  }\n  let y = rect.y + rect.height / 2 - height / 2;\n  if (x <= imageBox.x) {\n    x = imageBox.x;\n    width = rect.x + rect.width - x;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n      y = rect.y + rect.height / 2 - height / 2;\n    }\n  }\n  if (y <= imageBox.y) {\n    y = imageBox.y;\n    x = rect.x + rect.width - width;\n  }\n  if (y + height >= imageBox.y + imageBox.height) {\n    y = Math.max(imageBox.y, imageBox.y + imageBox.height - height);\n    height = imageBox.y + imageBox.height - y;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n    }\n    x = rect.x + rect.width - width;\n  }\n  if (height < MIN_CROP_SIZE) {\n    height = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n    }\n    y = rect.y + rect.height / 2 - height / 2;\n    x = rect.x + rect.width - width;\n  }\n  if (width < MIN_CROP_SIZE) {\n    width = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n    }\n    y = rect.y + rect.height / 2 - height / 2;\n    x = rect.x + rect.width - width;\n  }\n\n  return { x, y, width, height };\n}\n\n/**\n * @param {{\n *   rect: import('./types.js').Rectangle;\n *   delta: [Number, Number];\n *   aspectRatio?: number;\n *   imageBox: import('./types.js').Rectangle;\n * }} options\n */\nfunction resizeSouth({ rect, delta, aspectRatio, imageBox }) {\n  const [, dy] = delta;\n  let { y, width, height } = rect;\n\n  height += dy;\n  if (aspectRatio) {\n    width = height * aspectRatio;\n  }\n  let x = rect.x + rect.width / 2 - width / 2;\n  if (y + height >= imageBox.y + imageBox.height) {\n    height = imageBox.y + imageBox.height - y;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n    }\n    x = rect.x + rect.width / 2 - width / 2;\n  }\n  if (x <= imageBox.x) {\n    x = imageBox.x;\n    y = rect.y;\n  }\n  if (x + width >= imageBox.x + imageBox.width) {\n    x = Math.max(imageBox.x, imageBox.x + imageBox.width - width);\n    width = imageBox.x + imageBox.width - x;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n    }\n    y = rect.y;\n  }\n  if (height < MIN_CROP_SIZE) {\n    height = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n    }\n    x = rect.x + rect.width / 2 - width / 2;\n  }\n  if (width < MIN_CROP_SIZE) {\n    width = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n    }\n    x = rect.x + rect.width / 2 - width / 2;\n  }\n\n  return { x, y, width, height };\n}\n\n/**\n * @param {{\n *   rect: import('./types.js').Rectangle;\n *   delta: [Number, Number];\n *   aspectRatio?: number;\n *   imageBox: import('./types.js').Rectangle;\n * }} options\n */\nfunction resizeEast({ rect, delta, aspectRatio, imageBox }) {\n  const [dx] = delta;\n  let { x, width, height } = rect;\n\n  width += dx;\n  if (aspectRatio) {\n    height = width / aspectRatio;\n  }\n  let y = rect.y + rect.height / 2 - height / 2;\n  if (x + width >= imageBox.x + imageBox.width) {\n    width = imageBox.x + imageBox.width - x;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n    }\n    y = rect.y + rect.height / 2 - height / 2;\n  }\n  if (y <= imageBox.y) {\n    y = imageBox.y;\n    x = rect.x;\n  }\n  if (y + height >= imageBox.y + imageBox.height) {\n    y = Math.max(imageBox.y, imageBox.y + imageBox.height - height);\n    height = imageBox.y + imageBox.height - y;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n    }\n    x = rect.x;\n  }\n  if (height < MIN_CROP_SIZE) {\n    height = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n    }\n    y = rect.y + rect.height / 2 - height / 2;\n  }\n  if (width < MIN_CROP_SIZE) {\n    width = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n    }\n    y = rect.y + rect.height / 2 - height / 2;\n  }\n\n  return { x, y, width, height };\n}\n\n/**\n * @param {{\n *   rect: import('./types.js').Rectangle;\n *   delta: [Number, Number];\n *   aspectRatio?: number;\n *   imageBox: import('./types.js').Rectangle;\n * }} options\n */\nfunction resizeNorthWest({ rect, delta, aspectRatio, imageBox }) {\n  let [dx, dy] = delta;\n  let { x, y, width, height } = rect;\n\n  if (x + dx < imageBox.x) {\n    dx = imageBox.x - x;\n  }\n  if (y + dy < imageBox.y) {\n    dy = imageBox.y - y;\n  }\n  x += dx;\n  width -= dx;\n  y += dy;\n  height -= dy;\n  if (aspectRatio && Math.abs(width / height) > aspectRatio) {\n    dy = width / aspectRatio - height;\n    height += dy;\n    y -= dy;\n    if (y <= imageBox.y) {\n      height = height - (imageBox.y - y);\n      width = height * aspectRatio;\n      x = rect.x + rect.width - width;\n      y = imageBox.y;\n    }\n  } else if (aspectRatio) {\n    dx = height * aspectRatio - width;\n    width = width + dx;\n    x -= dx;\n    if (x <= imageBox.x) {\n      width = width - (imageBox.x - x);\n      height = width / aspectRatio;\n      x = imageBox.x;\n      y = rect.y + rect.height - height;\n    }\n  }\n  if (height < MIN_CROP_SIZE) {\n    height = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n    }\n    x = rect.x + rect.width - width;\n    y = rect.y + rect.height - height;\n  }\n  if (width < MIN_CROP_SIZE) {\n    width = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n    }\n    x = rect.x + rect.width - width;\n    y = rect.y + rect.height - height;\n  }\n\n  return { x, y, width, height };\n}\n\n/**\n * @param {{\n *   rect: import('./types.js').Rectangle;\n *   delta: [Number, Number];\n *   aspectRatio?: number;\n *   imageBox: import('./types.js').Rectangle;\n * }} options\n */\nfunction resizeNorthEast({ rect, delta, aspectRatio, imageBox }) {\n  let [dx, dy] = delta;\n  let { x, y, width, height } = rect;\n\n  if (x + width + dx > imageBox.x + imageBox.width) {\n    dx = imageBox.x + imageBox.width - x - width;\n  }\n  if (y + dy < imageBox.y) {\n    dy = imageBox.y - y;\n  }\n  width += dx;\n  y += dy;\n  height -= dy;\n  if (aspectRatio && Math.abs(width / height) > aspectRatio) {\n    dy = width / aspectRatio - height;\n    height += dy;\n    y -= dy;\n    if (y <= imageBox.y) {\n      height = height - (imageBox.y - y);\n      width = height * aspectRatio;\n      x = rect.x;\n      y = imageBox.y;\n    }\n  } else if (aspectRatio) {\n    dx = height * aspectRatio - width;\n    width += dx;\n    if (x + width >= imageBox.x + imageBox.width) {\n      width = imageBox.x + imageBox.width - x;\n      height = width / aspectRatio;\n      x = imageBox.x + imageBox.width - width;\n      y = rect.y + rect.height - height;\n    }\n  }\n  if (height < MIN_CROP_SIZE) {\n    height = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n    }\n    y = rect.y + rect.height - height;\n  }\n  if (width < MIN_CROP_SIZE) {\n    width = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n    }\n    y = rect.y + rect.height - height;\n  }\n\n  return { x, y, width, height };\n}\n\n/**\n * @param {{\n *   rect: import('./types.js').Rectangle;\n *   delta: [Number, Number];\n *   aspectRatio?: number;\n *   imageBox: import('./types.js').Rectangle;\n * }} options\n */\nfunction resizeSouthWest({ rect, delta, aspectRatio, imageBox }) {\n  let [dx, dy] = delta;\n  let { x, y, width, height } = rect;\n\n  if (x + dx < imageBox.x) {\n    dx = imageBox.x - x;\n  }\n  if (y + height + dy > imageBox.y + imageBox.height) {\n    dy = imageBox.y + imageBox.height - y - height;\n  }\n  x += dx;\n  width -= dx;\n  height += dy;\n  if (aspectRatio && Math.abs(width / height) > aspectRatio) {\n    dy = width / aspectRatio - height;\n    height += dy;\n    if (y + height >= imageBox.y + imageBox.height) {\n      height = imageBox.y + imageBox.height - y;\n      width = height * aspectRatio;\n      x = rect.x + rect.width - width;\n      y = imageBox.y + imageBox.height - height;\n    }\n  } else if (aspectRatio) {\n    dx = height * aspectRatio - width;\n    width += dx;\n    x -= dx;\n    if (x <= imageBox.x) {\n      width = width - (imageBox.x - x);\n      height = width / aspectRatio;\n      x = imageBox.x;\n      y = rect.y;\n    }\n  }\n  if (height < MIN_CROP_SIZE) {\n    height = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n    }\n    x = rect.x + rect.width - width;\n  }\n  if (width < MIN_CROP_SIZE) {\n    width = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n    }\n    x = rect.x + rect.width - width;\n  }\n\n  return { x, y, width, height };\n}\n\n/**\n * @param {{\n *   rect: import('./types.js').Rectangle;\n *   delta: [Number, Number];\n *   aspectRatio?: number;\n *   imageBox: import('./types.js').Rectangle;\n * }} options\n */\nfunction resizeSouthEast({ rect, delta, aspectRatio, imageBox }) {\n  let [dx, dy] = delta;\n  let { x, y, width, height } = rect;\n\n  if (x + width + dx > imageBox.x + imageBox.width) {\n    dx = imageBox.x + imageBox.width - x - width;\n  }\n  if (y + height + dy > imageBox.y + imageBox.height) {\n    dy = imageBox.y + imageBox.height - y - height;\n  }\n  width += dx;\n  height += dy;\n  if (aspectRatio && Math.abs(width / height) > aspectRatio) {\n    dy = width / aspectRatio - height;\n    height += dy;\n    if (y + height >= imageBox.y + imageBox.height) {\n      height = imageBox.y + imageBox.height - y;\n      width = height * aspectRatio;\n      x = rect.x;\n      y = imageBox.y + imageBox.height - height;\n    }\n  } else if (aspectRatio) {\n    dx = height * aspectRatio - width;\n    width += dx;\n    if (x + width >= imageBox.x + imageBox.width) {\n      width = imageBox.x + imageBox.width - x;\n      height = width / aspectRatio;\n      x = imageBox.x + imageBox.width - width;\n      y = rect.y;\n    }\n  }\n  if (height < MIN_CROP_SIZE) {\n    height = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      width = height * aspectRatio;\n    }\n  }\n  if (width < MIN_CROP_SIZE) {\n    width = MIN_CROP_SIZE;\n    if (aspectRatio) {\n      height = width / aspectRatio;\n    }\n  }\n\n  return { x, y, width, height };\n}\n\n/**\n * @param {{\n *   rect: import('./types.js').Rectangle;\n *   delta: [Number, Number];\n *   direction: import('./types.js').Direction;\n *   aspectRatio?: number;\n *   imageBox: import('./types.js').Rectangle;\n * }} options\n */\nexport function resizeRect({ direction, ...rest }) {\n  switch (direction) {\n    case 'n':\n      return resizeNorth(rest);\n    case 'w':\n      return resizeWest(rest);\n    case 's':\n      return resizeSouth(rest);\n    case 'e':\n      return resizeEast(rest);\n    case 'nw':\n      return resizeNorthWest(rest);\n    case 'ne':\n      return resizeNorthEast(rest);\n    case 'sw':\n      return resizeSouthWest(rest);\n    case 'se':\n      return resizeSouthEast(rest);\n    default:\n      return rest.rect;\n  }\n}\n\n/**\n * @param {import('./types.js').Rectangle} rect\n * @param {[Number, Number]} point\n */\nexport function rectContainsPoint(rect, [x, y]) {\n  return rect.x <= x && x <= rect.x + rect.width && rect.y <= y && y <= rect.y + rect.height;\n}\n\n/**\n * @param {import('./types.js').Rectangle} rect1\n * @param {import('./types.js').Rectangle} rect2\n */\nexport function isRectInsideRect(rect1, rect2) {\n  return (\n    rect1.x >= rect2.x &&\n    rect1.y >= rect2.y &&\n    rect1.x + rect1.width <= rect2.x + rect2.width &&\n    rect1.y + rect1.height <= rect2.y + rect2.height\n  );\n}\n\n/**\n * @param {import('./types.js').Rectangle} rect\n * @param {number} aspectRatio\n */\nexport function isRectMatchesAspectRatio(rect, aspectRatio) {\n  const THRESHOLD = 0.1;\n  return Math.abs(rect.width / rect.height - aspectRatio) < THRESHOLD;\n}\n\n/**\n * @param {import('./types.js').ImageSize} imageSize\n * @param {Number} angle\n * @returns {import('./types.js').ImageSize}\n */\nexport function rotateSize({ width, height }, angle) {\n  let swap = (angle / 90) % 2 !== 0;\n  return { width: swap ? height : width, height: swap ? width : height };\n}\n\n/**\n * @param {number} width\n * @param {number} height\n * @param {number} aspectRatio\n */\nexport function calculateMaxCenteredCropFrame(width, height, aspectRatio) {\n  const imageAspectRatio = width / height;\n  let cropWidth, cropHeight;\n\n  if (imageAspectRatio > aspectRatio) {\n    cropWidth = Math.round(height * aspectRatio);\n    cropHeight = height;\n  } else {\n    cropWidth = width;\n    cropHeight = Math.round(width / aspectRatio);\n  }\n\n  const cropX = Math.round((width - cropWidth) / 2);\n  const cropY = Math.round((height - cropHeight) / 2);\n\n  if (cropX + cropWidth > width) {\n    cropWidth = width - cropX;\n  }\n  if (cropY + cropHeight > height) {\n    cropHeight = height - cropY;\n  }\n\n  return { x: cropX, y: cropY, width: cropWidth, height: cropHeight };\n}\n\n/**\n * @param {import('./types.js').Rectangle} rect\n * @returns {import('./types.js').Rectangle}\n */\nexport function roundRect(rect) {\n  return {\n    x: Math.round(rect.x),\n    y: Math.round(rect.y),\n    width: Math.round(rect.width),\n    height: Math.round(rect.height),\n  };\n}\n\n/**\n * @param {Number} value\n * @param {Number} min\n * @param {Number} max\n * @returns {Number}\n */\nexport function clamp(value, min, max) {\n  return Math.min(Math.max(value, min), max);\n}\n","// @ts-check\n\n/** @param {import('../../../../types/exported.d.ts').ConfigType['cropPreset']} cropPreset */\nexport const parseCropPreset = (cropPreset) => {\n  if (!cropPreset) return [];\n  const [w, h] = cropPreset.split(':').map(Number);\n  if (!Number.isFinite(w) || !Number.isFinite(h)) {\n    console.error(`Invalid crop preset: ${cropPreset}`);\n    return;\n  }\n  /** @type {import('../types.js').CropAspectRatio} */\n  const aspectRatio = { type: 'aspect-ratio', width: w, height: h };\n  return [aspectRatio];\n};\n","export const UploadSource = Object.freeze({\n  LOCAL: 'local',\n  DROP_AREA: 'drop-area',\n  URL_TAB: 'url-tab',\n  CAMERA: 'camera',\n  EXTERNAL: 'external',\n  API: 'js-api',\n});\n","/** Do not edit this file manually. It's generated during build process. */\nexport const PACKAGE_NAME = 'blocks';\nexport const PACKAGE_VERSION = '0.40.0';\n","import { getUserAgent } from '@uploadcare/upload-client';\nimport { PACKAGE_VERSION, PACKAGE_NAME } from '../../env.js';\n\n/**\n * @param {import('@uploadcare/upload-client').CustomUserAgentOptions} options\n * @returns {ReturnType<import('@uploadcare/upload-client').CustomUserAgentFn>}\n */\nexport function customUserAgent(options) {\n  return getUserAgent({\n    ...options,\n    libraryName: PACKAGE_NAME,\n    libraryVersion: PACKAGE_VERSION,\n  });\n}\n","/**\n * @template T\n * @param {import('../types').OutputError<T>} options\n */\nconst buildOutputError = ({ type, message, ...payload }) => ({\n  type,\n  message,\n  ...payload,\n});\n\n/** @type {typeof buildOutputError<import('../types').OutputFileErrorType>} */\nexport const buildOutputFileError = buildOutputError;\n\n/** @type {typeof buildOutputError<import('../types').OutputCollectionErrorType>} */\nexport const buildCollectionFileError = buildOutputError;\n","// @ts-check\nimport { stringToArray } from './stringToArray.js';\n\nexport const IMAGE_ACCEPT_LIST = [\n  'image/*',\n  'image/heif',\n  'image/heif-sequence',\n  'image/heic',\n  'image/heic-sequence',\n  'image/avif',\n  'image/avif-sequence',\n  '.heif',\n  '.heifs',\n  '.heic',\n  '.heics',\n  '.avif',\n  '.avifs',\n];\n\n/**\n * @param {string[]} [fileTypes]\n * @returns {string[]}\n */\nexport const mergeFileTypes = (fileTypes) => {\n  if (!fileTypes) {\n    return [];\n  }\n  return fileTypes\n    .filter((item) => typeof item === 'string')\n    .map((str) => stringToArray(str))\n    .flat();\n};\n\n/**\n * @param {String} mimeType\n * @param {String[]} allowedFileTypes\n * @returns {Boolean}\n */\nexport const matchMimeType = (mimeType, allowedFileTypes) => {\n  return allowedFileTypes.some((type) => {\n    if (type.endsWith('*')) {\n      type = type.replace('*', '');\n      return mimeType.startsWith(type);\n    }\n\n    return mimeType === type;\n  });\n};\n\n/**\n * @param {String} fileName\n * @param {String[]} allowedFileTypes\n * @returns {Boolean}\n */\nexport const matchExtension = (fileName, allowedFileTypes) => {\n  return allowedFileTypes.some((type) => {\n    if (!type.startsWith('.')) {\n      return false;\n    }\n\n    return fileName.toLowerCase().endsWith(type.toLowerCase());\n  });\n};\n\n/**\n * @param {File | Blob} file\n * @returns {Boolean}\n */\nexport const fileIsImage = (file) => {\n  let type = file?.type;\n  if (!type) {\n    return false;\n  }\n  return matchMimeType(type, IMAGE_ACCEPT_LIST);\n};\n\n/**\n * Checks if the given data is a Blob.\n *\n * @param {unknown} data - The data to check.\n * @returns {boolean} - True if the data is a Blob, false otherwise.\n */\nexport const isBlob = (data) => {\n  return typeof Blob !== 'undefined' && data instanceof Blob;\n};\n\n/**\n * Checks if the given data is a File.\n *\n * @param {unknown} data - The data to check.\n * @returns {boolean} - True if the data is a File, false otherwise.\n */\nexport const isFile = (data) => {\n  return typeof File !== 'undefined' && data instanceof File;\n};\n","// @ts-check\nimport { getPluralForm } from './getPluralForm.js';\n\nconst BASE = 1000;\n\nexport const ByteUnitEnum = Object.freeze({\n  AUTO: 'auto',\n  BYTE: 'byte',\n  KB: 'kb',\n  MB: 'mb',\n  GB: 'gb',\n  TB: 'tb',\n  PB: 'pb',\n});\n\n/**\n * Round a specified number to decimal with two places. Round to larger value, because basically we use it for usage and\n * we charge customers for 1 GB even he consumed 1 byte. Feature limits are usually specified in exact MB/GB/TB, so they\n * will not be rounded.\n *\n * @param {number} number\n * @returns {number}\n */\nconst round = (number) => Math.ceil(number * 100) / 100;\n\n/**\n * @param {number} bytes\n * @param {(typeof ByteUnitEnum)[keyof typeof ByteUnitEnum]} unit\n * @returns {string}\n */\nexport const prettyBytes = (bytes, unit = ByteUnitEnum.AUTO) => {\n  const isAutoMode = unit === ByteUnitEnum.AUTO;\n\n  if (unit === ByteUnitEnum.BYTE || (isAutoMode && bytes < BASE ** 1)) {\n    // TODO: handle blocks locale\n    const pluralForm = /** @type {Extract<import('./getPluralForm').PluralForm, 'one' | 'other'>} */ (\n      getPluralForm('en-US', bytes)\n    );\n    const pluralized = {\n      one: 'byte',\n      other: 'bytes',\n    }[pluralForm];\n\n    return `${bytes} ${pluralized}`;\n  }\n\n  if (unit === ByteUnitEnum.KB || (isAutoMode && bytes < BASE ** 2)) {\n    return `${round(bytes / BASE ** 1)} KB`;\n  }\n\n  if (unit === ByteUnitEnum.MB || (isAutoMode && bytes < BASE ** 3)) {\n    return `${round(bytes / BASE ** 2)} MB`;\n  }\n\n  if (unit === ByteUnitEnum.GB || (isAutoMode && bytes < BASE ** 4)) {\n    return `${round(bytes / BASE ** 3)} GB`;\n  }\n\n  if (unit === ByteUnitEnum.TB || (isAutoMode && bytes < BASE ** 5)) {\n    return `${round(bytes / BASE ** 4)} TB`;\n  }\n\n  return `${round(bytes / BASE ** 5)} PB`;\n};\n","const warnings = new Set();\n\n/** @param {string} message */\nexport function warnOnce(message) {\n  if (warnings.has(message)) {\n    return;\n  }\n\n  warnings.add(message);\n  console.warn(message);\n}\n","import { Data, UID } from '@symbiotejs/symbiote';\n\nconst MSG_NAME = '[Typed State] Wrong property name: ';\nconst MSG_TYPE = '[Typed State] Wrong property type: ';\n\nexport class TypedData {\n  /**\n   * @param {Object<string, { type: any; value: any; nullable?: Boolean }>} typedSchema\n   * @param {String} [ctxName]\n   */\n  constructor(typedSchema, ctxName) {\n    /** @private */\n    this.__typedSchema = typedSchema;\n    /** @private */\n    this.__ctxId = ctxName || UID.generate();\n    /** @private */\n    this.__schema = Object.keys(typedSchema).reduce((acc, key) => {\n      acc[key] = typedSchema[key].value;\n      return acc;\n    }, {});\n    /**\n     * @private\n     * @type {Data}\n     */\n    this.__data = Data.registerCtx(this.__schema, this.__ctxId);\n  }\n\n  /** @returns {String} */\n  get uid() {\n    return this.__ctxId;\n  }\n\n  /**\n   * @param {String} prop\n   * @param {any} value\n   */\n  setValue(prop, value) {\n    if (!this.__typedSchema.hasOwnProperty(prop)) {\n      console.warn(MSG_NAME + prop);\n      return;\n    }\n    let pDesc = this.__typedSchema[prop];\n    if (value?.constructor === pDesc.type || value instanceof pDesc.type || (pDesc.nullable && value === null)) {\n      this.__data.pub(prop, value);\n      return;\n    }\n    console.warn(MSG_TYPE + prop);\n  }\n\n  /** @param {Object<string, any>} updObj */\n  setMultipleValues(updObj) {\n    for (let prop in updObj) {\n      this.setValue(prop, updObj[prop]);\n    }\n  }\n\n  /** @param {String} prop */\n  getValue(prop) {\n    if (!this.__typedSchema.hasOwnProperty(prop)) {\n      console.warn(MSG_NAME + prop);\n      return undefined;\n    }\n    return this.__data.read(prop);\n  }\n\n  /**\n   * @param {String} prop\n   * @param {(newVal: any) => void} handler\n   */\n  subscribe(prop, handler) {\n    return this.__data.sub(prop, handler);\n  }\n\n  remove() {\n    Data.deleteCtx(this.__ctxId);\n  }\n}\n","import { Data, UID } from '@symbiotejs/symbiote';\nimport { TypedData } from './TypedData.js';\n\nexport class TypedCollection {\n  /**\n   * @param {Object} options\n   * @param {Object<string, { type: any; value: any }>} options.typedSchema\n   * @param {String[]} [options.watchList]\n   * @param {(list: string[], added: Set<any>, removed: Set<any>) => void} [options.handler]\n   * @param {String} [options.ctxName]\n   */\n  constructor(options) {\n    /**\n     * @private\n     * @type {Object<string, { type: any; value: any }>}\n     */\n    this.__typedSchema = options.typedSchema;\n    /**\n     * @private\n     * @type {String}\n     */\n    this.__ctxId = options.ctxName || UID.generate();\n    /**\n     * @private\n     * @type {Data}\n     */\n    this.__data = Data.registerCtx({}, this.__ctxId);\n    /**\n     * @private\n     * @type {string[]}\n     */\n    this.__watchList = options.watchList || [];\n    /**\n     * @private\n     * @type {Object<string, any>}\n     */\n    this.__subsMap = Object.create(null);\n    /**\n     * @private\n     * @type {Set<Function>}\n     */\n    this.__propertyObservers = new Set();\n    /**\n     * @private\n     * @type {Set<(list: string[], added: Set<any>, removed: Set<any>) => void>}\n     */\n    this.__collectionObservers = new Set();\n    /**\n     * @private\n     * @type {Set<string>}\n     */\n    this.__items = new Set();\n    /**\n     * @private\n     * @type {Set<any>}\n     */\n    this.__removed = new Set();\n    /**\n     * @private\n     * @type {Set<any>}\n     */\n    this.__added = new Set();\n\n    let changeMap = Object.create(null);\n\n    /**\n     * @private\n     * @param {String} propName\n     * @param {String} ctxId\n     */\n    this.__notifyObservers = (propName, ctxId) => {\n      if (this.__observeTimeout) {\n        window.clearTimeout(this.__observeTimeout);\n      }\n      if (!changeMap[propName]) {\n        changeMap[propName] = new Set();\n      }\n      changeMap[propName].add(ctxId);\n      /** @private */\n      this.__observeTimeout = window.setTimeout(() => {\n        if (Object.keys(changeMap).length === 0) {\n          return;\n        }\n        this.__propertyObservers.forEach((handler) => {\n          handler({ ...changeMap });\n        });\n        changeMap = Object.create(null);\n      });\n    };\n  }\n\n  notify() {\n    if (this.__notifyTimeout) {\n      window.clearTimeout(this.__notifyTimeout);\n    }\n    /** @private */\n    this.__notifyTimeout = window.setTimeout(() => {\n      let added = new Set(this.__added);\n      let removed = new Set(this.__removed);\n      this.__added.clear();\n      this.__removed.clear();\n      for (const handler of this.__collectionObservers) {\n        handler?.([...this.__items], added, removed);\n      }\n    });\n  }\n\n  /** @param {(list: string[], added: Set<any>, removed: Set<any>) => void} handler */\n  observeCollection(handler) {\n    this.__collectionObservers.add(handler);\n\n    if (this.__items.size > 0) {\n      this.notify();\n    }\n\n    return () => {\n      this.unobserveCollection(handler);\n    };\n  }\n\n  /** @param {Function} handler */\n  unobserveCollection(handler) {\n    this.__collectionObservers?.delete(handler);\n  }\n\n  /**\n   * @param {Object<string, any>} init\n   * @returns {string}\n   */\n  add(init) {\n    let item = new TypedData(this.__typedSchema);\n    for (let prop in init) {\n      item.setValue(prop, init[prop]);\n    }\n    this.__items.add(item.uid);\n    this.notify();\n\n    this.__data.add(item.uid, item);\n    this.__added.add(item);\n    this.__watchList.forEach((propName) => {\n      if (!this.__subsMap[item.uid]) {\n        this.__subsMap[item.uid] = [];\n      }\n      this.__subsMap[item.uid].push(\n        item.subscribe(propName, () => {\n          this.__notifyObservers(propName, item.uid);\n        }),\n      );\n    });\n    return item.uid;\n  }\n\n  /**\n   * @param {String} id\n   * @returns {TypedData}\n   */\n  read(id) {\n    return this.__data.read(id);\n  }\n\n  /**\n   * @param {String} id\n   * @param {String} propName\n   * @returns {any}\n   */\n  readProp(id, propName) {\n    let item = this.read(id);\n    return item.getValue(propName);\n  }\n\n  /**\n   * @template T\n   * @param {String} id\n   * @param {String} propName\n   * @param {T} value\n   */\n  publishProp(id, propName, value) {\n    let item = this.read(id);\n    item.setValue(propName, value);\n  }\n\n  /** @param {String} id */\n  remove(id) {\n    this.__removed.add(this.__data.read(id));\n    this.__items.delete(id);\n    this.notify();\n    this.__data.pub(id, null);\n    delete this.__subsMap[id];\n  }\n\n  clearAll() {\n    this.__items.forEach((id) => {\n      this.remove(id);\n    });\n  }\n\n  /** @param {Function} handler */\n  observeProperties(handler) {\n    this.__propertyObservers.add(handler);\n\n    return () => {\n      this.unobserveProperties(handler);\n    };\n  }\n\n  /** @param {Function} handler */\n  unobserveProperties(handler) {\n    this.__propertyObservers?.delete(handler);\n  }\n\n  /**\n   * @param {(item: TypedData) => Boolean} checkFn\n   * @returns {String[]}\n   */\n  findItems(checkFn) {\n    let result = [];\n    this.__items.forEach((id) => {\n      let item = this.read(id);\n      if (checkFn(item)) {\n        result.push(id);\n      }\n    });\n    return result;\n  }\n\n  items() {\n    return [...this.__items];\n  }\n\n  get size() {\n    return this.__items.size;\n  }\n\n  destroy() {\n    Data.deleteCtx(this.__ctxId);\n    this.__propertyObservers = null;\n    this.__collectionObservers = null;\n    for (let id in this.__subsMap) {\n      this.__subsMap[id].forEach((sub) => {\n        sub.remove();\n      });\n      delete this.__subsMap[id];\n    }\n  }\n}\n","// @ts-check\n\n/**\n * @template {any[]} TArgs\n * @template {any} TReturn\n * @template {(...args: TArgs) => TReturn} T\n * @param {T} fn\n * @returns {T}\n */\nexport const memoize = (fn) => {\n  const cache = new Map();\n  return /** @type {T} */ (\n    (...args) => {\n      const key = JSON.stringify(args);\n      if (cache.has(key)) {\n        return cache.get(key);\n      }\n      const result = fn(...args);\n      cache.set(key, result);\n      return result;\n    }\n  );\n};\n","// @ts-check\n\nimport { memoize } from '../utils/memoize.js';\nimport { warnOnce } from '../utils/warnOnce.js';\n\n/** @param {string} warning */\nfunction createAsyncAssertWrapper(warning) {\n  let isAsync = false;\n  setTimeout(() => {\n    isAsync = true;\n  }, 0);\n\n  /**\n   * @template {any[]} TArgs\n   * @template {any} TReturn\n   * @template {(...args: TArgs) => TReturn} T\n   * @param {T} fn\n   * @returns {T}\n   */\n  const withAssert = (fn) => {\n    return /** @type {T} */ (\n      (...args) => {\n        if (isAsync) {\n          warnOnce(warning);\n        }\n        return fn(...args);\n      }\n    );\n  };\n\n  return withAssert;\n}\n\n/**\n * @template {import('../index.js').OutputCollectionStatus} TCollectionStatus\n * @template {import('../index.js').GroupFlag} [TGroupFlag='maybe-has-group'] Default is `'maybe-has-group'`\n * @param {import('./UploaderBlock.js').UploaderBlock} uploaderBlock\n * @returns {import('../index.js').OutputCollectionState<TCollectionStatus, TGroupFlag>}\n */\nexport function buildOutputCollectionState(uploaderBlock) {\n  const getters = {\n    /** @returns {number} */\n    progress: () => {\n      return uploaderBlock.$['*commonProgress'];\n    },\n    /** @returns {ReturnType<import('../utils/buildOutputError.js').buildCollectionFileError>[]} */\n    errors: () => {\n      return uploaderBlock.$['*collectionErrors'];\n    },\n\n    /** @returns {import('@uploadcare/upload-client').UploadcareGroup | null} */\n    group: () => {\n      return uploaderBlock.$['*groupInfo'];\n    },\n\n    totalCount: () => {\n      return uploaderBlock.uploadCollection.size;\n    },\n\n    failedCount: () => {\n      return state.failedEntries.length;\n    },\n\n    successCount: () => {\n      return state.successEntries.length;\n    },\n\n    uploadingCount: () => {\n      return state.uploadingEntries.length;\n    },\n\n    status: () => {\n      const status = state.isFailed ? 'failed' : state.isUploading ? 'uploading' : state.isSuccess ? 'success' : 'idle';\n      return /** @type {TCollectionStatus} */ (status);\n    },\n\n    isSuccess: () => {\n      return state.errors.length === 0 && state.successEntries.length === state.allEntries.length;\n    },\n\n    isUploading: () => {\n      return state.allEntries.some((entry) => entry.status === 'uploading');\n    },\n\n    isFailed: () => {\n      return state.errors.length > 0 || state.failedEntries.length > 0;\n    },\n\n    allEntries: () => {\n      return uploaderBlock.getOutputData();\n    },\n\n    successEntries: () => {\n      return state.allEntries.filter((entry) => entry.status === 'success');\n    },\n\n    failedEntries: () => {\n      return state.allEntries.filter((entry) => entry.status === 'failed');\n    },\n\n    uploadingEntries: () => {\n      return state.allEntries.filter((entry) => entry.status === 'uploading');\n    },\n\n    idleEntries: () => {\n      return state.allEntries.filter((entry) => entry.status === 'idle');\n    },\n  };\n\n  const state = /** @type {import('../index.js').OutputCollectionState<TCollectionStatus, TGroupFlag>} */ (\n    /** @type {unknown} */ ({})\n  );\n  const withAssert = createAsyncAssertWrapper(\n    \"You're trying to access the OutputCollectionState asynchronously. \" +\n      'In this case, the data you retrieve will be newer than it was when the ' +\n      'OutputCollectionState was created or when the event was dispatched. If you want ' +\n      'to retain the state at a specific moment in time, you should use the spread operator ' +\n      'like this: `{...outputCollectionState}` or `{...e.detail}`',\n  );\n\n  for (const [key, value] of Object.entries(getters)) {\n    const name = /** @type {keyof typeof getters} */ (key);\n    const getter = /** @type {(typeof getters)[name]} */ (value);\n    const wrapped = memoize(withAssert(getter));\n    Object.defineProperty(state, name, {\n      get: wrapped,\n      enumerable: true,\n    });\n  }\n\n  return state;\n}\n","// @ts-check\nimport { UploadcareFile } from '@uploadcare/upload-client';\n\n/**\n * @typedef {Object} UploadEntry\n * @property {File} file\n * @property {String} externalUrl\n * @property {String} fileName\n * @property {number} fileSize\n * @property {number} lastModified\n * @property {number} uploadProgress\n * @property {String} uuid\n * @property {Boolean} isImage\n * @property {String} mimeType\n * @property {String} ctxName\n * @property {String} cdnUrl\n * @property {String} cdnUrlModifiers\n * @property {UploadcareFile} fileInfo\n * @property {Boolean} isUploading\n * @property {String} thumbUrl\n * @property {Boolean} silent\n * @property {({\n *   type: import('..').OutputFileErrorType | import('..').OutputCollectionErrorType;\n *   message: string;\n * } & Record<string, unknown>)[]} errors\n * @property {Error | null} uploadError\n * @property {string | null} fullPath\n * @property {import('@uploadcare/upload-client').Metadata | null} metadata\n * @property {boolean} isRemoved\n */\n\n/**\n * @template {keyof UploadEntry} K\n * @type {Record<K, { type: Function; value: any; nullable?: Boolean }>}\n */\nexport const uploadEntrySchema = Object.freeze({\n  file: {\n    type: File,\n    value: null,\n  },\n  externalUrl: {\n    type: String,\n    value: null,\n  },\n  fileName: {\n    type: String,\n    value: null,\n    nullable: true,\n  },\n  fileSize: {\n    type: Number,\n    value: null,\n    nullable: true,\n  },\n  lastModified: {\n    type: Number,\n    value: Date.now(),\n  },\n  uploadProgress: {\n    type: Number,\n    value: 0,\n  },\n  uuid: {\n    type: String,\n    value: null,\n  },\n  isImage: {\n    type: Boolean,\n    value: false,\n  },\n  mimeType: {\n    type: String,\n    value: null,\n    nullable: true,\n  },\n  ctxName: {\n    type: String,\n    value: null,\n  },\n  cdnUrl: {\n    type: String,\n    value: null,\n  },\n  cdnUrlModifiers: {\n    type: String,\n    value: null,\n  },\n  fileInfo: {\n    type: UploadcareFile,\n    value: null,\n  },\n  isUploading: {\n    type: Boolean,\n    value: false,\n  },\n  abortController: {\n    type: AbortController,\n    value: null,\n    nullable: true,\n  },\n  thumbUrl: {\n    type: String,\n    value: null,\n    nullable: true,\n  },\n  silent: {\n    type: Boolean,\n    value: false,\n  },\n  source: {\n    type: String,\n    value: false,\n    nullable: true,\n  },\n  fullPath: {\n    type: String,\n    value: null,\n    nullable: true,\n  },\n  metadata: {\n    type: Object,\n    value: null,\n    nullable: true,\n  },\n  errors: {\n    type: Array,\n    value: [],\n  },\n  uploadError: {\n    type: Error,\n    value: null,\n    nullable: true,\n  },\n  isRemoved: {\n    type: Boolean,\n    value: false,\n  },\n});\n","const uuidRegex = /[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}/i;\nconst cdnUrlRegex = new RegExp(`^/?(${uuidRegex.source})(?:/(-/(?:[^/]+/)+)?([^/]*))?$`, 'i');\n\n/** @param {{ url: string; cdnBase: string }} options */\nexport const parseCdnUrl = ({ url, cdnBase }) => {\n  const cdnBaseUrlObj = new URL(cdnBase);\n  const urlObj = new URL(url);\n\n  if (cdnBaseUrlObj.host !== urlObj.host) {\n    return null;\n  }\n\n  const [, uuid, cdnUrlModifiers, filename] = cdnUrlRegex.exec(urlObj.pathname);\n\n  return {\n    uuid,\n    cdnUrlModifiers: cdnUrlModifiers || '',\n    filename: filename || null,\n  };\n};\n","// @ts-check\nimport { ActivityBlock } from './ActivityBlock.js';\n\nimport { Data } from '@symbiotejs/symbiote';\nimport { NetworkError, UploadError, uploadFileGroup } from '@uploadcare/upload-client';\nimport { calculateMaxCenteredCropFrame } from '../blocks/CloudImageEditor/src/crop-utils.js';\nimport { parseCropPreset } from '../blocks/CloudImageEditor/src/lib/parseCropPreset.js';\nimport { EventType } from '../blocks/UploadCtxProvider/EventEmitter.js';\nimport { UploadSource } from '../blocks/utils/UploadSource.js';\nimport { serializeCsv } from '../blocks/utils/comma-separated.js';\nimport { debounce } from '../blocks/utils/debounce.js';\nimport { customUserAgent } from '../blocks/utils/userAgent.js';\nimport { buildCollectionFileError, buildOutputFileError } from '../utils/buildOutputError.js';\nimport { createCdnUrl, createCdnUrlModifiers } from '../utils/cdn-utils.js';\nimport { IMAGE_ACCEPT_LIST, fileIsImage, matchExtension, matchMimeType, mergeFileTypes } from '../utils/fileTypes.js';\nimport { prettyBytes } from '../utils/prettyBytes.js';\nimport { stringToArray } from '../utils/stringToArray.js';\nimport { warnOnce } from '../utils/warnOnce.js';\nimport { uploaderBlockCtx } from './CTX.js';\nimport { TypedCollection } from './TypedCollection.js';\nimport { buildOutputCollectionState } from './buildOutputCollectionState.js';\nimport { uploadEntrySchema } from './uploadEntrySchema.js';\nimport { parseCdnUrl } from '../utils/parseCdnUrl.js';\nexport class UploaderBlock extends ActivityBlock {\n  couldBeCtxOwner = false;\n  isCtxOwner = false;\n\n  init$ = uploaderBlockCtx(this);\n\n  /** @private */\n  __initialUploadMetadata = null;\n\n  /**\n   * @private\n   * @type {((\n   *   outputEntry: import('../types').OutputFileEntry,\n   *   internalEntry?: import('./TypedData.js').TypedData,\n   * ) => undefined | ReturnType<typeof import('../utils/buildOutputError.js').buildOutputFileError>)[]}\n   */\n  _fileValidators = [\n    this._validateIsImage.bind(this),\n    this._validateFileType.bind(this),\n    this._validateMaxSizeLimit.bind(this),\n    this._validateUploadError.bind(this),\n  ];\n\n  /**\n   * @private\n   * @type {((\n   *   collection: TypedCollection,\n   * ) =>\n   *   | undefined\n   *   | ReturnType<typeof import('../utils/buildOutputError.js').buildCollectionFileError>\n   *   | ReturnType<typeof import('../utils/buildOutputError.js').buildCollectionFileError>[])[]}\n   */\n  _collectionValidators = [\n    (collection) => {\n      const total = collection.size;\n      const multipleMin = this.cfg.multiple ? this.cfg.multipleMin : 0;\n      const multipleMax = this.cfg.multiple ? this.cfg.multipleMax : 1;\n      if (multipleMin && total < multipleMin) {\n        const message = this.l10n('files-count-limit-error-too-few', {\n          min: multipleMin,\n          max: multipleMax,\n          total,\n        });\n        return buildCollectionFileError({\n          type: 'TOO_FEW_FILES',\n          message,\n          total,\n          min: multipleMin,\n          max: multipleMax,\n        });\n      }\n\n      if (multipleMax && total > multipleMax) {\n        const message = this.l10n('files-count-limit-error-too-many', {\n          min: multipleMin,\n          max: multipleMax,\n          total,\n        });\n        return buildCollectionFileError({\n          type: 'TOO_MANY_FILES',\n          message,\n          total,\n          min: multipleMin,\n          max: multipleMax,\n        });\n      }\n    },\n    (collection) => {\n      if (collection.items().some((id) => collection.readProp(id, 'errors').length > 0)) {\n        return buildCollectionFileError({\n          type: 'SOME_FILES_HAS_ERRORS',\n          message: this.l10n('some-files-were-not-uploaded'),\n        });\n      }\n    },\n  ];\n\n  /**\n   * This is Public JS API method. Could be called before block initialization, so we need to delay state interactions\n   * until block init.\n   *\n   * TODO: If we add more public methods, it is better to use the single queue instead of tons of private fields per\n   * each method. See https://github.com/uploadcare/blocks/pull/162/\n   *\n   * @deprecated Use `metadata` instance property on `lr-config` block instead.\n   * @param {import('@uploadcare/upload-client').Metadata} metadata\n   * @public\n   */\n  setUploadMetadata(metadata) {\n    warnOnce(\n      'setUploadMetadata is deprecated. Use `metadata` instance property on `lr-config` block instead. See migration guide: https://uploadcare.com/docs/file-uploader/migration-to-0.25.0/',\n    );\n    if (!this.connectedOnce) {\n      // @ts-ignore TODO: fix this\n      this.__initialUploadMetadata = metadata;\n    } else {\n      this.$['*uploadMetadata'] = metadata;\n    }\n  }\n\n  get hasCtxOwner() {\n    return this.hasBlockInCtx((block) => {\n      if (block instanceof UploaderBlock) {\n        return block.isCtxOwner && block.isConnected && block !== this;\n      }\n      return false;\n    });\n  }\n\n  initCallback() {\n    super.initCallback();\n\n    if (!this.$['*uploadCollection']) {\n      let uploadCollection = new TypedCollection({\n        typedSchema: uploadEntrySchema,\n        watchList: ['uploadProgress', 'uploadError', 'fileInfo', 'errors', 'cdnUrl', 'isUploading'],\n      });\n      this.$['*uploadCollection'] = uploadCollection;\n    }\n\n    if (!this.hasCtxOwner && this.couldBeCtxOwner) {\n      this.initCtxOwner();\n    }\n  }\n\n  destroyCtxCallback() {\n    this._unobserveCollectionProperties?.();\n    this._unobserveCollection?.();\n    this.uploadCollection.destroy();\n    this.$['*uploadCollection'] = null;\n\n    super.destroyCtxCallback();\n  }\n\n  initCtxOwner() {\n    this.isCtxOwner = true;\n\n    /** @private */\n    this._unobserveCollection = this.uploadCollection.observeCollection(this._handleCollectionUpdate);\n\n    /** @private */\n    this._unobserveCollectionProperties = this.uploadCollection.observeProperties(\n      this._handleCollectionPropertiesUpdate,\n    );\n\n    const runAllValidators = () => {\n      this._runFileValidators();\n      this._runCollectionValidators();\n    };\n\n    this.subConfigValue('maxLocalFileSizeBytes', runAllValidators);\n    this.subConfigValue('multipleMin', runAllValidators);\n    this.subConfigValue('multipleMax', runAllValidators);\n    this.subConfigValue('multiple', runAllValidators);\n    this.subConfigValue('imgOnly', runAllValidators);\n    this.subConfigValue('accept', runAllValidators);\n    this.subConfigValue('maxConcurrentRequests', (value) => {\n      this.$['*uploadQueue'].concurrency = Number(value) || 1;\n    });\n\n    if (this.__initialUploadMetadata) {\n      this.$['*uploadMetadata'] = this.__initialUploadMetadata;\n    }\n  }\n\n  // TODO: Probably we should not allow user to override `source` property\n\n  /**\n   * @param {string} url\n   * @param {{ silent?: boolean; fileName?: string; source?: string }} [options]\n   * @returns {import('../types').OutputFileEntry<'idle'>}\n   */\n  addFileFromUrl(url, { silent, fileName, source } = {}) {\n    const internalId = this.uploadCollection.add({\n      externalUrl: url,\n      fileName: fileName ?? null,\n      silent: silent ?? false,\n      source: source ?? UploadSource.API,\n    });\n    return this.getOutputItem(internalId);\n  }\n\n  /**\n   * @param {string} uuid\n   * @param {{ silent?: boolean; fileName?: string; source?: string }} [options]\n   * @returns {import('../types').OutputFileEntry<'idle'>}\n   */\n  addFileFromUuid(uuid, { silent, fileName, source } = {}) {\n    const internalId = this.uploadCollection.add({\n      uuid,\n      fileName: fileName ?? null,\n      silent: silent ?? false,\n      source: source ?? UploadSource.API,\n    });\n    return this.getOutputItem(internalId);\n  }\n\n  /**\n   * @param {string} cdnUrl\n   * @param {{ silent?: boolean; fileName?: string; source?: string }} [options]\n   * @returns {import('../types').OutputFileEntry<'idle'>}\n   */\n  addFileFromCdnUrl(cdnUrl, { silent, fileName, source } = {}) {\n    const parsedCdnUrl = parseCdnUrl({ url: cdnUrl, cdnBase: this.cfg.cdnCname });\n    if (!parsedCdnUrl) {\n      throw new Error('Invalid CDN URL');\n    }\n    const internalId = this.uploadCollection.add({\n      uuid: parsedCdnUrl.uuid,\n      cdnUrl,\n      cdnUrlModifiers: parsedCdnUrl.cdnUrlModifiers,\n      fileName: fileName ?? parsedCdnUrl.filename ?? null,\n      silent: silent ?? false,\n      source: source ?? UploadSource.API,\n    });\n    return this.getOutputItem(internalId);\n  }\n\n  /**\n   * @param {File} file\n   * @param {{ silent?: boolean; fileName?: string; source?: string; fullPath?: string }} [options]\n   * @returns {import('../types').OutputFileEntry<'idle'>}\n   */\n  addFileFromObject(file, { silent, fileName, source, fullPath } = {}) {\n    const internalId = this.uploadCollection.add({\n      file,\n      isImage: fileIsImage(file),\n      mimeType: file.type,\n      fileName: fileName ?? file.name,\n      fileSize: file.size,\n      silent: silent ?? false,\n      source: source ?? UploadSource.API,\n      fullPath: fullPath ?? null,\n    });\n    return this.getOutputItem(internalId);\n  }\n\n  /**\n   * @deprecated Will be removed in the near future. Please use `addFileFromObject`, `addFileFromUrl` or\n   *   `addFileFromUuid` instead.\n   * @param {File[]} files\n   * @returns {import('../types').OutputFileEntry<'idle'>[]}\n   */\n  addFiles(files) {\n    console.warn(\n      '`addFiles` method is deprecated. Please use `addFileFromObject`, `addFileFromUrl` or `addFileFromUuid` instead.',\n    );\n    return files.map((/** @type {File} */ file) => {\n      const internalId = this.uploadCollection.add({\n        file,\n        isImage: fileIsImage(file),\n        mimeType: file.type,\n        fileName: file.name,\n        fileSize: file.size,\n      });\n      return this.getOutputItem(internalId);\n    });\n  }\n\n  /** @param {string} internalId */\n  removeFileByInternalId(internalId) {\n    if (!this.uploadCollection.read(internalId)) {\n      throw new Error(`File with internalId ${internalId} not found`);\n    }\n    this.uploadCollection.remove(internalId);\n  }\n\n  removeAllFiles() {\n    this.uploadCollection.clearAll();\n  }\n\n  uploadAll = () => {\n    const itemsToUpload = this.uploadCollection.items().filter((id) => {\n      const entry = this.uploadCollection.read(id);\n      return !entry.getValue('isRemoved') && !entry.getValue('isUploading') && !entry.getValue('fileInfo');\n    });\n\n    if (itemsToUpload.length === 0) {\n      return;\n    }\n\n    this.$['*uploadTrigger'] = new Set(itemsToUpload);\n    this.emit(\n      EventType.COMMON_UPLOAD_START,\n      /** @type {import('../types').OutputCollectionState<'uploading'>} */ (this.getOutputCollectionState()),\n    );\n  };\n\n  /** @param {{ captureCamera?: boolean }} options */\n  openSystemDialog(options = {}) {\n    let accept = serializeCsv(mergeFileTypes([this.cfg.accept ?? '', ...(this.cfg.imgOnly ? IMAGE_ACCEPT_LIST : [])]));\n\n    if (this.cfg.accept && !!this.cfg.imgOnly) {\n      console.warn(\n        'There could be a mistake.\\n' +\n          'Both `accept` and `imgOnly` parameters are set.\\n' +\n          'The value of `accept` will be concatenated with the internal image mime types list.',\n      );\n    }\n    this.fileInput = document.createElement('input');\n    this.fileInput.type = 'file';\n    this.fileInput.multiple = this.cfg.multiple;\n    if (options.captureCamera) {\n      this.fileInput.capture = this.cfg.cameraCapture;\n      this.fileInput.accept = 'image/*';\n    } else {\n      this.fileInput.accept = accept;\n    }\n    this.fileInput.dispatchEvent(new MouseEvent('click'));\n    this.fileInput.onchange = () => {\n      // @ts-ignore TODO: fix this\n      [...this.fileInput['files']].forEach((file) =>\n        this.addFileFromObject(file, { source: options.captureCamera ? UploadSource.CAMERA : UploadSource.LOCAL }),\n      );\n      // To call uploadTrigger UploadList should draw file items first:\n      this.$['*currentActivity'] = ActivityBlock.activities.UPLOAD_LIST;\n      this.setOrAddState('*modalActive', true);\n      // @ts-ignore TODO: fix this\n      this.fileInput['value'] = '';\n      this.fileInput = null;\n    };\n  }\n\n  /** @type {string[]} */\n  get sourceList() {\n    /** @type {string[]} */\n    let list = [];\n    if (this.cfg.sourceList) {\n      list = stringToArray(this.cfg.sourceList);\n    }\n    // @ts-ignore TODO: fix this\n    return list;\n  }\n\n  /** @param {Boolean} [force] */\n  initFlow(force = false) {\n    if (this.uploadCollection.size > 0 && !force) {\n      this.set$({\n        '*currentActivity': ActivityBlock.activities.UPLOAD_LIST,\n      });\n      this.setOrAddState('*modalActive', true);\n    } else {\n      if (this.sourceList?.length === 1) {\n        const srcKey = this.sourceList[0];\n\n        // TODO: We should refactor those handlers\n        if (srcKey === 'local') {\n          this.$['*currentActivity'] = ActivityBlock.activities.UPLOAD_LIST;\n          this?.['openSystemDialog']();\n          return;\n        }\n\n        /** @type {Set<import('./Block').Block>} */\n        const blocksRegistry = this.$['*blocksRegistry'];\n        /**\n         * @param {import('./Block').Block} block\n         * @returns {block is import('../blocks/SourceBtn/SourceBtn.js').SourceBtn}\n         */\n        const isSourceBtn = (block) => 'type' in block && block.type === srcKey;\n        const sourceBtnBlock = [...blocksRegistry].find(isSourceBtn);\n        // TODO: This is weird that we have this logic inside UI component, we should consider to move it somewhere else\n        sourceBtnBlock?.activate();\n        if (this.$['*currentActivity']) {\n          this.setOrAddState('*modalActive', true);\n        }\n      } else {\n        // Multiple sources case:\n        this.set$({\n          '*currentActivity': ActivityBlock.activities.START_FROM,\n        });\n        this.setOrAddState('*modalActive', true);\n      }\n    }\n  }\n\n  doneFlow() {\n    this.set$({\n      '*currentActivity': this.doneActivity,\n      '*history': this.doneActivity ? [this.doneActivity] : [],\n    });\n    if (!this.$['*currentActivity']) {\n      this.setOrAddState('*modalActive', false);\n    }\n  }\n\n  /** @returns {TypedCollection} */\n  get uploadCollection() {\n    return this.$['*uploadCollection'];\n  }\n\n  /**\n   * @private\n   * @param {import('../types').OutputFileEntry} outputEntry\n   */\n  _validateFileType(outputEntry) {\n    const imagesOnly = this.cfg.imgOnly;\n    const accept = this.cfg.accept;\n    const allowedFileTypes = mergeFileTypes([...(imagesOnly ? IMAGE_ACCEPT_LIST : []), accept]);\n    if (!allowedFileTypes.length) return;\n\n    const mimeType = outputEntry.mimeType;\n    const fileName = outputEntry.name;\n\n    if (!mimeType || !fileName) {\n      // Skip client validation if mime type or file name are not available for some reasons\n      return;\n    }\n\n    const mimeOk = matchMimeType(mimeType, allowedFileTypes);\n    const extOk = matchExtension(fileName, allowedFileTypes);\n\n    if (!mimeOk && !extOk) {\n      // Assume file type is not allowed if both mime and ext checks fail\n      return buildOutputFileError({\n        type: 'FORBIDDEN_FILE_TYPE',\n        message: this.l10n('file-type-not-allowed'),\n        entry: outputEntry,\n      });\n    }\n  }\n\n  /**\n   * @private\n   * @param {import('../types').OutputFileEntry} outputEntry\n   */\n  _validateMaxSizeLimit(outputEntry) {\n    const maxFileSize = this.cfg.maxLocalFileSizeBytes;\n    const fileSize = outputEntry.size;\n    if (maxFileSize && fileSize && fileSize > maxFileSize) {\n      return buildOutputFileError({\n        type: 'FILE_SIZE_EXCEEDED',\n        message: this.l10n('files-max-size-limit-error', { maxFileSize: prettyBytes(maxFileSize) }),\n        entry: outputEntry,\n      });\n    }\n  }\n\n  /**\n   * @private\n   * @param {import('../types').OutputFileEntry} outputEntry\n   * @param {import('./TypedData.js').TypedData} [internalEntry]\n   */\n  _validateUploadError(outputEntry, internalEntry) {\n    /** @type {unknown} */\n    const cause = internalEntry?.getValue('uploadError');\n    if (!cause) {\n      return;\n    }\n\n    if (cause instanceof UploadError) {\n      return buildOutputFileError({\n        type: 'UPLOAD_ERROR',\n        message: cause.message,\n        entry: outputEntry,\n        error: cause,\n      });\n    } else if (cause instanceof NetworkError) {\n      return buildOutputFileError({\n        type: 'NETWORK_ERROR',\n        message: cause.message,\n        entry: outputEntry,\n        error: cause,\n      });\n    } else {\n      const error = cause instanceof Error ? cause : new Error('Unknown error', { cause });\n      return buildOutputFileError({\n        type: 'UNKNOWN_ERROR',\n        message: error.message,\n        entry: outputEntry,\n        error,\n      });\n    }\n  }\n\n  /**\n   * @private\n   * @param {import('../types').OutputFileEntry} outputEntry\n   */\n  _validateIsImage(outputEntry) {\n    const imagesOnly = this.cfg.imgOnly;\n    const isImage = outputEntry.isImage;\n    if (!imagesOnly || isImage) {\n      return;\n    }\n    if (!outputEntry.fileInfo && outputEntry.externalUrl) {\n      // skip validation for not uploaded files with external url, cause we don't know if they're images or not\n      return;\n    }\n    if (!outputEntry.fileInfo && !outputEntry.mimeType) {\n      // skip validation for not uploaded files without mime-type, cause we don't know if they're images or not\n      return;\n    }\n    return buildOutputFileError({\n      type: 'NOT_AN_IMAGE',\n      message: this.l10n('images-only-accepted'),\n      entry: outputEntry,\n    });\n  }\n\n  /**\n   * @private\n   * @param {import('./TypedData.js').TypedData} entry\n   */\n  _runFileValidatorsForEntry(entry) {\n    const outputEntry = this.getOutputItem(entry.uid);\n    const errors = [];\n\n    for (const validator of this._fileValidators) {\n      const error = validator(outputEntry, entry);\n      if (error) {\n        errors.push(error);\n      }\n    }\n    entry.setValue('errors', errors);\n  }\n\n  /**\n   * @private\n   * @param {string[]} [entryIds]\n   */\n  _runFileValidators(entryIds) {\n    const ids = entryIds ?? this.uploadCollection.items();\n    for (const id of ids) {\n      const entry = this.uploadCollection.read(id);\n      entry && this._runFileValidatorsForEntry(entry);\n    }\n  }\n\n  /** @private */\n  _runCollectionValidators() {\n    const collection = this.uploadCollection;\n    const errors = [];\n\n    for (const validator of this._collectionValidators) {\n      const errorOrErrors = validator(collection);\n      if (!errorOrErrors) {\n        continue;\n      }\n      if (Array.isArray(errorOrErrors)) {\n        errors.push(...errorOrErrors);\n      } else {\n        errors.push(errorOrErrors);\n      }\n    }\n\n    this.$['*collectionErrors'] = errors;\n\n    if (errors.length > 0) {\n      this.emit(\n        EventType.COMMON_UPLOAD_FAILED,\n        () => /** @type {import('../types').OutputCollectionState<'failed'>} */ (this.getOutputCollectionState()),\n        { debounce: true },\n      );\n    }\n  }\n\n  /**\n   * @private\n   * @param {import('../types').OutputCollectionState} collectionState\n   */\n  async _createGroup(collectionState) {\n    const uploadClientOptions = this.getUploadClientOptions();\n    const uuidList = collectionState.allEntries.map((entry) => {\n      return entry.uuid + (entry.cdnUrlModifiers ? `/${entry.cdnUrlModifiers}` : '');\n    });\n    const abortController = new AbortController();\n    const resp = await uploadFileGroup(uuidList, { ...uploadClientOptions, signal: abortController.signal });\n    if (this.$['*collectionState'] !== collectionState) {\n      abortController.abort();\n      return;\n    }\n    this.$['*groupInfo'] = resp;\n    const collectionStateWithGroup = /** @type {import('../types').OutputCollectionState<'success', 'has-group'>} */ (\n      this.getOutputCollectionState()\n    );\n    this.emit(EventType.GROUP_CREATED, collectionStateWithGroup);\n    this.emit(EventType.CHANGE, () => this.getOutputCollectionState(), { debounce: true });\n    this.$['*collectionState'] = collectionStateWithGroup;\n  }\n\n  /** @private */\n  _flushOutputItems = debounce(async () => {\n    const data = this.getOutputData();\n    if (data.length !== this.uploadCollection.size) {\n      return;\n    }\n    const collectionState = this.getOutputCollectionState();\n    this.$['*collectionState'] = collectionState;\n    this.emit(EventType.CHANGE, () => this.getOutputCollectionState(), { debounce: true });\n\n    if (this.cfg.groupOutput && collectionState.totalCount > 0 && collectionState.status === 'success') {\n      this._createGroup(collectionState);\n    }\n  }, 300);\n\n  /**\n   * @private\n   * @type {Parameters<import('./TypedCollection.js').TypedCollection['observeCollection']>[0]}\n   * @param {Set<import('./TypedData.js').TypedData>} removed\n   */\n  _handleCollectionUpdate = (entries, added, removed) => {\n    if (added.size || removed.size) {\n      this.$['*groupInfo'] = null;\n    }\n    this._runFileValidators();\n    this._runCollectionValidators();\n\n    for (const entry of added) {\n      if (!entry.getValue('silent')) {\n        this.emit(EventType.FILE_ADDED, this.getOutputItem(entry.uid));\n      }\n    }\n\n    for (const entry of removed) {\n      /** @type {Set<string>} */ (this.$['*uploadTrigger']).delete(entry.uid);\n\n      entry.getValue('abortController')?.abort();\n      entry.setMultipleValues({\n        isRemoved: true,\n        abortController: null,\n        isUploading: false,\n        uploadProgress: 0,\n      });\n      URL.revokeObjectURL(entry?.getValue('thumbUrl'));\n      this.emit(EventType.FILE_REMOVED, this.getOutputItem(entry.uid));\n    }\n\n    this.$['*uploadList'] = entries.map((uid) => {\n      return { uid };\n    });\n\n    this._flushCommonUploadProgress();\n    this._flushOutputItems();\n  };\n\n  /**\n   * @private\n   * @param {Record<keyof import('./uploadEntrySchema.js').UploadEntry, Set<string>>} changeMap\n   */\n  _handleCollectionPropertiesUpdate = (changeMap) => {\n    this._flushOutputItems();\n\n    const uploadCollection = this.uploadCollection;\n    const entriesToRunValidation = [\n      ...new Set(\n        Object.entries(changeMap)\n          .filter(([key]) => ['uploadError', 'fileInfo'].includes(key))\n          .map(([, ids]) => [...ids])\n          .flat(),\n      ),\n    ];\n\n    entriesToRunValidation.length > 0 &&\n      setTimeout(() => {\n        // We can't modify entry properties in the same tick, so we need to wait a bit\n        this._runFileValidators(entriesToRunValidation);\n      });\n\n    if (changeMap.uploadProgress) {\n      for (const entryId of changeMap.uploadProgress) {\n        const { isUploading, silent } = Data.getCtx(entryId).store;\n        if (isUploading && !silent) {\n          this.emit(EventType.FILE_UPLOAD_PROGRESS, this.getOutputItem(entryId));\n        }\n      }\n\n      this._flushCommonUploadProgress();\n    }\n    if (changeMap.isUploading) {\n      for (const entryId of changeMap.isUploading) {\n        const { isUploading, silent } = Data.getCtx(entryId).store;\n        if (isUploading && !silent) {\n          this.emit(EventType.FILE_UPLOAD_START, this.getOutputItem(entryId));\n        }\n      }\n    }\n    if (changeMap.fileInfo) {\n      for (const entryId of changeMap.fileInfo) {\n        const { fileInfo, silent } = Data.getCtx(entryId).store;\n        if (fileInfo && !silent) {\n          this.emit(EventType.FILE_UPLOAD_SUCCESS, this.getOutputItem(entryId));\n        }\n      }\n      if (this.cfg.cropPreset) {\n        this.setInitialCrop();\n      }\n      let loadedItems = uploadCollection.findItems((entry) => {\n        return !!entry.getValue('fileInfo');\n      });\n      let errorItems = uploadCollection.findItems((entry) => {\n        return entry.getValue('errors').length > 0;\n      });\n      if (errorItems.length === 0 && uploadCollection.size === loadedItems.length) {\n        this.emit(\n          EventType.COMMON_UPLOAD_SUCCESS,\n          /** @type {import('../types').OutputCollectionState<'success'>} */ (this.getOutputCollectionState()),\n        );\n      }\n    }\n    if (changeMap.errors) {\n      for (const entryId of changeMap.errors) {\n        const { errors } = Data.getCtx(entryId).store;\n        if (errors.length > 0) {\n          this.emit(EventType.FILE_UPLOAD_FAILED, this.getOutputItem(entryId));\n          this.emit(\n            EventType.COMMON_UPLOAD_FAILED,\n            () => /** @type {import('../types').OutputCollectionState<'failed'>} */ (this.getOutputCollectionState()),\n            { debounce: true },\n          );\n        }\n      }\n    }\n    if (changeMap.cdnUrl) {\n      const uids = [...changeMap.cdnUrl].filter((uid) => {\n        return !!this.uploadCollection.read(uid)?.getValue('cdnUrl');\n      });\n      uids.forEach((uid) => {\n        this.emit(EventType.FILE_URL_CHANGED, this.getOutputItem(uid));\n      });\n\n      this.$['*groupInfo'] = null;\n    }\n  };\n\n  /** @private */\n  _flushCommonUploadProgress = () => {\n    let commonProgress = 0;\n    /** @type {Set<string>} */\n    const uploadTrigger = this.$['*uploadTrigger'];\n    const items = [...uploadTrigger].filter((id) => !!this.uploadCollection.read(id));\n    items.forEach((id) => {\n      const uploadProgress = this.uploadCollection.readProp(id, 'uploadProgress');\n      commonProgress += uploadProgress;\n    });\n    const progress = items.length ? Math.round(commonProgress / items.length) : 0;\n\n    if (this.$['*commonProgress'] === progress) {\n      return;\n    }\n\n    this.$['*commonProgress'] = progress;\n    this.emit(\n      EventType.COMMON_UPLOAD_PROGRESS,\n      /** @type {import('../types').OutputCollectionState<'uploading'>} */ (this.getOutputCollectionState()),\n    );\n  };\n\n  /** @private */\n  setInitialCrop() {\n    const cropPreset = parseCropPreset(this.cfg.cropPreset);\n    if (cropPreset) {\n      const [aspectRatioPreset] = cropPreset;\n\n      const entries = this.uploadCollection\n        .findItems(\n          (entry) =>\n            entry.getValue('fileInfo') &&\n            entry.getValue('isImage') &&\n            !entry.getValue('cdnUrlModifiers')?.includes('/crop/'),\n        )\n        .map((id) => this.uploadCollection.read(id));\n\n      for (const entry of entries) {\n        const fileInfo = entry.getValue('fileInfo');\n        const { width, height } = fileInfo.imageInfo;\n        const expectedAspectRatio = aspectRatioPreset.width / aspectRatioPreset.height;\n        const crop = calculateMaxCenteredCropFrame(width, height, expectedAspectRatio);\n        const cdnUrlModifiers = createCdnUrlModifiers(\n          `crop/${crop.width}x${crop.height}/${crop.x},${crop.y}`,\n          'preview',\n        );\n        entry.setMultipleValues({\n          cdnUrlModifiers,\n          cdnUrl: createCdnUrl(entry.getValue('cdnUrl'), cdnUrlModifiers),\n        });\n        if (\n          this.uploadCollection.size === 1 &&\n          this.cfg.useCloudImageEditor &&\n          this.hasBlockInCtx((block) => block.activityType === ActivityBlock.activities.CLOUD_IMG_EDIT)\n        ) {\n          this.$['*focusedEntry'] = entry;\n          this.$['*currentActivity'] = ActivityBlock.activities.CLOUD_IMG_EDIT;\n        }\n      }\n    }\n  }\n\n  /**\n   * @param {string} entryId\n   * @protected\n   */\n  async getMetadataFor(entryId) {\n    const configValue = this.cfg.metadata ?? /** @type {import('../types').Metadata} */ (this.$['*uploadMetadata']);\n    if (typeof configValue === 'function') {\n      const outputFileEntry = this.getOutputItem(entryId);\n      const metadata = await configValue(outputFileEntry);\n      return metadata;\n    }\n    return configValue;\n  }\n\n  /** @returns {import('@uploadcare/upload-client').FileFromOptions} */\n  getUploadClientOptions() {\n    let options = {\n      store: this.cfg.store,\n      publicKey: this.cfg.pubkey,\n      baseCDN: this.cfg.cdnCname,\n      baseURL: this.cfg.baseUrl,\n      userAgent: customUserAgent,\n      integration: this.cfg.userAgentIntegration,\n      secureSignature: this.cfg.secureSignature,\n      secureExpire: this.cfg.secureExpire,\n      retryThrottledRequestMaxTimes: this.cfg.retryThrottledRequestMaxTimes,\n      multipartMinFileSize: this.cfg.multipartMinFileSize,\n      multipartChunkSize: this.cfg.multipartChunkSize,\n      maxConcurrentRequests: this.cfg.multipartMaxConcurrentRequests,\n      multipartMaxAttempts: this.cfg.multipartMaxAttempts,\n      checkForUrlDuplicates: !!this.cfg.checkForUrlDuplicates,\n      saveUrlForRecurrentUploads: !!this.cfg.saveUrlForRecurrentUploads,\n    };\n\n    return options;\n  }\n\n  /**\n   * @template {import('../types').OutputFileStatus} TStatus\n   * @param {string} entryId\n   * @returns {import('../types/exported.js').OutputFileEntry<TStatus>}\n   */\n  getOutputItem(entryId) {\n    const uploadEntryData = /** @type {import('./uploadEntrySchema.js').UploadEntry} */ (Data.getCtx(entryId).store);\n\n    /** @type {import('@uploadcare/upload-client').UploadcareFile?} */\n    const fileInfo = uploadEntryData.fileInfo;\n\n    /** @type {import('../types').OutputFileEntry['status']} */\n    let status = uploadEntryData.isRemoved\n      ? 'removed'\n      : uploadEntryData.errors.length > 0\n        ? 'failed'\n        : !!uploadEntryData.fileInfo\n          ? 'success'\n          : uploadEntryData.isUploading\n            ? 'uploading'\n            : 'idle';\n\n    /** @type {unknown} */\n    const outputItem = {\n      uuid: fileInfo?.uuid ?? uploadEntryData.uuid ?? null,\n      internalId: entryId,\n      name: fileInfo?.originalFilename ?? uploadEntryData.fileName,\n      size: fileInfo?.size ?? uploadEntryData.fileSize,\n      isImage: fileInfo?.isImage ?? uploadEntryData.isImage,\n      mimeType: fileInfo?.mimeType ?? uploadEntryData.mimeType,\n      file: uploadEntryData.file,\n      externalUrl: uploadEntryData.externalUrl,\n      cdnUrlModifiers: uploadEntryData.cdnUrlModifiers,\n      cdnUrl: uploadEntryData.cdnUrl ?? fileInfo?.cdnUrl ?? null,\n      fullPath: uploadEntryData.fullPath,\n      uploadProgress: uploadEntryData.uploadProgress,\n      fileInfo: fileInfo ?? null,\n      metadata: uploadEntryData.metadata ?? fileInfo?.metadata ?? null,\n      isSuccess: status === 'success',\n      isUploading: status === 'uploading',\n      isFailed: status === 'failed',\n      isRemoved: status === 'removed',\n      errors: /** @type {import('../types/exported.js').OutputFileEntry['errors']} */ (uploadEntryData.errors),\n      status,\n    };\n\n    return /** @type {import('../types/exported.js').OutputFileEntry<TStatus>} */ (outputItem);\n  }\n\n  /**\n   * @param {(item: import('./TypedData.js').TypedData) => Boolean} [checkFn]\n   * @returns {import('../types/exported.js').OutputFileEntry[]}\n   */\n  getOutputData(checkFn) {\n    const entriesIds = checkFn ? this.uploadCollection.findItems(checkFn) : this.uploadCollection.items();\n    const data = entriesIds.map((itemId) => this.getOutputItem(itemId));\n    return data;\n  }\n\n  /** @template {import('../types').OutputCollectionStatus} TStatus */\n  getOutputCollectionState() {\n    return /** @type {ReturnType<typeof buildOutputCollectionState<TStatus>>} */ (buildOutputCollectionState(this));\n  }\n}\n\n/** @enum {String} */\nUploaderBlock.extSrcList = Object.freeze({\n  FACEBOOK: 'facebook',\n  DROPBOX: 'dropbox',\n  GDRIVE: 'gdrive',\n  GPHOTOS: 'gphotos',\n  INSTAGRAM: 'instagram',\n  FLICKR: 'flickr',\n  VK: 'vk',\n  EVERNOTE: 'evernote',\n  BOX: 'box',\n  ONEDRIVE: 'onedrive',\n  HUDDLE: 'huddle',\n});\n\n/** @enum {String} */\nUploaderBlock.sourceTypes = Object.freeze({\n  LOCAL: 'local',\n  URL: 'url',\n  CAMERA: 'camera',\n  DRAW: 'draw',\n  ...UploaderBlock.extSrcList,\n});\n","/**\n * @template {string} T\n * @typedef {T extends `${infer Head} ${infer Tail}` ? `${Lowercase<Head>}-${KebabCase<Tail>}` : Lowercase<T>} KebabCase\n */\n\n/**\n * @template {string} T\n * @param {T} str\n * @returns {KebabCase<T>}\n */\nexport const toKebabCase = (str) =>\n  str\n    .match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g)\n    ?.map((x) => x.toLowerCase())\n    .join('-');\n","// @ts-check\n\nimport { initialConfig } from './initialConfig.js';\n\n/** @param {unknown} value */\nconst asString = (value) => String(value);\n/** @param {unknown} value */\nconst asNumber = (value) => {\n  const number = Number(value);\n  if (Number.isNaN(number)) {\n    throw new Error(`Invalid number: \"${value}\"`);\n  }\n  return number;\n};\n/** @param {unknown} value */\nexport const asBoolean = (value) => {\n  if (typeof value === 'undefined' || value === null) return false;\n  if (typeof value === 'boolean') return value;\n  // for attr like multiple=\"true\" (react will pass it as string)\n  if (value === 'true') return true;\n  // for attr flags like multiple=\"\" (some other libs will pass it as empty string)\n  if (value === '') return true;\n  // for attr like multiple=\"false\" (react will pass it as string)\n  if (value === 'false') return false;\n  throw new Error(`Invalid boolean: \"${value}\"`);\n};\n/**\n * @template {Function} T\n * @param {unknown} value\n * @returns {T}\n */\nexport const asFunction = (value) => {\n  if (typeof value === 'function') {\n    return /** @type {T} */ (value);\n  }\n\n  throw new Error('Invalid function value. Must be a function.');\n};\n/** @param {unknown} value */\nconst asStore = (value) => (value === 'auto' ? value : asBoolean(value));\n\n/** @param {unknown} value */\nconst asCameraCapture = (value) => {\n  const strValue = asString(value);\n  if (strValue !== 'user' && strValue !== 'environment' && strValue !== '') {\n    throw new Error(`Invalid \"cameraCapture\" value: \"${strValue}\"`);\n  }\n  return strValue;\n};\n\n/** @param {unknown} value */\nconst asMetadata = (value) => {\n  if (typeof value === 'object' && !Array.isArray(value)) {\n    return /** @type {import('../../types').Metadata} */ (value);\n  }\n  if (typeof value === 'function') {\n    return /** @type {import('../../types').MetadataCallback} */ (value);\n  }\n\n  throw new Error('Invalid metadata value. Must be an object or function.');\n};\n\n/** @param {unknown} value */\nconst asLocaleDefinitionOverride = (value) => {\n  if (typeof value === 'object') {\n    return /** @type {import('../../types').LocaleDefinitionOverride} */ (value);\n  }\n\n  throw new Error('Invalid localeDefinitionOverride value. Must be an object.');\n};\n\n/**\n * @type {{\n *   [Key in keyof import('../../types').ConfigType]: (\n *     value: unknown,\n *   ) => import('../../types').ConfigType[Key] | undefined;\n * }}\n */\nconst mapping = {\n  pubkey: asString,\n  multiple: asBoolean,\n  multipleMin: asNumber,\n  multipleMax: asNumber,\n\n  confirmUpload: asBoolean,\n  imgOnly: asBoolean,\n  accept: asString,\n  externalSourcesPreferredTypes: asString,\n  store: asStore,\n  cameraMirror: asBoolean,\n  cameraCapture: asCameraCapture,\n  sourceList: asString,\n  maxLocalFileSizeBytes: asNumber,\n  thumbSize: asNumber,\n  showEmptyList: asBoolean,\n  useLocalImageEditor: asBoolean,\n  useCloudImageEditor: asBoolean,\n  cloudImageEditorTabs: asString,\n  removeCopyright: asBoolean,\n  cropPreset: asString,\n  imageShrink: asString,\n\n  modalScrollLock: asBoolean,\n  modalBackdropStrokes: asBoolean,\n\n  sourceListWrap: asBoolean,\n\n  remoteTabSessionKey: asString,\n  cdnCname: asString,\n  baseUrl: asString,\n  socialBaseUrl: asString,\n  secureSignature: asString,\n  secureExpire: asString,\n  secureDeliveryProxy: asString,\n  retryThrottledRequestMaxTimes: asNumber,\n  multipartMinFileSize: asNumber,\n  multipartChunkSize: asNumber,\n  maxConcurrentRequests: asNumber,\n  multipartMaxConcurrentRequests: asNumber,\n  multipartMaxAttempts: asNumber,\n  checkForUrlDuplicates: asBoolean,\n  saveUrlForRecurrentUploads: asBoolean,\n\n  groupOutput: asBoolean,\n  userAgentIntegration: asString,\n  debug: asBoolean,\n\n  localeName: asString,\n\n  metadata: asMetadata,\n  localeDefinitionOverride: asLocaleDefinitionOverride,\n  iconHrefResolver: /** @type {typeof asFunction<import('../../types').IconHrefResolver>} */ (asFunction),\n};\n\n/**\n * @template {keyof import('../../types').ConfigType} T\n * @param {T} key\n * @param {unknown} value\n * @returns {import('../../types').ConfigType[T] | undefined}\n */\nexport const normalizeConfigValue = (key, value) => {\n  if (typeof value === 'undefined' || value === null) {\n    return undefined;\n  }\n\n  try {\n    return mapping[key](value);\n  } catch (reason) {\n    console.error(`Invalid value for config key \"${key}\".`, reason);\n    return initialConfig[key];\n  }\n};\n","// @ts-check\nimport { Block } from '../../abstract/Block.js';\nimport { initialConfig } from './initialConfig.js';\nimport { sharedConfigKey } from '../../abstract/sharedConfigKey.js';\nimport { toKebabCase } from '../../utils/toKebabCase.js';\nimport { normalizeConfigValue } from './normalizeConfigValue.js';\n\nconst allConfigKeys = /** @type {(keyof import('../../types').ConfigType)[]} */ ([\n  // \"debug\" option should go first to be able to print debug messages from the very beginning\n  ...new Set(['debug', ...Object.keys(initialConfig)]),\n]);\n\n/**\n * Config keys that can't be passed as attribute (because they are object or function)\n *\n * @type {(keyof import('../../types').ConfigComplexType)[]}\n */\nconst complexConfigKeys = ['metadata', 'localeDefinitionOverride', 'iconHrefResolver'];\n\n/** @type {(key: keyof import('../../types').ConfigType) => key is keyof import('../../types').ConfigComplexType} */\nconst isComplexKey = (key) => complexConfigKeys.includes(key);\n\n/** Config keys that can be passed as attribute */\nconst plainConfigKeys = /** @type {(keyof import('../../types').ConfigPlainType)[]} */ (\n  allConfigKeys.filter((key) => !isComplexKey(key))\n);\n\n/**\n * Mapping of attribute names to config keys Kebab-case and lowercase are supported. lowercase could be used by\n * frameworks like vue and react.\n */\nconst attrKeyMapping =\n  /** @type {Record<keyof import('../../types').ConfigAttributesType, keyof import('../../types').ConfigPlainType>} */ ({\n    ...Object.fromEntries(plainConfigKeys.map((key) => [toKebabCase(key), key])),\n    ...Object.fromEntries(plainConfigKeys.map((key) => [key.toLowerCase(), key])),\n  });\n\n/** Mapping of attribute names to state */\nconst attrStateMapping = /** @type {Record<keyof import('../../types').ConfigAttributesType, string>} */ ({\n  ...Object.fromEntries(plainConfigKeys.map((key) => [toKebabCase(key), sharedConfigKey(key)])),\n  ...Object.fromEntries(plainConfigKeys.map((key) => [key.toLowerCase(), sharedConfigKey(key)])),\n});\n\n/** @param {string} key */\nconst getLocalPropName = (key) => '__' + key;\n\nclass ConfigClass extends Block {\n  requireCtxName = true;\n\n  constructor() {\n    super();\n\n    /** @type {Block['init$'] & import('../../types').ConfigType} */\n    this.init$ = {\n      ...this.init$,\n      ...Object.fromEntries(\n        Object.entries(initialConfig).map(([key, value]) => [\n          sharedConfigKey(/** @type {keyof import('../../types').ConfigType} */ (key)),\n          value,\n        ]),\n      ),\n    };\n  }\n\n  /**\n   * @private\n   * @param {keyof import('../../types').ConfigType} key\n   * @param {unknown} value\n   */\n  _flushValueToAttribute(key, value) {\n    if (plainConfigKeys.includes(key)) {\n      // Flush the value to the DOM attributes\n      const attrs = [...new Set([toKebabCase(key), key.toLowerCase()])];\n      for (const attr of attrs) {\n        if (typeof value === 'undefined' || value === null) {\n          this.removeAttribute(attr);\n        } else if (this.getAttribute(attr) !== value.toString()) {\n          this.setAttribute(attr, value.toString());\n        }\n      }\n    }\n  }\n\n  /**\n   * @private\n   * @param {keyof import('../../types').ConfigType} key\n   * @param {unknown} value\n   */\n  _flushValueToState(key, value) {\n    if (this.$[sharedConfigKey(key)] !== value) {\n      if (typeof value === 'undefined' || value === null) {\n        this.$[sharedConfigKey(key)] = initialConfig[key];\n      } else {\n        this.$[sharedConfigKey(key)] = value;\n      }\n    }\n  }\n\n  /**\n   * @private\n   * @param {keyof import('../../types').ConfigType} key\n   * @param {unknown} value\n   */\n  _setValue(key, value) {\n    const anyThis = /** @type {typeof this & any} */ (this);\n\n    const normalizedValue = normalizeConfigValue(key, value);\n\n    const localPropName = getLocalPropName(key);\n    if (anyThis[localPropName] === normalizedValue) return;\n\n    this._assertSameValueDifferentReference(key, anyThis[localPropName], normalizedValue);\n\n    anyThis[localPropName] = normalizedValue;\n\n    // Flush the value to the state\n    this._flushValueToAttribute(key, normalizedValue);\n    this._flushValueToState(key, normalizedValue);\n\n    this.debugPrint(`[lr-config] \"${key}\"`, normalizedValue);\n  }\n\n  /**\n   * @private\n   * @param {keyof import('../../types').ConfigType} key\n   */\n  _getValue(key) {\n    const anyThis = /** @type {typeof this & any} */ (this);\n    const localPropName = getLocalPropName(key);\n    return anyThis[localPropName];\n  }\n\n  /**\n   * @param {string} key\n   * @param {unknown} previousValue\n   * @param {unknown} nextValue\n   */\n  _assertSameValueDifferentReference(key, previousValue, nextValue) {\n    if (this.cfg.debug) {\n      if (\n        nextValue !== previousValue &&\n        typeof nextValue === 'object' &&\n        typeof previousValue === 'object' &&\n        JSON.stringify(nextValue) === JSON.stringify(previousValue)\n      ) {\n        console.warn(\n          `[lr-config] Option \"${key}\" value is the same as the previous one but the reference is different`,\n        );\n        console.warn(\n          `[lr-config] You should avoid changing the reference of the object to prevent unnecessary calculations`,\n        );\n        console.warn(`[lr-config] \"${key}\" previous value:`, previousValue);\n        console.warn(`[lr-config] \"${key}\" new value:`, nextValue);\n      }\n    }\n  }\n\n  initCallback() {\n    super.initCallback();\n    const anyThis = /** @type {typeof this & any} */ (this);\n\n    // Subscribe to the state changes and update the local properties and attributes.\n    // Initial callback call is disabled to prevent the initial value to be set here.\n    // Initial value will be set below, skipping the default values.\n    for (const key of plainConfigKeys) {\n      this.sub(\n        sharedConfigKey(key),\n        (value) => {\n          this._setValue(key, value);\n        },\n        false,\n      );\n    }\n\n    for (const key of allConfigKeys) {\n      // Flush the initial value to the state.\n      // Initial value is taken from the DOM property if it was set before the element was initialized.\n      // If no DOM property was set, the initial value is taken from the initialConfig.\n      const initialValue = anyThis[key] ?? this.$[sharedConfigKey(key)];\n      if (initialValue !== initialConfig[key]) {\n        this._setValue(key, initialValue);\n      }\n\n      // Define DOM property setters and getters\n      // They will be used in the userland directly or by the frameworks\n      Object.defineProperty(this, key, {\n        /** @param {unknown} value */\n        set: (value) => {\n          this._setValue(key, value);\n        },\n        get: () => {\n          return this._getValue(key);\n        },\n      });\n    }\n  }\n\n  /**\n   * @param {keyof typeof attrStateMapping} name\n   * @param {string} oldVal\n   * @param {string} newVal\n   */\n  attributeChangedCallback(name, oldVal, newVal) {\n    if (oldVal === newVal) return;\n\n    const anyThis = /** @type {typeof this & any} */ (this);\n    const key = attrKeyMapping[name];\n    // attributeChangedCallback could be called before the initCallback\n    // so we set the DOM property instead of calling this._setValue.\n    // If the block was initialized, the value will be handled by the setter.\n    // If the block was not initialized, the value will be set to the DOM property\n    // and handled on initialization.\n    anyThis[key] = newVal;\n  }\n}\n\nConfigClass.bindAttributes(attrStateMapping);\n\n/**\n * Define empty DOM properties for all config keys on the Custom Element class prototype to make them checkable using\n * `key in element` syntax. This is required for the frameworks DOM property bindings to work.\n */\nfor (const key of allConfigKeys) {\n  /** @type {any} */ (ConfigClass.prototype)[key] = undefined;\n}\n\n/** @typedef {import('../../utils/mixinClass.js').MixinClass<typeof ConfigClass, import('../../types').ConfigType>} Config */\n\n// This is workaround for jsdoc that allows us to export extended class type along with the class itself\nexport const Config = /** @type {Config} */ (/** @type {unknown} */ (ConfigClass));\n","// @ts-check\nimport { Block } from '../../abstract/Block.js';\n\nexport class Icon extends Block {\n  constructor() {\n    super();\n\n    this.init$ = {\n      ...this.init$,\n      name: '',\n      href: '',\n      title: '',\n    };\n  }\n\n  initCallback() {\n    super.initCallback();\n    this.sub('name', (val) => {\n      if (!val) {\n        return;\n      }\n      let iconHref = `#uc-icon-${val}`;\n      this.subConfigValue('iconHrefResolver', (iconHrefResolver) => {\n        if (iconHrefResolver) {\n          const customIconHref = iconHrefResolver(val);\n          iconHref = customIconHref ?? iconHref;\n        }\n        this.$.href = iconHref;\n      });\n    });\n  }\n}\n\nIcon.template = /* HTML */ `\n  <svg ref=\"svg\" xmlns=\"http://www.w3.org/2000/svg\">\n    <title>{{title}}</title>\n    <use set=\"@href: href;\"></use>\n  </svg>\n`;\n\nIcon.bindAttributes({\n  name: 'name',\n  title: 'title',\n});\n","/**\n * @template T\n * @param {T[]} arr\n * @returns {T[]}\n */\nexport const uniqueArray = (arr) => {\n  return [...new Set(arr)];\n};\n","const DEFAULT_CDN_BASE = 'https://ucarecdn.com';\n\nexport const PROPS_MAP = Object.freeze({\n  'dev-mode': {},\n  pubkey: {},\n  uuid: {},\n  src: {},\n  // alt: {},\n  // 'placeholder-src': {}, // available via CSS\n  lazy: {\n    default: 1,\n  },\n  intersection: {},\n  breakpoints: {\n    // '200, 300, 400'\n  },\n  'cdn-cname': {\n    default: DEFAULT_CDN_BASE,\n  },\n  'proxy-cname': {},\n  'secure-delivery-proxy': {},\n  'hi-res-support': {\n    default: 1,\n  },\n  'ultra-res-support': {}, // ?\n  format: {},\n  'cdn-operations': {},\n  progressive: {},\n  quality: {},\n  'is-background-for': {},\n  'is-preview-blur': {\n    default: 1,\n  },\n});\n","export const CSS_PREF = '--lr-img-';\nexport const UNRESOLVED_ATTR = 'unresolved';\nexport const HI_RES_K = 2;\nexport const ULTRA_RES_K = 3;\nexport const DEV_MODE =\n  !window.location.host.trim() || window.location.host.includes(':') || window.location.hostname.includes('localhost');\n\nexport const MAX_WIDTH = 3000;\nexport const MAX_WIDTH_JPG = 5000;\n\nexport const ImgTypeEnum = Object.freeze({\n  PREVIEW: 'PREVIEW',\n  MAIN: 'MAIN',\n});\n","import { BaseComponent, Data } from '@symbiotejs/symbiote';\nimport { PROPS_MAP } from './props-map.js';\nimport { CSS_PREF } from './configurations.js';\nimport { PACKAGE_NAME, PACKAGE_VERSION } from '../../env.js';\n\nconst CSS_PROPS = Object.create(null);\nfor (let prop in PROPS_MAP) {\n  CSS_PROPS[CSS_PREF + prop] = PROPS_MAP[prop]?.default || '';\n}\n\nexport class ImgConfig extends BaseComponent {\n  cssInit$ = CSS_PROPS;\n\n  /**\n   * @param {String} key\n   * @returns {any}\n   */\n  $$(key) {\n    return this.$[CSS_PREF + key];\n  }\n\n  /** @param {Object<String, String | Number>} kvObj */\n  set$$(kvObj) {\n    for (let key in kvObj) {\n      this.$[CSS_PREF + key] = kvObj[key];\n    }\n  }\n\n  /**\n   * @param {String} key\n   * @param {(val: any) => void} kbFn\n   */\n  sub$$(key, kbFn) {\n    this.sub(CSS_PREF + key, (val) => {\n      // null comes from CSS context property\n      // empty string comes from attribute value\n      if (val === null || val === '') {\n        return;\n      }\n      kbFn(val);\n    });\n  }\n\n  analyticsParams() {\n    return `-/@clib/${PACKAGE_NAME}/${PACKAGE_VERSION}/lr-img/`;\n  }\n\n  initAttributes(el) {\n    [...this.attributes].forEach((attr) => {\n      if (!PROPS_MAP[attr.name]) {\n        el.setAttribute(attr.name, attr.value);\n      }\n    });\n  }\n\n  /**\n   * @param {HTMLElement} el\n   * @param {() => void} cbkFn\n   */\n  initIntersection(el, cbkFn) {\n    let opts = {\n      root: null,\n      rootMargin: '0px',\n    };\n    /** @private */\n    this._isnObserver = new IntersectionObserver((entries) => {\n      entries.forEach((ent) => {\n        if (ent.isIntersecting) {\n          cbkFn();\n          this._isnObserver.unobserve(el);\n        }\n      });\n    }, opts);\n    this._isnObserver.observe(el);\n    if (!this._observed) {\n      /** @private */\n      this._observed = new Set();\n    }\n    this._observed.add(el);\n  }\n\n  destroyCallback() {\n    super.destroyCallback();\n    if (this._isnObserver) {\n      this._observed.forEach((el) => {\n        this._isnObserver.unobserve(el);\n      });\n      this._isnObserver = null;\n    }\n    Data.deleteCtx(this);\n  }\n\n  static get observedAttributes() {\n    return Object.keys(PROPS_MAP);\n  }\n\n  attributeChangedCallback(name, oldVal, newVal) {\n    window.setTimeout(() => {\n      this.$[CSS_PREF + name] = newVal;\n    });\n  }\n}\n","import { applyTemplateData } from '../../utils/template-utils.js';\nimport { createCdnUrl, createCdnUrlModifiers, createOriginalUrl } from '../../utils/cdn-utils.js';\nimport { stringToArray } from '../../utils/stringToArray.js';\nimport { uniqueArray } from '../../utils/uniqueArray.js';\nimport { parseObjectToString } from './utils/parseObjectToString.js';\nimport { ImgConfig } from './ImgConfig.js';\nimport {\n  DEV_MODE,\n  HI_RES_K,\n  ULTRA_RES_K,\n  UNRESOLVED_ATTR,\n  MAX_WIDTH,\n  MAX_WIDTH_JPG,\n  ImgTypeEnum,\n} from './configurations.js';\n\nexport class ImgBase extends ImgConfig {\n  _img = new Image();\n  _imgPreview = new Image();\n\n  /**\n   * @private\n   * @param {String} src\n   */\n  _fmtAbs(src) {\n    let isRel = !src.includes('//');\n    if (isRel && !DEV_MODE) {\n      src = new URL(src, document.baseURI).href;\n    }\n    return src;\n  }\n\n  /**\n   * Validate size\n   *\n   * @param {String} [size]\n   * @returns {String | Number}\n   */\n  _validateSize(size) {\n    if (size?.trim() !== '') {\n      // Extract numeric part\n      let numericPart = size.match(/\\d+/)[0];\n\n      // Extract alphabetic part\n      let alphabeticPart = size.match(/[a-zA-Z]+/)[0];\n\n      const bp = parseInt(numericPart, 10);\n\n      if (Number(bp) > MAX_WIDTH_JPG && this.hasFormatJPG) {\n        return MAX_WIDTH_JPG + alphabeticPart;\n      } else if (Number(bp) > MAX_WIDTH && !this.hasFormatJPG) {\n        return MAX_WIDTH + alphabeticPart;\n      }\n    }\n\n    return size;\n  }\n\n  /**\n   * Image operations\n   *\n   * @param {String} [size]\n   * @param {String} [blur]\n   */\n  _getCdnModifiers(size, blur) {\n    const params = {\n      format: this.$$('format'),\n      quality: this.$$('quality'),\n      resize: this._validateSize(size),\n      blur,\n      'cdn-operations': this.$$('cdn-operations'),\n      analytics: this.analyticsParams(),\n    };\n\n    return createCdnUrlModifiers(...parseObjectToString(params));\n  }\n\n  /**\n   * @private\n   * @param {String} [size]\n   * @param {String} [blur]\n   * @returns {any}\n   */\n  _getUrlBase(size = '', blur = '') {\n    if (this.$$('src').startsWith('data:') || this.$$('src').startsWith('blob:')) {\n      return this.$$('src');\n    }\n\n    // Localhost + relative image path (DO NOTHING):\n    if (DEV_MODE && this.$$('src') && !this.$$('src').includes('//')) {\n      return this._proxyUrl(this.$$('src'));\n    }\n\n    let cdnModifiers = this._getCdnModifiers(size, blur);\n\n    if (this.$$('src').startsWith(this.$$('cdn-cname'))) {\n      return createCdnUrl(this.$$('src'), cdnModifiers);\n    }\n\n    // Alternative CDN name:\n    if (this.$$('cdn-cname') && this.$$('uuid')) {\n      return this._proxyUrl(\n        createCdnUrl(\n          //\n          createOriginalUrl(this.$$('cdn-cname'), this.$$('uuid')),\n          cdnModifiers\n        )\n      );\n    }\n\n    // UUID only:\n    if (this.$$('uuid')) {\n      return this._proxyUrl(\n        createCdnUrl(\n          //\n          createOriginalUrl(this.$$('cdn-cname'), this.$$('uuid')),\n          cdnModifiers\n        )\n      );\n    }\n\n    // Alternative proxy name:\n    if (this.$$('proxy-cname')) {\n      return this._proxyUrl(\n        createCdnUrl(\n          //\n          this.$$('proxy-cname'),\n          cdnModifiers,\n          this._fmtAbs(this.$$('src'))\n        )\n      );\n    }\n\n    // Project pubkey only:\n    if (this.$$('pubkey')) {\n      return this._proxyUrl(\n        createCdnUrl(\n          //\n          `https://${this.$$('pubkey')}.ucr.io/`,\n          cdnModifiers,\n          this._fmtAbs(this.$$('src'))\n        )\n      );\n    }\n  }\n\n  /**\n   * @private\n   * @param {String} url\n   * @returns {String}\n   */\n  _proxyUrl(url) {\n    let previewProxy = this.$$('secure-delivery-proxy');\n    if (!previewProxy) {\n      return url;\n    }\n    return applyTemplateData(\n      this.$$('secure-delivery-proxy'),\n      { previewUrl: url },\n      { transform: (value) => window.encodeURIComponent(value) }\n    );\n  }\n\n  /**\n   * @param {HTMLElement} el\n   * @param {Number} [k]\n   * @param {Boolean} [wOnly]\n   */\n  _getElSize(el, k = 1, wOnly = true) {\n    let rect = el.getBoundingClientRect();\n    let w = k * Math.round(rect.width);\n    let h = wOnly ? '' : k * Math.round(rect.height);\n\n    if (w || h) {\n      return `${w ? w : ''}x${h ? h : ''}`;\n    } else {\n      return null;\n    }\n  }\n\n  /** @param {HTMLImageElement} img */\n  _setupEventProxy(img) {\n    /** @param {Event} e */\n    let proxifyEvent = (e) => {\n      e.stopPropagation();\n      let event = new Event(e.type, e);\n      this.dispatchEvent(event);\n    };\n    let EVENTS = ['load', 'error'];\n    for (let event of EVENTS) {\n      img.addEventListener(event, proxifyEvent);\n    }\n  }\n\n  /** @type {HTMLImageElement} */\n  get img() {\n    if (!this.hasPreviewImage) {\n      this._setupConfigForImage({ elNode: this._img });\n      this.appendChild(this._img);\n    }\n    return this._img;\n  }\n\n  get currentImg() {\n    return this.hasPreviewImage\n      ? {\n          type: ImgTypeEnum.PREVIEW,\n          img: this._imgPreview,\n        }\n      : {\n          type: ImgTypeEnum.MAIN,\n          img: this.img,\n        };\n  }\n\n  get hasPreviewImage() {\n    return this.$$('is-preview-blur');\n  }\n\n  get bgSelector() {\n    return this.$$('is-background-for');\n  }\n\n  get breakpoints() {\n    if (this.$$('breakpoints')) {\n      const list = stringToArray(this.$$('breakpoints'));\n      return uniqueArray(list.map((bp) => parseInt(bp, 10)));\n    } else {\n      return null;\n    }\n  }\n\n  get hasFormatJPG() {\n    return this.$$('format').toLowerCase() === 'jpeg';\n  }\n\n  /** @param {HTMLElement} el */\n  renderBg(el) {\n    let imgSet = new Set();\n\n    imgSet.add(`url(\"${this._getUrlBase(this._getElSize(el))}\") 1x`);\n    if (this.$$('hi-res-support')) {\n      imgSet.add(`url(\"${this._getUrlBase(this._getElSize(el, HI_RES_K))}\") ${HI_RES_K}x`);\n    }\n\n    if (this.$$('ultra-res-support')) {\n      imgSet.add(`url(\"${this._getUrlBase(this._getElSize(el, ULTRA_RES_K))}\") ${ULTRA_RES_K}x`);\n    }\n\n    let iSet = `image-set(${[...imgSet].join(', ')})`;\n    el.style.setProperty('background-image', iSet);\n    el.style.setProperty('background-image', '-webkit-' + iSet);\n  }\n\n  getSrcset() {\n    let srcset = new Set();\n    if (this.breakpoints) {\n      this.breakpoints.forEach((bp) => {\n        srcset.add(this._getUrlBase(bp + 'x') + ` ${this._validateSize(bp + 'w')}`);\n        if (this.$$('hi-res-support')) {\n          srcset.add(this._getUrlBase(bp * HI_RES_K + 'x') + ` ${this._validateSize(bp * HI_RES_K + 'w')}`);\n        }\n        if (this.$$('ultra-res-support')) {\n          srcset.add(this._getUrlBase(bp * ULTRA_RES_K + 'x') + ` ${this._validateSize(bp * ULTRA_RES_K + 'w')}`);\n        }\n      });\n    } else {\n      srcset.add(this._getUrlBase(this._getElSize(this.currentImg.img)) + ' 1x');\n      if (this.$$('hi-res-support')) {\n        srcset.add(this._getUrlBase(this._getElSize(this.currentImg.img, 2)) + ' 2x');\n      }\n      if (this.$$('ultra-res-support')) {\n        srcset.add(this._getUrlBase(this._getElSize(this.currentImg.img, 3)) + ' 3x');\n      }\n    }\n    return [...srcset].join();\n  }\n\n  getSrc() {\n    return this._getUrlBase();\n  }\n\n  get srcUrlPreview() {\n    return this._getUrlBase('100x', '100');\n  }\n\n  renderBackground() {\n    [...document.querySelectorAll(this.bgSelector)].forEach((el) => {\n      if (this.$$('intersection')) {\n        this.initIntersection(el, () => {\n          this.renderBg(el);\n        });\n      } else {\n        this.renderBg(el);\n      }\n    });\n  }\n\n  _appendURL({ elNode, src, srcset }) {\n    if (src) {\n      elNode.src = src;\n    }\n\n    if (srcset) {\n      elNode.srcset = srcset;\n    }\n  }\n\n  _setupConfigForImage({ elNode }) {\n    this._setupEventProxy(elNode);\n    this.initAttributes(elNode);\n  }\n\n  loaderImage({ src, srcset, elNode }) {\n    return new Promise((resolve, reject) => {\n      this._setupConfigForImage({ elNode });\n\n      elNode.setAttribute(UNRESOLVED_ATTR, '');\n\n      elNode.addEventListener('load', () => {\n        elNode.removeAttribute(UNRESOLVED_ATTR);\n        resolve(elNode);\n      });\n\n      elNode.addEventListener('error', () => {\n        reject(false);\n      });\n\n      this._appendURL({\n        elNode,\n        src,\n        srcset,\n      });\n    });\n  }\n\n  async renderImage() {\n    if (this.$$('intersection')) {\n      if (this.hasPreviewImage) {\n        this._setupConfigForImage({ elNode: this._imgPreview });\n        this.appendChild(this._imgPreview);\n      }\n\n      this.initIntersection(this.currentImg.img, async () => {\n        if (this.hasPreviewImage) {\n          this._imgPreview.src = this.srcUrlPreview;\n        }\n\n        try {\n          await this.loaderImage({\n            src: this.getSrc(),\n            srcset: this.getSrcset(),\n            elNode: this._img,\n          });\n\n          if (this.hasPreviewImage) {\n            await this._imgPreview.remove();\n          }\n\n          this.appendChild(this._img);\n        } catch (e) {\n          if (this.hasPreviewImage) {\n            await this._imgPreview?.remove();\n          }\n          this.appendChild(this._img);\n        }\n      });\n\n      return;\n    }\n\n    try {\n      if (this.hasPreviewImage) {\n        await this.loaderImage({\n          src: this.srcUrlPreview,\n          elNode: this._imgPreview,\n        });\n\n        this.appendChild(this._imgPreview);\n      }\n\n      await this.loaderImage({\n        src: this.getSrc(),\n        srcset: this.getSrcset(),\n        elNode: this._img,\n      });\n\n      if (this.hasPreviewImage) {\n        await this._imgPreview?.remove();\n      }\n\n      this.appendChild(this._img);\n    } catch (e) {\n      if (this.hasPreviewImage) {\n        await this._imgPreview?.remove();\n      }\n      this.appendChild(this._img);\n    }\n  }\n\n  init() {\n    if (this.bgSelector) {\n      this.renderBackground();\n    } else {\n      this.renderImage();\n    }\n  }\n}\n","export const parseObjectToString = (params) =>\n  Object.entries(params)\n    .filter(([key, value]) => value !== undefined && value !== '')\n    .map(([key, value]) => {\n      if (key === 'cdn-operations') {\n        return value;\n      }\n      if (key === 'analytics') {\n        return value;\n      }\n\n      return `${key}/${value}`;\n    });\n","import { ImgBase } from './ImgBase.js';\n\nexport class Img extends ImgBase {\n  initCallback() {\n    super.initCallback();\n\n    this.sub$$('src', () => {\n      this.init();\n    });\n\n    this.sub$$('uuid', () => {\n      this.init();\n    });\n\n    this.sub$$('lazy', (val) => {\n      if (!this.$$('is-background-for') && !this.$$('is-preview-blur')) {\n        this.img.loading = val ? 'lazy' : 'eager';\n      }\n    });\n  }\n}\n","// @ts-check\nimport { UploaderBlock } from '../../abstract/UploaderBlock.js';\nimport { asBoolean } from '../Config/normalizeConfigValue.js';\n\nexport class SimpleBtn extends UploaderBlock {\n  couldBeCtxOwner = true;\n  constructor() {\n    super();\n\n    this.init$ = {\n      ...this.init$,\n      withDropZone: true,\n      onClick: () => {\n        this.initFlow();\n      },\n      'button-text': '',\n    };\n  }\n\n  initCallback() {\n    super.initCallback();\n\n    this.defineAccessor(\n      'dropzone',\n      /** @param {unknown} val */\n      (val) => {\n        if (typeof val === 'undefined') {\n          return;\n        }\n        this.$.withDropZone = asBoolean(val);\n      },\n    );\n    this.subConfigValue('multiple', (val) => {\n      this.$['button-text'] = val ? 'upload-files' : 'upload-file';\n    });\n  }\n}\n\nSimpleBtn.template = /* HTML */ `\n  <lr-drop-area set=\"@disabled: !withDropZone\">\n    <button type=\"button\" set=\"onclick: onClick\">\n      <lr-icon name=\"upload\"></lr-icon>\n      <span l10n=\"button-text\"></span>\n      <slot></slot>\n      <div class=\"visual-drop-area\" l10n=\"drop-files-here\"></div>\n    </button>\n  </lr-drop-area>\n`;\n\nSimpleBtn.bindAttributes({\n  // @ts-expect-error TODO: we need to update symbiote types\n  dropzone: null,\n});\n","import { ActivityBlock } from '../../abstract/ActivityBlock.js';\n\nexport class StartFrom extends ActivityBlock {\n  historyTracked = true;\n  /** @type {import('../../abstract/ActivityBlock.js').ActivityType} */\n  activityType = 'start-from';\n\n  initCallback() {\n    super.initCallback();\n    this.registerActivity(this.activityType);\n  }\n}\n\nStartFrom.template = /* HTML */ ` <div class=\"content\"><slot></slot></div> `;\n","// @ts-check\n\n/**\n * @typedef {{\n *       type: 'file';\n *       file: File;\n *       fullPath?: string;\n *     }\n *   | {\n *       type: 'url';\n *       url: string;\n *     }} DropItem\n */\n\n/**\n * @param {File} file\n * @returns {Promise<boolean>}\n */\nfunction checkIsDirectory(file) {\n  return new Promise((resolve) => {\n    if (typeof window.FileReader !== 'function') {\n      resolve(false);\n    }\n\n    try {\n      let reader = new FileReader();\n      reader.onerror = () => {\n        resolve(true);\n      };\n      /** @param {Event} e */\n      let onLoad = (e) => {\n        if (e.type !== 'loadend') {\n          reader.abort();\n        }\n        resolve(false);\n      };\n      reader.onloadend = onLoad;\n      reader.onprogress = onLoad;\n\n      reader.readAsDataURL(file);\n    } catch (err) {\n      resolve(false);\n    }\n  });\n}\n\n/**\n * @param {FileSystemEntry} webkitEntry\n * @param {string} dataTransferItemType\n * @returns {Promise<DropItem[] | null>}\n */\nfunction readEntryContentAsync(webkitEntry, dataTransferItemType) {\n  return new Promise((resolve) => {\n    let reading = 0;\n    /** @type {DropItem[]} */\n    const dropItems = [];\n\n    /** @param {FileSystemEntry} entry */\n    const readEntry = (entry) => {\n      if (!entry) {\n        console.warn('Unexpectedly received empty content entry', { scope: 'drag-and-drop' });\n        resolve(null);\n      }\n      if (entry.isFile) {\n        reading++;\n        /** @type {FileSystemFileEntry} */ (entry).file((file) => {\n          reading--;\n          // webkitGetAsEntry don't provide type for HEIC images at least, so we use type value from dataTransferItem\n          const clonedFile = new File([file], file.name, { type: file.type || dataTransferItemType });\n          dropItems.push({\n            type: 'file',\n            file: clonedFile,\n            fullPath: entry.fullPath,\n          });\n\n          if (reading === 0) {\n            resolve(dropItems);\n          }\n        });\n      } else if (entry.isDirectory) {\n        readReaderContent(/** @type {FileSystemDirectoryEntry} */ (entry).createReader());\n      }\n    };\n\n    /** @param {FileSystemDirectoryReader} reader */\n    let readReaderContent = (reader) => {\n      reading++;\n\n      reader.readEntries((entries) => {\n        reading--;\n        for (let entry of entries) {\n          readEntry(entry);\n        }\n\n        if (reading === 0) {\n          resolve(dropItems);\n        }\n      });\n    };\n\n    readEntry(webkitEntry);\n  });\n}\n\n/**\n * Note: dataTransfer will be destroyed outside of the call stack. So, do not try to process it asynchronous.\n *\n * @param {DataTransfer} dataTransfer\n * @returns {Promise<DropItem[]>}\n */\nexport function getDropItems(dataTransfer) {\n  /** @type {DropItem[]} */\n  const dropItems = [];\n  const promises = [];\n  for (let i = 0; i < dataTransfer.items.length; i++) {\n    let item = dataTransfer.items[i];\n    if (!item) {\n      continue;\n    }\n    if (item.kind === 'file') {\n      const itemType = item.type;\n      if (typeof item.webkitGetAsEntry === 'function' || typeof (/** @type {any} */ (item).getAsEntry) === 'function') {\n        let entry =\n          typeof item.webkitGetAsEntry === 'function'\n            ? item.webkitGetAsEntry()\n            : /** @type {any} */ (item).getAsEntry();\n        promises.push(\n          readEntryContentAsync(entry, itemType).then((items) => {\n            if (items) {\n              dropItems.push(...items);\n            }\n          }),\n        );\n        continue;\n      }\n\n      const file = item.getAsFile();\n      file &&\n        promises.push(\n          checkIsDirectory(file).then((isDirectory) => {\n            if (isDirectory) {\n              // we can't get directory files, so we'll skip it\n            } else {\n              dropItems.push({\n                type: 'file',\n                file,\n              });\n            }\n          }),\n        );\n    } else if (item.kind === 'string' && item.type.match('^text/uri-list')) {\n      promises.push(\n        new Promise((resolve) => {\n          item.getAsString((value) => {\n            dropItems.push({\n              type: 'url',\n              url: value,\n            });\n            resolve(undefined);\n          });\n        }),\n      );\n    }\n  }\n\n  return Promise.all(promises).then(() => dropItems);\n}\n","import { getDropItems } from './getDropItems.js';\n\n/** @enum {Number} */\nexport const DropzoneState = {\n  ACTIVE: 0,\n  INACTIVE: 1,\n  NEAR: 2,\n  OVER: 3,\n};\n\nlet RESET_EVENTS = ['focus'];\nlet NEAR_OFFSET = 100;\nlet nearnessRegistry = new Map();\n\n/**\n * @param {[x: number, y: number]} p\n * @param {{ x: number; y: number; width: number; height: number }} r\n * @returns {number}\n */\nfunction distance(p, r) {\n  let cx = Math.max(Math.min(p[0], r.x + r.width), r.x);\n  let cy = Math.max(Math.min(p[1], r.y + r.height), r.y);\n\n  return Math.sqrt((p[0] - cx) * (p[0] - cx) + (p[1] - cy) * (p[1] - cy));\n}\n\n/**\n * @param {Object} desc\n * @param {HTMLElement} desc.element\n * @param {Function} desc.onChange\n * @param {Function} desc.onItems\n * @param {() => Boolean} desc.shouldIgnore\n */\nexport function addDropzone(desc) {\n  let eventCounter = 0;\n\n  let body = document.body;\n  let switchHandlers = new Set();\n  let handleSwitch = (fn) => switchHandlers.add(fn);\n  let state = DropzoneState.INACTIVE;\n\n  let setState = (newState) => {\n    if (desc.shouldIgnore() && newState !== DropzoneState.INACTIVE) {\n      return;\n    }\n    if (state !== newState) {\n      switchHandlers.forEach((fn) => fn(newState));\n    }\n    state = newState;\n  };\n\n  let isDragging = () => eventCounter > 0;\n\n  handleSwitch((newState) => desc.onChange(newState));\n\n  let onResetEvent = () => {\n    eventCounter = 0;\n    setState(DropzoneState.INACTIVE);\n  };\n  let onDragEnter = () => {\n    eventCounter += 1;\n    if (state === DropzoneState.INACTIVE) {\n      setState(DropzoneState.ACTIVE);\n    }\n  };\n  let onDragLeave = () => {\n    eventCounter -= 1;\n    if (!isDragging()) {\n      setState(DropzoneState.INACTIVE);\n    }\n  };\n  let onDrop = (e) => {\n    e.preventDefault();\n    eventCounter = 0;\n    setState(DropzoneState.INACTIVE);\n  };\n\n  let onDragOver = (e) => {\n    if (desc.shouldIgnore()) {\n      return;\n    }\n\n    if (!isDragging()) {\n      eventCounter += 1;\n    }\n\n    /** @type {[Number, Number]} */\n    let dragPoint = [e.x, e.y];\n    let targetRect = desc.element.getBoundingClientRect();\n    let nearness = Math.floor(distance(dragPoint, targetRect));\n    let isNear = nearness < NEAR_OFFSET;\n    let isOver = e.composedPath().includes(desc.element);\n\n    nearnessRegistry.set(desc.element, nearness);\n    let isNearest = Math.min(...nearnessRegistry.values()) === nearness;\n\n    if (isOver && isNearest) {\n      e.preventDefault();\n      setState(DropzoneState.OVER);\n    } else if (isNear && isNearest) {\n      setState(DropzoneState.NEAR);\n    } else {\n      setState(DropzoneState.ACTIVE);\n    }\n  };\n\n  let onElementDrop = async (e) => {\n    if (desc.shouldIgnore()) {\n      return;\n    }\n    e.preventDefault();\n    let items = await getDropItems(e.dataTransfer);\n    desc.onItems(items);\n    setState(DropzoneState.INACTIVE);\n  };\n\n  body.addEventListener('drop', onDrop);\n  body.addEventListener('dragleave', onDragLeave);\n  body.addEventListener('dragenter', onDragEnter);\n  body.addEventListener('dragover', onDragOver);\n  desc.element.addEventListener('drop', onElementDrop);\n  RESET_EVENTS.forEach((eventName) => {\n    window.addEventListener(eventName, onResetEvent);\n  });\n\n  return () => {\n    nearnessRegistry.delete(desc.element);\n    body.removeEventListener('drop', onDrop);\n    body.removeEventListener('dragleave', onDragLeave);\n    body.removeEventListener('dragenter', onDragEnter);\n    body.removeEventListener('dragover', onDragOver);\n    desc.element.removeEventListener('drop', onElementDrop);\n    RESET_EVENTS.forEach((eventName) => {\n      window.removeEventListener(eventName, onResetEvent);\n    });\n  };\n}\n","// @ts-check\n\nimport { Data } from '@symbiotejs/symbiote';\nimport { ActivityBlock } from '../../abstract/ActivityBlock.js';\nimport { UploaderBlock } from '../../abstract/UploaderBlock.js';\nimport { stringToArray } from '../../utils/stringToArray.js';\nimport { asBoolean } from '../Config/normalizeConfigValue.js';\nimport { UploadSource } from '../utils/UploadSource.js';\nimport { DropzoneState, addDropzone } from './addDropzone.js';\n\nconst GLOBAL_CTX_NAME = 'lr-drop-area';\nconst REGISTRY_KEY = `${GLOBAL_CTX_NAME}/registry`;\n\nexport class DropArea extends UploaderBlock {\n  constructor() {\n    super();\n\n    this.init$ = {\n      ...this.init$,\n      state: DropzoneState.INACTIVE,\n      withIcon: false,\n      isClickable: false,\n      isFullscreen: false,\n      isEnabled: true,\n      isVisible: true,\n      text: '',\n      [REGISTRY_KEY]: null,\n    };\n  }\n\n  isActive() {\n    if (!this.$.isEnabled) {\n      return false;\n    }\n    const bounds = this.getBoundingClientRect();\n    const hasSize = bounds.width > 0 && bounds.height > 0;\n    const isInViewport =\n      bounds.top >= 0 &&\n      bounds.left >= 0 &&\n      bounds.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n      bounds.right <= (window.innerWidth || document.documentElement.clientWidth);\n\n    const style = window.getComputedStyle(this);\n    const visible = style.visibility !== 'hidden' && style.display !== 'none';\n\n    return hasSize && visible && isInViewport;\n  }\n\n  initCallback() {\n    super.initCallback();\n\n    this.bindL10n('text', () => this.l10n('drop-files-here'));\n\n    if (!this.$[REGISTRY_KEY]) {\n      this.$[REGISTRY_KEY] = new Set();\n    }\n    this.$[REGISTRY_KEY].add(this);\n\n    this.defineAccessor(\n      'disabled',\n      /** @param {unknown} value */ (value) => {\n        this.set$({ isEnabled: !asBoolean(value) });\n      },\n    );\n    this.defineAccessor(\n      'clickable',\n      /** @param {unknown} value */ (value) => {\n        this.set$({ isClickable: asBoolean(value) });\n      },\n    );\n    this.defineAccessor(\n      'with-icon',\n      /** @param {unknown} value */ (value) => {\n        this.set$({ withIcon: asBoolean(value) });\n      },\n    );\n    this.defineAccessor(\n      'fullscreen',\n      /** @param {unknown} value */ (value) => {\n        this.set$({ isFullscreen: asBoolean(value) });\n      },\n    );\n\n    this.defineAccessor(\n      'text',\n      /** @param {unknown} value */ (value) => {\n        if (typeof value === 'string') {\n          this.bindL10n('text', () => this.l10n(value) || value);\n        } else {\n          this.bindL10n('text', () => this.l10n('drop-files-here'));\n        }\n      },\n    );\n\n    /** @private */\n    this._destroyDropzone = addDropzone({\n      element: this,\n      shouldIgnore: () => this._shouldIgnore(),\n      /** @param {DropzoneState} state */\n      onChange: (state) => {\n        this.$.state = state;\n      },\n      /** @param {import('./getDropItems.js').DropItem[]} items */\n      onItems: (items) => {\n        if (!items.length) {\n          return;\n        }\n\n        items.forEach((/** @type {import('./getDropItems.js').DropItem} */ item) => {\n          if (item.type === 'url') {\n            this.addFileFromUrl(item.url, { source: UploadSource.DROP_AREA });\n          } else if (item.type === 'file') {\n            this.addFileFromObject(item.file, { source: UploadSource.DROP_AREA, fullPath: item.fullPath });\n          }\n        });\n        if (this.uploadCollection.size) {\n          this.set$({\n            '*currentActivity': ActivityBlock.activities.UPLOAD_LIST,\n          });\n          this.setOrAddState('*modalActive', true);\n        }\n      },\n    });\n\n    let contentWrapperEl = this.ref['content-wrapper'];\n    if (contentWrapperEl) {\n      this._destroyContentWrapperDropzone = addDropzone({\n        element: contentWrapperEl,\n        /** @param {DropzoneState} state */\n        onChange: (state) => {\n          const stateText = Object.entries(DropzoneState)\n            .find(([, value]) => value === state)?.[0]\n            .toLowerCase();\n          stateText && contentWrapperEl.setAttribute('drag-state', stateText);\n        },\n        onItems: () => {},\n        shouldIgnore: () => this._shouldIgnore(),\n      });\n    }\n\n    this.sub('state', (state) => {\n      const stateText = Object.entries(DropzoneState)\n        .find(([, value]) => value === state)?.[0]\n        .toLowerCase();\n      if (stateText) {\n        this.setAttribute('drag-state', stateText);\n      }\n    });\n\n    this.subConfigValue('sourceList', (value) => {\n      const list = stringToArray(value);\n      // Enable drop area if local files are allowed\n      this.$.isEnabled = list.includes(UploaderBlock.sourceTypes.LOCAL);\n      // Show drop area if it's enabled or default slot is overrided\n      this.$.isVisible = this.$.isEnabled || !this.querySelector('[data-default-slot]');\n    });\n\n    this.sub('isVisible', (value) => {\n      this.toggleAttribute('hidden', !value);\n    });\n\n    this.sub('isClickable', (value) => {\n      this.toggleAttribute('clickable', value);\n    });\n\n    if (this.$.isClickable) {\n      // @private\n      this._onAreaClicked = () => {\n        this.openSystemDialog();\n      };\n      this.addEventListener('click', this._onAreaClicked);\n    }\n  }\n\n  /**\n   * Ignore drop events if there are other visible drop areas on the page\n   *\n   * @private\n   * @returns {Boolean}\n   */\n  _shouldIgnore() {\n    if (!this.$.isEnabled) {\n      return true;\n    }\n    if (!this._couldHandleFiles()) {\n      return true;\n    }\n    if (!this.$.isFullscreen) {\n      return false;\n    }\n    const otherTargets = [...this.$[REGISTRY_KEY]].filter((el) => el !== this);\n    const activeTargets = otherTargets.filter((/** @type {typeof this} */ el) => {\n      return el.isActive();\n    });\n    return activeTargets.length > 0;\n  }\n\n  /** @private */\n  _couldHandleFiles() {\n    let isMultiple = this.cfg.multiple;\n    let multipleMax = this.cfg.multipleMax;\n    let currentFilesCount = this.uploadCollection.size;\n\n    if (isMultiple && multipleMax && currentFilesCount >= multipleMax) {\n      return false;\n    }\n\n    if (!isMultiple && currentFilesCount > 0) {\n      return false;\n    }\n\n    return true;\n  }\n\n  destroyCallback() {\n    super.destroyCallback();\n\n    /** @type {Set<DropArea>} */\n    const registry = this.$[REGISTRY_KEY];\n    if (registry) {\n      registry.delete(this);\n      if (registry.size === 0) {\n        Data.deleteCtx(GLOBAL_CTX_NAME);\n      }\n    }\n\n    this._destroyDropzone?.();\n    this._destroyContentWrapperDropzone?.();\n    if (this._onAreaClicked) {\n      this.removeEventListener('click', this._onAreaClicked);\n    }\n  }\n}\n\nDropArea.template = /* HTML */ `\n  <slot>\n    <div data-default-slot hidden></div>\n    <div ref=\"content-wrapper\" class=\"content-wrapper\" set=\"@hidden: !isVisible\">\n      <div class=\"icon-container\" set=\"@hidden: !withIcon\">\n        <lr-icon name=\"default\"></lr-icon>\n        <lr-icon name=\"arrow-down\"></lr-icon>\n      </div>\n      <span class=\"text\">{{text}}</span>\n    </div>\n  </slot>\n`;\n\nDropArea.bindAttributes({\n  // @ts-expect-error TODO: fix types inside symbiote\n  'with-icon': null,\n  // @ts-expect-error TODO: fix types inside symbiote\n  clickable: null,\n  // @ts-expect-error TODO: fix types inside symbiote\n  text: null,\n  // @ts-expect-error TODO: fix types inside symbiote\n  fullscreen: null,\n  // @ts-expect-error TODO: fix types inside symbiote\n  disabled: null,\n});\n","// @ts-check\nimport { UploaderBlock } from '../../abstract/UploaderBlock.js';\nimport { ActivityBlock } from '../../abstract/ActivityBlock.js';\n\nconst L10N_PREFIX = 'src-type-';\n\n/**\n * @typedef {{\n *   type: string;\n *   activity?: string;\n *   textKey?: string;\n *   icon?: string;\n *   activate?: () => boolean;\n *   activityParams?: Record<string, unknown>;\n * }} TConfig\n */\n\nexport class SourceBtn extends UploaderBlock {\n  couldBeCtxOwner = true;\n  /** @type {string | undefined} */\n  type = undefined;\n  /**\n   * @private\n   * @type {Record<string, TConfig>}\n   */\n  _registeredTypes = {};\n\n  constructor() {\n    super();\n\n    this.init$ = {\n      ...this.init$,\n      iconName: 'default',\n      'src-type': '',\n    };\n  }\n\n  initTypes() {\n    this.registerType({\n      type: UploaderBlock.sourceTypes.LOCAL,\n      activate: () => {\n        this.openSystemDialog();\n        return false;\n      },\n    });\n    this.registerType({\n      type: UploaderBlock.sourceTypes.URL,\n      activity: ActivityBlock.activities.URL,\n      textKey: 'from-url',\n    });\n    this.registerType({\n      type: UploaderBlock.sourceTypes.CAMERA,\n      activity: ActivityBlock.activities.CAMERA,\n      activate: () => {\n        const supportsCapture = 'capture' in document.createElement('input');\n        if (supportsCapture) {\n          this.openSystemDialog({ captureCamera: true });\n        }\n        return !supportsCapture;\n      },\n    });\n    this.registerType({\n      type: 'draw',\n      activity: ActivityBlock.activities.DRAW,\n      icon: 'edit-draw',\n    });\n\n    for (let externalSourceType of Object.values(UploaderBlock.extSrcList)) {\n      this.registerType({\n        type: externalSourceType,\n        activity: ActivityBlock.activities.EXTERNAL,\n        activityParams: {\n          externalSourceType: externalSourceType,\n        },\n      });\n    }\n  }\n\n  initCallback() {\n    super.initCallback();\n    this.initTypes();\n\n    this.setAttribute('role', 'button');\n    this.defineAccessor(\n      'type',\n      /** @param {string} val */\n      (val) => {\n        if (!val) {\n          return;\n        }\n        this.applyType(val);\n      },\n    );\n  }\n\n  /** @param {TConfig} typeConfig */\n  registerType(typeConfig) {\n    this._registeredTypes[typeConfig.type] = typeConfig;\n  }\n\n  /** @param {string} type */\n  getType(type) {\n    return this._registeredTypes[type];\n  }\n\n  activate() {\n    if (!this.type) {\n      return;\n    }\n    const configType = this._registeredTypes[this.type];\n    const { activity, activate, activityParams = {} } = configType;\n    const showActivity = activate ? activate() : !!activity;\n    showActivity &&\n      this.set$({\n        '*currentActivityParams': activityParams,\n        '*currentActivity': activity,\n      });\n  }\n\n  /** @param {string} type */\n  applyType(type) {\n    const configType = this._registeredTypes[type];\n    if (!configType) {\n      console.warn('Unsupported source type: ' + type);\n      return;\n    }\n    const { textKey = type, icon = type } = configType;\n\n    this.$['src-type'] = `${L10N_PREFIX}${textKey}`;\n    this.$.iconName = icon;\n    this.onclick = () => {\n      this.activate();\n    };\n  }\n}\nSourceBtn.template = /* HTML */ `\n  <lr-icon set=\"@name: iconName\"></lr-icon>\n  <div class=\"txt\" l10n=\"src-type\"></div>\n`;\nSourceBtn.bindAttributes({\n  // @ts-expect-error symbiote types bug\n  type: null,\n});\n","import { Block } from '../../abstract/Block.js';\nimport { stringToArray } from '../../utils/stringToArray.js';\n\nexport class SourceList extends Block {\n  initCallback() {\n    super.initCallback();\n    this.subConfigValue('sourceList', (/** @type {String} */ val) => {\n      let list = stringToArray(val);\n      let html = '';\n      list.forEach((srcName) => {\n        html += /* HTML */ `<lr-source-btn type=\"${srcName}\"></lr-source-btn>`;\n      });\n      if (this.cfg.sourceListWrap) {\n        this.innerHTML = html;\n      } else {\n        this.outerHTML = html;\n      }\n    });\n  }\n}\n","// TODO: unwrap promises\nconst readJpegChunks = () => {\n    const stack = [];\n    const promiseReadJpegChunks = (blob) => new Promise((resolve, reject) => {\n        let pos = 2;\n        const readToView = (blob, cb) => {\n            const reader = new FileReader();\n            reader.addEventListener('load', () => {\n                cb(new DataView(reader.result));\n            });\n            reader.addEventListener('error', (e) => {\n                reject(`Reader error: ${e}`);\n            });\n            reader.readAsArrayBuffer(blob);\n        };\n        const readNext = () => readToView(blob.slice(pos, pos + 128), (view) => {\n            let i, j, ref;\n            for (i = j = 0, ref = view.byteLength; ref >= 0 ? j < ref : j > ref; i = ref >= 0 ? ++j : --j) {\n                if (view.getUint8(i) === 0xff) {\n                    pos += i;\n                    break;\n                }\n            }\n            readNextChunk();\n        });\n        const readNextChunk = () => {\n            const startPos = pos;\n            return readToView(blob.slice(pos, (pos += 4)), (view) => {\n                if (view.byteLength !== 4 || view.getUint8(0) !== 0xff) {\n                    reject('Corrupted');\n                    return;\n                }\n                const marker = view.getUint8(1);\n                if (marker === 0xda) {\n                    resolve(true);\n                    return;\n                }\n                const length = view.getUint16(2) - 2;\n                return readToView(blob.slice(pos, (pos += length)), (view) => {\n                    if (view.byteLength !== length) {\n                        reject('Corrupted');\n                        return;\n                    }\n                    stack.push({ startPos, length, marker, view });\n                    readNext();\n                });\n            });\n        };\n        if (!(FileReader && DataView)) {\n            reject('Not Support');\n        }\n        readToView(blob.slice(0, 2), (view) => {\n            if (view.getUint16(0) !== 0xffd8) {\n                reject('Not jpeg');\n            }\n            readNext();\n        });\n    });\n    return {\n        stack,\n        promiseReadJpegChunks\n    };\n};\n\nconst getIccProfile = async (blob) => {\n    const iccProfile = [];\n    const { promiseReadJpegChunks, stack } = readJpegChunks();\n    await promiseReadJpegChunks(blob);\n    stack.forEach(({ marker, view }) => {\n        if (marker === 0xe2) {\n            if (\n            // check for \"ICC_PROFILE\\0\"\n            view.getUint32(0) === 0x4943435f &&\n                view.getUint32(4) === 0x50524f46 &&\n                view.getUint32(8) === 0x494c4500) {\n                iccProfile.push(view);\n            }\n        }\n    });\n    return iccProfile;\n};\n\nconst replaceJpegChunk = async (blob, marker, chunks) => {\n    {\n        const oldChunkPos = [];\n        const oldChunkLength = [];\n        const { promiseReadJpegChunks, stack } = readJpegChunks();\n        await promiseReadJpegChunks(blob);\n        stack.forEach((chunk) => {\n            if (chunk.marker === marker) {\n                oldChunkPos.push(chunk.startPos);\n                return oldChunkLength.push(chunk.length);\n            }\n        });\n        const newChunks = [blob.slice(0, 2)];\n        for (const chunk of chunks) {\n            const intro = new DataView(new ArrayBuffer(4));\n            intro.setUint16(0, 0xff00 + marker);\n            intro.setUint16(2, chunk.byteLength + 2);\n            newChunks.push(intro.buffer);\n            newChunks.push(chunk);\n        }\n        let pos = 2;\n        for (let i = 0; i < oldChunkPos.length; i++) {\n            if (oldChunkPos[i] > pos) {\n                newChunks.push(blob.slice(pos, oldChunkPos[i]));\n            }\n            pos = oldChunkPos[i] + oldChunkLength[i] + 4;\n        }\n        newChunks.push(blob.slice(pos, blob.size));\n        return new Blob(newChunks, {\n            type: blob.type\n        });\n    }\n};\n\nconst MARKER = 0xe2;\nconst replaceIccProfile = (blob, iccProfiles) => {\n    return replaceJpegChunk(blob, MARKER, iccProfiles.map((chunk) => chunk.buffer));\n};\n\nconst stripIccProfile = async (blob) => {\n    try {\n        return await replaceIccProfile(blob, []);\n    }\n    catch (e) {\n        throw new Error(`Failed to strip ICC profile: ${e}`);\n    }\n};\n\nconst canvasToBlob = (canvas, type, quality) => {\n    return new Promise((resolve, reject) => {\n        const callback = (blob) => {\n            if (!blob) {\n                reject('Failed to convert canvas to blob');\n                return;\n            }\n            resolve(blob);\n        };\n        canvas.toBlob(callback, type, quality);\n        canvas.width = canvas.height = 1;\n    });\n};\n\nconst createCanvas = () => {\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    return {\n        canvas,\n        ctx\n    };\n};\n\nconst hasTransparency = (img) => {\n    const canvasSize = 50;\n    // Create a canvas element and get 2D rendering context\n    const { ctx, canvas } = createCanvas();\n    canvas.width = canvas.height = canvasSize;\n    // Draw the image onto the canvas\n    ctx.drawImage(img, 0, 0, canvasSize, canvasSize);\n    // Get the image data\n    const imageData = ctx.getImageData(0, 0, canvasSize, canvasSize).data;\n    // Reset the canvas dimensions\n    canvas.width = canvas.height = 1;\n    // Check for transparency in the alpha channel\n    for (let i = 3; i < imageData.length; i += 4) {\n        if (imageData[i] < 254) {\n            return true;\n        }\n    }\n    // No transparency found\n    return false;\n};\n\nconst getExif = async (blob) => {\n    let exif = null;\n    const { promiseReadJpegChunks, stack } = readJpegChunks();\n    await promiseReadJpegChunks(blob);\n    stack.forEach(({ marker, view }) => {\n        if (!exif && marker === 0xe1) {\n            if (view.byteLength >= 14) {\n                if (\n                // check for \"Exif\\0\"\n                view.getUint32(0) === 0x45786966 &&\n                    view.getUint16(4) === 0) {\n                    exif = view;\n                    return;\n                }\n            }\n        }\n    });\n    return exif;\n};\n\n// 2x1 pixel image 90CW rotated with orientation header\nconst base64ImageSrc = 'data:image/jpg;base64,' +\n    '/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEo' +\n    'AAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////' +\n    '////////////////////////////////////////////////////////wAALCAABAAIBASIA' +\n    '/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k=';\nlet isApplied = undefined;\nconst isBrowserApplyExifOrientation = () => {\n    return new Promise((resolve) => {\n        if (isApplied !== undefined) {\n            resolve(isApplied);\n        }\n        else {\n            const image = new Image();\n            image.addEventListener('load', () => {\n                isApplied = image.naturalWidth < image.naturalHeight;\n                image.src = '//:0';\n                resolve(isApplied);\n            });\n            image.src = base64ImageSrc;\n        }\n    });\n};\n\nconst findExifOrientation = (exif, exifCallback) => {\n    let j, little, offset, ref;\n    if (!exif ||\n        exif.byteLength < 14 ||\n        exif.getUint32(0) !== 0x45786966 ||\n        exif.getUint16(4) !== 0) {\n        return;\n    }\n    if (exif.getUint16(6) === 0x4949) {\n        little = true;\n    }\n    else if (exif.getUint16(6) === 0x4d4d) {\n        little = false;\n    }\n    else {\n        return;\n    }\n    if (exif.getUint16(8, little) !== 0x002a) {\n        return;\n    }\n    offset = 8 + exif.getUint32(10, little);\n    const count = exif.getUint16(offset - 2, little);\n    for (j = 0, ref = count; ref >= 0 ? j < ref : j > ref; ref >= 0 ? ++j : --j) {\n        if (exif.byteLength < offset + 10) {\n            return;\n        }\n        if (exif.getUint16(offset, little) === 0x0112) {\n            exifCallback(offset + 8, little);\n        }\n        offset += 12;\n    }\n};\n\nconst setExifOrientation = (exif, orientation) => {\n    findExifOrientation(exif, (offset, littleEndian) => exif.setUint16(offset, orientation, littleEndian));\n};\nconst replaceExif = async (blob, exif, isExifApplied) => {\n    if (isExifApplied) {\n        setExifOrientation(exif, 1);\n    }\n    return replaceJpegChunk(blob, 0xe1, [exif.buffer]);\n};\n\nconst processImage = (image, src) => {\n    return new Promise((resolve, reject) => {\n        if (src) {\n            image.src = src;\n        }\n        if (image.complete) {\n            resolve(image);\n        }\n        else {\n            image.addEventListener('load', () => {\n                resolve(image);\n            });\n            image.addEventListener('error', () => {\n                reject(new Error('Failed to load image. Probably not an image.'));\n            });\n        }\n    });\n};\nconst imageLoader = (image) => {\n    return processImage(new Image(), image);\n};\n\nconst allowLayers = [\n    1, // L (black-white)\n    3 // RGB\n];\n\nconst markers = [\n    0xc0, // (\"SOF0\", \"Baseline DCT\", SOF)\n    0xc1, // (\"SOF1\", \"Extended Sequential DCT\", SOF)\n    0xc2, // (\"SOF2\", \"Progressive DCT\", SOF)\n    0xc3, // (\"SOF3\", \"Spatial lossless\", SOF)\n    0xc5, // (\"SOF5\", \"Differential sequential DCT\", SOF)\n    0xc6, // (\"SOF6\", \"Differential progressive DCT\", SOF)\n    0xc7, // (\"SOF7\", \"Differential spatial\", SOF)\n    0xc9, // (\"SOF9\", \"Extended sequential DCT (AC)\", SOF)\n    0xca, // (\"SOF10\", \"Progressive DCT (AC)\", SOF)\n    0xcb, // (\"SOF11\", \"Spatial lossless DCT (AC)\", SOF)\n    0xcd, // (\"SOF13\", \"Differential sequential DCT (AC)\", SOF)\n    0xce, // (\"SOF14\", \"Differential progressive DCT (AC)\", SOF)\n    0xcf // (\"SOF15\", \"Differential spatial (AC)\", SOF)\n];\n\nconst sizes = {\n    squareSide: [\n        // Safari (iOS < 9, ram >= 256)\n        // We are supported mobile safari < 9 since widget v2, by 5 Mpx limit\n        // so it's better to continue support despite the absence of this browser in the support table\n        Math.floor(Math.sqrt(5 * 1000 * 1000)),\n        // IE Mobile (Windows Phone 8.x)\n        // Safari (iOS >= 9)\n        4096,\n        // IE 9 (Win)\n        8192,\n        // Firefox 63 (Mac, Win)\n        11180,\n        // Chrome 68 (Android 6)\n        10836,\n        // Chrome 68 (Android 5)\n        11402,\n        // Chrome 68 (Android 7.1-9)\n        14188,\n        // Chrome 70 (Mac, Win)\n        // Chrome 68 (Android 4.4)\n        // Edge 17 (Win)\n        // Safari 7-12 (Mac)\n        16384\n    ],\n    dimension: [\n        // IE Mobile (Windows Phone 8.x)\n        4096,\n        // IE 9 (Win)\n        8192,\n        // Edge 17 (Win)\n        // IE11 (Win)\n        16384,\n        // Chrome 70 (Mac, Win)\n        // Chrome 68 (Android 4.4-9)\n        // Firefox 63 (Mac, Win)\n        32767,\n        // Chrome 83 (Mac, Win)\n        // Safari 7-12 (Mac)\n        // Safari (iOS 9-12)\n        // Actually Safari has a much bigger limits - 4194303 of width and 8388607 of height,\n        // but we will not use them\n        65535\n    ]\n};\n\nconst shouldSkipShrink = async (blob) => {\n    let skip = false;\n    const { promiseReadJpegChunks, stack } = readJpegChunks();\n    return await promiseReadJpegChunks(blob)\n        .then(() => {\n        stack.forEach(({ marker, view }) => {\n            if (!skip && markers.indexOf(marker) >= 0) {\n                const layer = view.getUint8(5);\n                if (allowLayers.indexOf(layer) < 0) {\n                    skip = true;\n                }\n            }\n        });\n        return skip;\n    })\n        .catch(() => skip);\n};\n\nconst memoize = (fn, serializer) => {\n    const cache = {};\n    return (...args) => {\n        const key = serializer(args, cache);\n        return key in cache ? cache[key] : (cache[key] = fn(...args));\n    };\n};\n/**\n * Memoization key serealizer, that prevents unnecessary canvas tests. No need\n * to make test if we know that:\n *\n * - Browser supports higher canvas size\n * - Browser doesn't support lower canvas size\n */\nconst memoKeySerializer = (args, cache) => {\n    const [w] = args;\n    const cachedWidths = Object.keys(cache)\n        .map((val) => parseInt(val, 10))\n        .sort((a, b) => a - b);\n    for (let i = 0; i < cachedWidths.length; i++) {\n        const cachedWidth = cachedWidths[i];\n        const isSupported = !!cache[cachedWidth];\n        // higher supported canvas size, return it\n        if (cachedWidth > w && isSupported) {\n            return cachedWidth;\n        }\n        // lower unsupported canvas size, return it\n        if (cachedWidth < w && !isSupported) {\n            return cachedWidth;\n        }\n    }\n    // use canvas width as the key,\n    // because we're doing dimension test by width - [dimension, 1]\n    return w;\n};\n\n// add constants\nconst TestPixel = {\n    R: 55,\n    G: 110,\n    B: 165,\n    A: 255\n};\nconst FILL_STYLE = `rgba(${TestPixel.R}, ${TestPixel.G}, ${TestPixel.B}, ${TestPixel.A / 255})`;\nconst canvasTest = (width, height) => {\n    try {\n        const fill = [width - 1, height - 1, 1, 1]; // x, y, width, height\n        const { canvas: cropCvs, ctx: cropCtx } = createCanvas();\n        cropCvs.width = 1;\n        cropCvs.height = 1;\n        const { canvas: testCvs, ctx: testCtx } = createCanvas();\n        testCvs.width = width;\n        testCvs.height = height;\n        if (testCtx) {\n            testCtx.fillStyle = FILL_STYLE;\n            testCtx.fillRect(...fill);\n            // Render the test pixel in the bottom-right corner of the\n            // test canvas in the top-left of the 1x1 crop canvas. This\n            // dramatically reducing the time for getImageData to complete.\n            cropCtx.drawImage(testCvs, width - 1, height - 1, 1, 1, 0, 0, 1, 1);\n        }\n        const imageData = cropCtx && cropCtx.getImageData(0, 0, 1, 1).data;\n        let isTestPass = false;\n        if (imageData) {\n            // On IE10, imageData have type CanvasPixelArray, not Uint8ClampedArray.\n            // CanvasPixelArray supports index access operations only.\n            // Array buffers can't be destructuredd and compared with JSON.stringify\n            isTestPass =\n                imageData[0] === TestPixel.R &&\n                    imageData[1] === TestPixel.G &&\n                    imageData[2] === TestPixel.B &&\n                    imageData[3] === TestPixel.A;\n        }\n        testCvs.width = testCvs.height = 1;\n        return isTestPass;\n    }\n    catch (e) {\n        console.error(`Failed to test for max canvas size of ${width}x${height}.`);\n        return false;\n    }\n};\n\nfunction wrapAsync(fn) {\n    return (...args) => {\n        return new Promise((resolve) => {\n            setTimeout(() => {\n                const result = fn(...args);\n                resolve(result);\n            }, 0);\n        });\n    };\n}\nconst squareTest = wrapAsync(memoize(canvasTest, memoKeySerializer));\nconst dimensionTest = wrapAsync(memoize(canvasTest, memoKeySerializer));\nconst testCanvasSize = async (w, h) => {\n    const testSquareSide = sizes.squareSide.find((side) => side * side >= w * h);\n    const testDimension = sizes.dimension.find((side) => side >= w && side >= h);\n    if (!testSquareSide || !testDimension) {\n        throw new Error('Not supported');\n    }\n    const [squareSupported, dimensionSupported] = await Promise.all([\n        squareTest(testSquareSide, testSquareSide),\n        dimensionTest(testDimension, 1)\n    ]);\n    if (squareSupported && dimensionSupported) {\n        return true;\n    }\n    else {\n        throw new Error('Not supported');\n    }\n};\n\nconst canvasResize = async (img, w, h) => {\n    try {\n        const { ctx, canvas } = createCanvas();\n        canvas.width = w;\n        canvas.height = h;\n        ctx.imageSmoothingQuality = 'high';\n        ctx.drawImage(img, 0, 0, w, h);\n        if (img instanceof HTMLImageElement) {\n            img.src = '//:0'; // free memory\n        }\n        if (img instanceof HTMLCanvasElement) {\n            img.width = img.height = 1; // free memory\n        }\n        return canvas;\n    }\n    catch (e) {\n        throw new Error('Canvas resize error', { cause: e });\n    }\n};\n\n/**\n * Native high-quality canvas resampling\n *\n * Browser support:\n * https://caniuse.com/mdn-api_canvasrenderingcontext2d_imagesmoothingenabled\n * Target dimensions expected to be supported by browser.\n */\nconst native = ({ img, targetW, targetH }) => canvasResize(img, targetW, targetH);\n\n/**\n * Goes from target to source by step, the last incomplete step is dropped.\n * Always returns at least one step - target. Source step is not included.\n * Sorted descending.\n *\n * Example with step = 0.71, source = 2000, target = 400 400 (target) <- 563 <-\n * 793 <- 1117 <- 1574 (dropped) <- [2000 (source)]\n */\nconst calcShrinkSteps = function ({ sourceW, targetW, targetH, step }) {\n    const steps = [];\n    let sW = targetW;\n    let sH = targetH;\n    // result should include at least one target step,\n    // even if abs(source - target) < step * source\n    // just to be sure nothing will break\n    // if the original resolution / target resolution condition changes\n    do {\n        steps.push([sW, sH]);\n        sW = Math.round(sW / step);\n        sH = Math.round(sH / step);\n    } while (sW < sourceW * step);\n    return steps.reverse();\n};\n/**\n * Fallback resampling algorithm\n *\n * Reduces dimensions by step until reaches target dimensions, this gives a\n * better output quality than one-step method\n *\n * Target dimensions expected to be supported by browser, unsupported steps will\n * be dropped.\n */\nconst fallback = ({ img, sourceW, targetW, targetH, step }) => {\n    const steps = calcShrinkSteps({ sourceW, targetW, targetH, step });\n    return steps.reduce((chain, [w, h]) => {\n        return chain.then((canvas) => {\n            return (testCanvasSize(w, h)\n                .then(() => canvasResize(canvas, w, h))\n                // Here we assume that at least one step will be supported and HTMLImageElement will be converted to HTMLCanvasElement\n                .catch(() => canvas));\n        });\n    }, Promise.resolve(img));\n};\n\nconst isIOS = () => {\n    if (/iPad|iPhone|iPod/.test(navigator.platform)) {\n        return true;\n    }\n    else {\n        return (navigator.maxTouchPoints &&\n            navigator.maxTouchPoints > 2 &&\n            /MacIntel/.test(navigator.platform));\n    }\n};\nconst isIpadOS = navigator.maxTouchPoints &&\n    navigator.maxTouchPoints > 2 &&\n    /MacIntel/.test(navigator.platform);\n\nconst STEP = 0.71; // should be > sqrt(0.5)\nconst shrinkImage = (img, settings) => {\n    // do not shrink image if original resolution / target resolution ratio falls behind 2.0\n    if (img.width * STEP * img.height * STEP < settings.size) {\n        throw new Error('Not required');\n    }\n    const sourceW = img.width;\n    const sourceH = img.height;\n    const ratio = sourceW / sourceH;\n    // target size shouldn't be greater than settings.size in any case\n    const targetW = Math.floor(Math.sqrt(settings.size * ratio));\n    const targetH = Math.floor(settings.size / Math.sqrt(settings.size * ratio));\n    // we test the last step because we can skip all intermediate steps\n    return testCanvasSize(targetW, targetH)\n        .then(() => {\n        const { ctx } = createCanvas();\n        const supportNative = 'imageSmoothingQuality' in ctx;\n        // native scaling on ios gives blurry results\n        // TODO: check if it's still true\n        const useNativeScaling = supportNative && !isIOS() && !isIpadOS;\n        return useNativeScaling\n            ? native({ img, targetW, targetH })\n            : fallback({ img, sourceW, targetW, targetH, step: STEP });\n    })\n        .catch(() => Promise.reject('Not supported'));\n};\n\nconst shrinkFile = async (inputBlob, settings) => {\n    try {\n        const shouldSkip = await shouldSkipShrink(inputBlob);\n        if (shouldSkip) {\n            throw new Error('Should skipped');\n        }\n        // Try to extract EXIF and ICC profile\n        const exifResults = await Promise.allSettled([\n            getExif(inputBlob),\n            isBrowserApplyExifOrientation(),\n            getIccProfile(inputBlob)\n        ]);\n        const isRejected = exifResults.some((result) => result.status === 'rejected');\n        // If any of the promises is rejected, this is not a JPEG image\n        const isJPEG = !isRejected;\n        const [exifResult, isExifOrientationAppliedResult, iccProfileResult] = exifResults;\n        // Load blob into the image\n        const inputBlobWithoutIcc = await stripIccProfile(inputBlob).catch(() => inputBlob);\n        const image = await imageLoader(URL.createObjectURL(inputBlobWithoutIcc));\n        URL.revokeObjectURL(image.src);\n        // Shrink the image\n        const canvas = await shrinkImage(image, settings);\n        let format = 'image/jpeg';\n        let quality = settings?.quality || 0.8;\n        if (!isJPEG && hasTransparency(canvas)) {\n            format = 'image/png';\n            quality = undefined;\n        }\n        // Convert canvas to blob\n        let newBlob = await canvasToBlob(canvas, format, quality);\n        // Set EXIF for the new blob\n        if (isJPEG && exifResult.status === 'fulfilled' && exifResult.value) {\n            const exif = exifResult.value;\n            const isExifOrientationApplied = isExifOrientationAppliedResult.status === 'fulfilled'\n                ? isExifOrientationAppliedResult.value\n                : false;\n            newBlob = await replaceExif(newBlob, exif, isExifOrientationApplied);\n            // TODO: should we continue shrink if failed to replace EXIF?\n            // .catch(() => newBlob)\n        }\n        // Set ICC profile for the new blob\n        if (isJPEG &&\n            iccProfileResult.status === 'fulfilled' &&\n            iccProfileResult.value.length > 0) {\n            newBlob = await replaceIccProfile(newBlob, iccProfileResult.value);\n            // TODO: should we continue shrink if failed to replace ICC?\n            // .catch(() => newBlob)\n        }\n        return newBlob;\n    }\n    catch (e) {\n        let message;\n        if (e instanceof Error) {\n            message = e.message;\n        }\n        if (typeof e === 'string') {\n            message = e;\n        }\n        throw new Error(`Failed to shrink image. ${message ? `Message: \"${message}\".` : ''}`, { cause: e });\n    }\n};\n\nexport { shrinkFile };\n","/**\n * @param {String} svg\n * @returns {String}\n */\nfunction createSvgBlobUrl(svg) {\n  let blob = new Blob([svg], {\n    type: 'image/svg+xml',\n  });\n  return URL.createObjectURL(blob);\n}\n\n/**\n * @param {String} [color1]\n * @param {String} [color2]\n * @returns {String}\n */\nexport function checkerboardCssBg(color1 = '#fff', color2 = 'rgba(0, 0, 0, .1)') {\n  return createSvgBlobUrl(/*svg*/ `<svg height=\"20\" width=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\">\n    <rect x=\"0\" y=\"0\" width=\"20\" height=\"20\" fill=\"${color1}\" />\n    <rect x=\"0\" y=\"0\" width=\"10\" height=\"10\" fill=\"${color2}\" />\n    <rect x=\"10\" y=\"10\" width=\"10\" height=\"10\" fill=\"${color2}\" />\n  </svg>`);\n}\n\n/**\n * @param {String} [color]\n * @returns {String}\n */\nexport function strokesCssBg(color = 'rgba(0, 0, 0, .1)') {\n  return createSvgBlobUrl(/*svg*/ `<svg height=\"10\" width=\"10\" viewBox=\"0 0 10 10\" xmlns=\"http://www.w3.org/2000/svg\">\n    <line x1=\"0\" y1=\"10\" x2=\"10\" y2=\"0\" stroke=\"${color}\" />\n  </svg>`);\n}\n\n/**\n * @param {String} [color]\n * @returns {String}\n */\nexport function fileCssBg(color = 'hsl(209, 21%, 65%)', width = 32, height = 32) {\n  return createSvgBlobUrl(/*svg*/ `\n  <svg width=\"${width}\" height=\"${height}\" viewBox=\"0 0 30 30\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path fill=\"currentColor\" fill-rule=\"evenodd\" fill=\"${color}\" d=\"M9.68848 8.70068C9.68848 8.42454 9.91233 8.20068 10.1885 8.20068H15.0885C15.2211 8.20068 15.3483 8.25336 15.442 8.34713L20.342 13.2471C20.4358 13.3409 20.4885 13.4681 20.4885 13.6007V21.3007C20.4885 21.5768 20.2646 21.8007 19.9885 21.8007H10.1885C9.91233 21.8007 9.68848 21.5768 9.68848 21.3007V8.70068ZM10.6885 9.20068V20.8007H19.4885V14.1007L15.0885 14.1007C14.8123 14.1007 14.5885 13.8768 14.5885 13.6007L14.5885 9.20068H10.6885ZM15.5885 9.90779L18.7814 13.1007L15.5885 13.1007L15.5885 9.90779Z\"/>\n  </svg>\n  `);\n}\n","/**\n * @param {File} imgFile\n * @param {Number} [size]\n */\nexport function generateThumb(imgFile, size = 40) {\n  if (imgFile.type === 'image/svg+xml') {\n    return URL.createObjectURL(imgFile);\n  }\n  let canvas = document.createElement('canvas');\n  let ctx = canvas.getContext('2d');\n  let img = new Image();\n  let promise = new Promise((resolve, reject) => {\n    img.onload = () => {\n      let ratio = img.height / img.width;\n      if (ratio > 1) {\n        canvas.width = size;\n        canvas.height = size * ratio;\n      } else {\n        canvas.height = size;\n        canvas.width = size / ratio;\n      }\n      ctx.fillStyle = 'rgb(240, 240, 240)';\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n      ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n      canvas.toBlob((blob) => {\n        if (!blob) {\n          reject();\n          return;\n        }\n        let url = URL.createObjectURL(blob);\n        resolve(url);\n      });\n    };\n    img.onerror = (err) => {\n      reject(err);\n    };\n  });\n  img.src = URL.createObjectURL(imgFile);\n  return promise;\n}\n","/** TODO parseShrink move to package @uploadcare/image-shrink */\n\nconst MAX_SQUARE_SIDE = 16384;\n\nconst regExpShrink = /^([0-9]+)x([0-9]+)(?:\\s+(\\d{1,2}|100)%)?$/i;\n\n/**\n * @param value\n * @returns {{ size: number; quality: number | undefined }}\n */\nexport const parseShrink = (value) => {\n  const terms = regExpShrink.exec(value?.toLocaleLowerCase()) || [];\n\n  if (!terms.length) {\n    return false;\n  }\n\n  const sizeShrink = terms[1] * terms[2];\n  const maxSize = MAX_SQUARE_SIDE * MAX_SQUARE_SIDE;\n\n  if (sizeShrink > maxSize) {\n    console.warn(\n      `Shrinked size can not be larger than ${Math.floor(maxSize / 1000 / 1000)}MP. ` +\n        `You have set ${terms[1]}x${terms[2]} (` +\n        `${Math.ceil(sizeShrink / 1000 / 100) / 10}MP).`,\n    );\n    return false;\n  }\n\n  return {\n    quality: terms[3] ? terms[3] / 100 : undefined,\n    size: sizeShrink,\n  };\n};\n","// @ts-check\nimport { CancelError, uploadFile } from '@uploadcare/upload-client';\nimport { shrinkFile } from '@uploadcare/image-shrink';\nimport { ActivityBlock } from '../../abstract/ActivityBlock.js';\nimport { UploaderBlock } from '../../abstract/UploaderBlock.js';\nimport { createCdnUrl, createCdnUrlModifiers, createOriginalUrl } from '../../utils/cdn-utils.js';\nimport { fileCssBg } from '../svg-backgrounds/svg-backgrounds.js';\nimport { debounce } from '../utils/debounce.js';\nimport { generateThumb } from '../utils/resizeImage.js';\nimport { parseShrink } from '../../utils/parseShrink.js';\n\nconst FileItemState = Object.freeze({\n  FINISHED: Symbol(0),\n  FAILED: Symbol(1),\n  UPLOADING: Symbol(2),\n  IDLE: Symbol(3),\n});\n\nexport class FileItem extends UploaderBlock {\n  couldBeCtxOwner = true;\n  pauseRender = true;\n\n  /** @private */\n  _entrySubs = new Set();\n  /**\n   * @private\n   * @type {any} TODO: Add types for upload entry\n   */\n  _entry = null;\n  /** @private */\n  _isIntersecting = false;\n  /** @private */\n  _debouncedGenerateThumb = debounce(this._generateThumbnail.bind(this), 100);\n  /** @private */\n  _debouncedCalculateState = debounce(this._calculateState.bind(this), 100);\n\n  /** @private */\n  _renderedOnce = false;\n\n  constructor() {\n    super();\n\n    this.init$ = {\n      ...this.init$,\n      uid: '',\n      itemName: '',\n      errorText: '',\n      thumbUrl: '',\n      progressValue: 0,\n      progressVisible: false,\n      badgeIcon: '',\n      isFinished: false,\n      isFailed: false,\n      isUploading: false,\n      isFocused: false,\n      isEditable: false,\n      state: FileItemState.IDLE,\n      onEdit: () => {\n        this.set$({\n          '*focusedEntry': this._entry,\n        });\n        if (this.hasBlockInCtx((b) => b.activityType === ActivityBlock.activities.DETAILS)) {\n          this.$['*currentActivity'] = ActivityBlock.activities.DETAILS;\n        } else {\n          this.$['*currentActivity'] = ActivityBlock.activities.CLOUD_IMG_EDIT;\n        }\n      },\n      onRemove: () => {\n        this.uploadCollection.remove(this.$.uid);\n      },\n      onUpload: () => {\n        this.upload();\n      },\n    };\n  }\n\n  _reset() {\n    for (let sub of this._entrySubs) {\n      sub.remove();\n    }\n\n    this._debouncedGenerateThumb.cancel();\n    this._debouncedCalculateState.cancel();\n    this._entrySubs = new Set();\n    this._entry = null;\n  }\n\n  /**\n   * @private\n   * @param {IntersectionObserverEntry[]} entries\n   */\n  _observerCallback(entries) {\n    let [entry] = entries;\n    this._isIntersecting = entry.isIntersecting;\n\n    if (entry.isIntersecting && !this._renderedOnce) {\n      this.render();\n      this._renderedOnce = true;\n    }\n    if (entry.intersectionRatio === 0) {\n      this._debouncedGenerateThumb.cancel();\n    } else {\n      this._debouncedGenerateThumb();\n    }\n  }\n\n  /** @private */\n  _calculateState() {\n    if (!this._entry) {\n      return;\n    }\n    let entry = this._entry;\n    let state = FileItemState.IDLE;\n\n    if (entry.getValue('errors').length > 0) {\n      state = FileItemState.FAILED;\n    } else if (entry.getValue('isUploading')) {\n      state = FileItemState.UPLOADING;\n    } else if (entry.getValue('fileInfo')) {\n      state = FileItemState.FINISHED;\n    }\n\n    this.$.state = state;\n  }\n\n  /** @private */\n  async _generateThumbnail() {\n    if (!this._entry) {\n      return;\n    }\n    let entry = this._entry;\n\n    if (entry.getValue('fileInfo') && entry.getValue('isImage')) {\n      let size = this.cfg.thumbSize;\n      let thumbUrl = this.proxyUrl(\n        createCdnUrl(\n          createOriginalUrl(this.cfg.cdnCname, this._entry.getValue('uuid')),\n          createCdnUrlModifiers(entry.getValue('cdnUrlModifiers'), `scale_crop/${size}x${size}/center`),\n        ),\n      );\n      let currentThumbUrl = entry.getValue('thumbUrl');\n      if (currentThumbUrl !== thumbUrl) {\n        entry.setValue('thumbUrl', thumbUrl);\n        currentThumbUrl?.startsWith('blob:') && URL.revokeObjectURL(currentThumbUrl);\n      }\n      return;\n    }\n\n    if (entry.getValue('thumbUrl')) {\n      return;\n    }\n\n    if (entry.getValue('file')?.type.includes('image')) {\n      try {\n        let thumbUrl = await generateThumb(entry.getValue('file'), this.cfg.thumbSize);\n        entry.setValue('thumbUrl', thumbUrl);\n      } catch (err) {\n        let color = window.getComputedStyle(this).getPropertyValue('--clr-generic-file-icon');\n        entry.setValue('thumbUrl', fileCssBg(color));\n      }\n    } else {\n      let color = window.getComputedStyle(this).getPropertyValue('--clr-generic-file-icon');\n      entry.setValue('thumbUrl', fileCssBg(color));\n    }\n  }\n\n  /**\n   * @private\n   * @param {string} prop\n   * @param {(value: any) => void} handler\n   */\n  _subEntry(prop, handler) {\n    let sub = this._entry.subscribe(\n      prop,\n      /** @param {any} value */ (value) => {\n        if (this.isConnected) {\n          handler(value);\n        }\n      },\n    );\n    this._entrySubs.add(sub);\n  }\n\n  /**\n   * @private\n   * @param {String} id\n   */\n  _handleEntryId(id) {\n    this._reset();\n\n    /** @type {import('../../abstract/TypedData.js').TypedData} */\n    let entry = this.uploadCollection?.read(id);\n    this._entry = entry;\n\n    if (!entry) {\n      return;\n    }\n\n    this._subEntry('uploadProgress', (uploadProgress) => {\n      this.$.progressValue = uploadProgress;\n    });\n\n    this._subEntry('fileName', (name) => {\n      this.$.itemName = name || entry.getValue('externalUrl') || this.l10n('file-no-name');\n      this._debouncedCalculateState();\n    });\n\n    this._subEntry('externalUrl', (externalUrl) => {\n      this.$.itemName = entry.getValue('fileName') || externalUrl || this.l10n('file-no-name');\n    });\n\n    this._subEntry('fileInfo', (fileInfo) => {\n      this._debouncedCalculateState();\n      if (fileInfo && this._isIntersecting) {\n        this._debouncedGenerateThumb();\n      }\n    });\n\n    this._subEntry('cdnUrlModifiers', () => {\n      if (this._isIntersecting) {\n        this._debouncedGenerateThumb();\n      }\n    });\n\n    this._subEntry('thumbUrl', (thumbUrl) => {\n      this.$.thumbUrl = thumbUrl ? `url(${thumbUrl})` : '';\n    });\n\n    this._subEntry('errors', () => this._debouncedCalculateState());\n    this._subEntry('isUploading', () => this._debouncedCalculateState());\n    this._subEntry('fileSize', () => this._debouncedCalculateState());\n    this._subEntry('mimeType', () => this._debouncedCalculateState());\n    this._subEntry('isImage', () => this._debouncedCalculateState());\n\n    if (this._isIntersecting) {\n      this._debouncedGenerateThumb();\n    }\n  }\n\n  initCallback() {\n    super.initCallback();\n\n    this.sub('uid', (uid) => {\n      this._handleEntryId(uid);\n    });\n\n    this.sub('state', (state) => {\n      this._handleState(state);\n    });\n\n    this.subConfigValue('useCloudImageEditor', () => this._debouncedCalculateState());\n\n    this.onclick = () => {\n      FileItem.activeInstances.forEach((inst) => {\n        if (inst === this) {\n          inst.setAttribute('focused', '');\n        } else {\n          inst.removeAttribute('focused');\n        }\n      });\n    };\n\n    this.sub(\n      '*uploadTrigger',\n      /** @param {Set<string>} itemsToUpload */\n      (itemsToUpload) => {\n        if (!itemsToUpload.has(this._entry.uid)) {\n          return;\n        }\n        setTimeout(() => this.isConnected && this.upload());\n      },\n    );\n    FileItem.activeInstances.add(this);\n  }\n\n  /** @param {(typeof FileItemState)[keyof typeof FileItemState]} state */\n  _handleState(state) {\n    if (state === FileItemState.FAILED) {\n      this.$.badgeIcon = 'badge-error';\n    } else if (state === FileItemState.FINISHED) {\n      this.$.badgeIcon = 'badge-success';\n    }\n\n    if (state === FileItemState.UPLOADING) {\n      this.$.isFocused = false;\n    } else {\n      this.$.progressValue = 0;\n    }\n\n    this.set$({\n      isFailed: state === FileItemState.FAILED,\n      isUploading: state === FileItemState.UPLOADING,\n      isFinished: state === FileItemState.FINISHED,\n      progressVisible: state === FileItemState.UPLOADING,\n      isEditable: this.cfg.useCloudImageEditor && this._entry?.getValue('isImage') && this._entry?.getValue('cdnUrl'),\n      errorText: this._entry.getValue('errors')?.[0]?.message,\n    });\n  }\n\n  destroyCallback() {\n    super.destroyCallback();\n\n    FileItem.activeInstances.delete(this);\n\n    this._reset();\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    /** @private */\n    this._observer = new window.IntersectionObserver(this._observerCallback.bind(this), {\n      root: this.parentElement,\n      rootMargin: '50% 0px 50% 0px',\n      threshold: [0, 1],\n    });\n    this._observer.observe(this);\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n\n    this._debouncedGenerateThumb.cancel();\n    this._observer?.disconnect();\n  }\n\n  _settingsOfShrink() {\n    return parseShrink(this.cfg.imageShrink);\n  }\n\n  /**\n   * @private\n   * @param {File} file\n   */\n  _processShrink(file) {\n    return shrinkFile(file, this._settingsOfShrink());\n  }\n\n  async upload() {\n    let entry = this._entry;\n\n    if (!this.uploadCollection.read(entry.uid)) {\n      return;\n    }\n\n    if (entry.getValue('fileInfo') || entry.getValue('isUploading') || entry.getValue('errors').length > 0) {\n      return;\n    }\n    const multipleMax = this.cfg.multiple ? this.cfg.multipleMax : 1;\n    if (multipleMax && this.uploadCollection.size > multipleMax) {\n      return;\n    }\n\n    this._debouncedCalculateState();\n    entry.setValue('isUploading', true);\n    entry.setValue('errors', []);\n\n    try {\n      let abortController = new AbortController();\n      entry.setValue('abortController', abortController);\n\n      const uploadTask = async () => {\n        let file = entry.getValue('file');\n        if (file && this.cfg.imageShrink) {\n          file = await this._processShrink(file).catch(() => file);\n        }\n\n        const fileInput = file || entry.getValue('externalUrl') || entry.getValue('uuid');\n        const baseUploadClientOptions = this.getUploadClientOptions();\n        /** @type {import('@uploadcare/upload-client').FileFromOptions} */\n        const uploadClientOptions = {\n          ...baseUploadClientOptions,\n          fileName: entry.getValue('fileName'),\n          source: entry.getValue('source'),\n          onProgress: (progress) => {\n            if (progress.isComputable) {\n              let percentage = progress.value * 100;\n              entry.setValue('uploadProgress', percentage);\n            }\n          },\n          signal: abortController.signal,\n          metadata: await this.getMetadataFor(entry.uid),\n        };\n        this.debugPrint('upload options', fileInput, uploadClientOptions);\n        return uploadFile(fileInput, uploadClientOptions);\n      };\n\n      /** @type {import('@uploadcare/upload-client').UploadcareFile} */\n      let fileInfo = await this.$['*uploadQueue'].add(uploadTask);\n      entry.setMultipleValues({\n        fileInfo,\n        isUploading: false,\n        fileName: fileInfo.originalFilename,\n        fileSize: fileInfo.size,\n        isImage: fileInfo.isImage,\n        mimeType: fileInfo.contentInfo?.mime?.mime ?? fileInfo.mimeType,\n        uuid: fileInfo.uuid,\n        cdnUrl: entry.getValue('cdnUrl') ?? fileInfo.cdnUrl,\n        cdnUrlModifiers: entry.getValue('cdnUrlModifiers') ?? '',\n        uploadProgress: 100,\n      });\n\n      if (entry === this._entry) {\n        this._debouncedCalculateState();\n      }\n    } catch (cause) {\n      if (cause instanceof CancelError && cause.isCancel) {\n        entry.setMultipleValues({\n          isUploading: false,\n          uploadProgress: 0,\n        });\n      } else {\n        entry.setMultipleValues({\n          isUploading: false,\n          uploadProgress: 0,\n          uploadError: cause,\n        });\n      }\n\n      if (entry === this._entry) {\n        this._debouncedCalculateState();\n      }\n    }\n  }\n}\n\nFileItem.template = /* HTML */ `\n  <div class=\"inner\" set=\"@finished: isFinished; @uploading: isUploading; @failed: isFailed; @focused: isFocused\">\n    <div class=\"thumb\" set=\"style.backgroundImage: thumbUrl\">\n      <div class=\"badge\">\n        <lr-icon set=\"@name: badgeIcon\"></lr-icon>\n      </div>\n    </div>\n    <div class=\"file-name-wrapper\">\n      <span class=\"file-name\" set=\"@title: itemName\">{{itemName}}</span>\n      <span class=\"file-error\" set=\"@hidden: !errorText\">{{errorText}}</span>\n    </div>\n    <div class=\"file-actions\">\n      <button type=\"button\" class=\"edit-btn mini-btn\" set=\"onclick: onEdit; @hidden: !isEditable\">\n        <lr-icon name=\"edit-file\"></lr-icon>\n      </button>\n      <button type=\"button\" class=\"remove-btn mini-btn\" set=\"onclick: onRemove;\">\n        <lr-icon name=\"remove-file\"></lr-icon>\n      </button>\n      <button type=\"button\" class=\"upload-btn mini-btn\" set=\"onclick: onUpload;\">\n        <lr-icon name=\"upload\"></lr-icon>\n      </button>\n    </div>\n    <lr-progress-bar class=\"progress-bar\" set=\"value: progressValue; visible: progressVisible;\"> </lr-progress-bar>\n  </div>\n`;\nFileItem.activeInstances = new Set();\n","// @ts-check\nimport { Block } from '../../abstract/Block.js';\n\nexport class Modal extends Block {\n  static StateConsumerScope = 'modal';\n\n  constructor() {\n    super();\n    this.init$ = {\n      ...this.init$,\n      '*modalActive': false,\n      isOpen: false,\n      closeClicked: this._handleDialogClose,\n    };\n  }\n\n  _handleBackdropClick = () => {\n    this._closeDialog();\n  };\n\n  _closeDialog = () => {\n    this.setOrAddState('*modalActive', false);\n  };\n\n  _handleDialogClose = () => {\n    this._closeDialog();\n  };\n\n  /** @param {Event} e */\n  _handleDialogMouseDown = (e) => {\n    /** @private */\n    this._mouseDownTarget = e.target;\n  };\n\n  /** @param {Event} e */\n  _handleDialogMouseUp = (e) => {\n    if (e.target === this.ref.dialog && e.target === this._mouseDownTarget) {\n      this._closeDialog();\n    }\n  };\n\n  show() {\n    if (this.ref.dialog.showModal) {\n      this.ref.dialog.showModal();\n    } else {\n      this.ref.dialog.setAttribute('open', '');\n    }\n  }\n\n  hide() {\n    if (this.ref.dialog.close) {\n      this.ref.dialog.close();\n    } else {\n      this.ref.dialog.removeAttribute('open');\n    }\n  }\n\n  initCallback() {\n    super.initCallback();\n    if (typeof HTMLDialogElement === 'function') {\n      this.ref.dialog.addEventListener('close', this._handleDialogClose);\n      this.ref.dialog.addEventListener('mousedown', this._handleDialogMouseDown);\n      this.ref.dialog.addEventListener('mouseup', this._handleDialogMouseUp);\n    } else {\n      this.setAttribute('dialog-fallback', '');\n      let backdrop = document.createElement('div');\n      backdrop.className = 'backdrop';\n      this.appendChild(backdrop);\n      backdrop.addEventListener('click', this._handleBackdropClick);\n    }\n\n    this.sub('*modalActive', (modalActive) => {\n      if (this.$.isOpen !== modalActive) {\n        this.$.isOpen = modalActive;\n      }\n\n      if (modalActive && this.cfg.modalScrollLock) {\n        document.body.style.overflow = 'hidden';\n      } else {\n        document.body.style.overflow = '';\n      }\n    });\n\n    this.subConfigValue('modalBackdropStrokes', (val) => {\n      if (val) {\n        this.setAttribute('strokes', '');\n      } else {\n        this.removeAttribute('strokes');\n      }\n    });\n\n    this.sub('isOpen', (isOpen) => {\n      if (isOpen) {\n        this.show();\n      } else {\n        this.hide();\n      }\n    });\n  }\n\n  destroyCallback() {\n    super.destroyCallback();\n    document.body.style.overflow = '';\n    this._mouseDownTarget = undefined;\n    this.ref.dialog.removeEventListener('close', this._handleDialogClose);\n    this.ref.dialog.removeEventListener('mousedown', this._handleDialogMouseDown);\n    this.ref.dialog.removeEventListener('mouseup', this._handleDialogMouseUp);\n  }\n}\n\nModal.template = /* HTML */ `\n  <dialog ref=\"dialog\">\n    <slot></slot>\n  </dialog>\n`;\n","// @ts-check\n\n/**\n * @template {{ (...args: any[]): void }} T\n * @param {T} fn\n * @param {number} wait\n * @returns {T & { readonly cancel: () => void }} }\n */\nexport const throttle = (fn, wait) => {\n  /** @type {boolean} */\n  let inThrottle;\n  /** @type {ReturnType<typeof setTimeout>} */\n  let lastFn;\n  /** @type {number} */\n  let lastTime;\n  /** @param {...any} args */\n  const throttled = (...args) => {\n    if (!inThrottle) {\n      fn(...args);\n      lastTime = Date.now();\n      inThrottle = true;\n    } else {\n      clearTimeout(lastFn);\n      lastFn = setTimeout(\n        () => {\n          if (Date.now() - lastTime >= wait) {\n            fn(...args);\n            lastTime = Date.now();\n          }\n        },\n        Math.max(wait - (Date.now() - lastTime), 0),\n      );\n    }\n  };\n  Object.defineProperty(throttled, 'cancel', {\n    configurable: false,\n    writable: false,\n    enumerable: false,\n    value: () => {\n      clearTimeout(lastFn);\n    },\n  });\n\n  return /** @type {T & { readonly cancel: () => void }} */ (/** @type {unknown} */ (throttled));\n};\n","// @ts-check\nimport { ActivityBlock } from '../../abstract/ActivityBlock.js';\nimport { UploaderBlock } from '../../abstract/UploaderBlock.js';\nimport { EventType } from '../UploadCtxProvider/EventEmitter.js';\nimport { throttle } from '../utils/throttle.js';\n\n/**\n * @typedef {{\n *   total: number;\n *   succeed: number;\n *   uploading: number;\n *   failed: number;\n * }} Summary\n */\n\nexport class UploadList extends UploaderBlock {\n  // Context owner should have access to CSS l10n\n  // TODO: We need to move away l10n from CSS\n  couldBeCtxOwner = true;\n  historyTracked = true;\n  activityType = ActivityBlock.activities.UPLOAD_LIST;\n\n  constructor() {\n    super();\n\n    this.init$ = {\n      ...this.init$,\n      doneBtnVisible: false,\n      doneBtnEnabled: false,\n      uploadBtnVisible: false,\n      addMoreBtnVisible: false,\n      addMoreBtnEnabled: false,\n      headerText: '',\n      commonErrorMessage: '',\n\n      hasFiles: false,\n      onAdd: () => {\n        this.initFlow(true);\n      },\n      onUpload: () => {\n        this.emit(EventType.UPLOAD_CLICK);\n        this.uploadAll();\n        this._throttledHandleCollectionUpdate();\n      },\n      onDone: () => {\n        this.emit(EventType.DONE_CLICK, this.getOutputCollectionState());\n        this.doneFlow();\n      },\n      onCancel: () => {\n        this.uploadCollection.clearAll();\n      },\n    };\n  }\n\n  /** @private */\n  _throttledHandleCollectionUpdate = throttle(() => {\n    if (!this.isConnected) {\n      return;\n    }\n    this._updateUploadsState();\n\n    if (!this.couldOpenActivity && this.$['*currentActivity'] === this.activityType) {\n      this.historyBack();\n    }\n  }, 300);\n\n  /** @private */\n  _updateUploadsState() {\n    const collectionState = this.getOutputCollectionState();\n    /** @type {Summary} */\n    const summary = {\n      total: collectionState.totalCount,\n      succeed: collectionState.successCount,\n      uploading: collectionState.uploadingCount,\n      failed: collectionState.failedCount,\n    };\n    const fitCountRestrictions = !collectionState.errors.some(\n      (err) => err.type === 'TOO_MANY_FILES' || err.type === 'TOO_FEW_FILES',\n    );\n    const tooMany = collectionState.errors.some((err) => err.type === 'TOO_MANY_FILES');\n    const exact = collectionState.totalCount === (this.cfg.multiple ? this.cfg.multipleMax : 1);\n    const validationOk = summary.failed === 0;\n    let uploadBtnVisible = false;\n    let allDone = false;\n    let doneBtnEnabled = false;\n\n    const readyToUpload = summary.total - summary.succeed - summary.uploading - summary.failed;\n    if (readyToUpload > 0 && fitCountRestrictions) {\n      uploadBtnVisible = true;\n    } else {\n      allDone = true;\n      doneBtnEnabled = summary.total === summary.succeed && fitCountRestrictions && validationOk;\n    }\n\n    this.set$({\n      doneBtnVisible: allDone,\n      doneBtnEnabled: doneBtnEnabled,\n\n      uploadBtnVisible,\n\n      addMoreBtnEnabled: summary.total === 0 || (!tooMany && !exact),\n      addMoreBtnVisible: !exact || this.cfg.multiple,\n    });\n\n    this.bindL10n('headerText', () => this._getHeaderText(summary));\n  }\n\n  /**\n   * @private\n   * @param {Summary} summary\n   */\n  _getHeaderText(summary) {\n    /** @param {keyof Summary} status */\n    const localizedText = (status) => {\n      const count = summary[status];\n      return this.l10n(`header-${status}`, {\n        count: count,\n      });\n    };\n    if (summary.uploading > 0) {\n      return localizedText('uploading');\n    }\n    if (summary.failed > 0) {\n      return localizedText('failed');\n    }\n    if (summary.succeed > 0) {\n      return localizedText('succeed');\n    }\n\n    return localizedText('total');\n  }\n\n  get couldOpenActivity() {\n    return this.cfg.showEmptyList || this.uploadCollection.size > 0;\n  }\n\n  initCallback() {\n    super.initCallback();\n\n    this.registerActivity(this.activityType);\n\n    this.subConfigValue('multiple', this._throttledHandleCollectionUpdate);\n    this.subConfigValue('multipleMin', this._throttledHandleCollectionUpdate);\n    this.subConfigValue('multipleMax', this._throttledHandleCollectionUpdate);\n\n    this.sub('*currentActivity', (currentActivity) => {\n      if (!this.couldOpenActivity && currentActivity === this.activityType) {\n        this.$['*currentActivity'] = this.initActivity;\n      }\n    });\n\n    // TODO: could be performance issue on many files\n    // there is no need to update buttons state on every progress tick\n    this.uploadCollection.observeProperties(this._throttledHandleCollectionUpdate);\n\n    this.sub(\n      '*uploadList',\n      (list) => {\n        this._throttledHandleCollectionUpdate();\n\n        this.set$({\n          hasFiles: list.length > 0,\n        });\n\n        if (!this.cfg.confirmUpload) {\n          this.uploadAll();\n        }\n      },\n      false,\n    );\n\n    this.sub(\n      '*collectionErrors',\n      /** @param {import('../../types').OutputError<import('../../types').OutputCollectionErrorType>[]} errors */\n      (errors) => {\n        const firstError = errors.filter((err) => err.type !== 'SOME_FILES_HAS_ERRORS')[0];\n        if (!firstError) {\n          this.set$({\n            commonErrorMessage: null,\n          });\n          return;\n        }\n        this.set$({\n          commonErrorMessage: firstError.message,\n        });\n      },\n    );\n  }\n\n  destroyCallback() {\n    super.destroyCallback();\n    this.uploadCollection.unobserveProperties(this._throttledHandleCollectionUpdate);\n  }\n}\n\nUploadList.template = /* HTML */ `\n  <lr-activity-header>\n    <span class=\"header-text\">{{headerText}}</span>\n    <button type=\"button\" class=\"mini-btn close-btn\" set=\"onclick: *closeModal\">\n      <lr-icon name=\"close\"></lr-icon>\n    </button>\n  </lr-activity-header>\n\n  <div class=\"no-files\" set=\"@hidden: hasFiles\">\n    <slot name=\"empty\"><span l10n=\"no-files\"></span></slot>\n  </div>\n\n  <div class=\"files\" repeat=\"*uploadList\" repeat-item-tag=\"lr-file-item\"></div>\n\n  <div class=\"common-error\" set=\"@hidden: !commonErrorMessage; textContent: commonErrorMessage;\"></div>\n\n  <div class=\"toolbar\">\n    <button type=\"button\" class=\"cancel-btn secondary-btn\" set=\"onclick: onCancel;\" l10n=\"clear\"></button>\n    <div class=\"toolbar-spacer\"></div>\n    <button\n      type=\"button\"\n      class=\"add-more-btn secondary-btn\"\n      set=\"onclick: onAdd; @disabled: !addMoreBtnEnabled; @hidden: !addMoreBtnVisible\"\n    >\n      <lr-icon name=\"add\"></lr-icon><span l10n=\"add-more\"></span>\n    </button>\n    <button\n      type=\"button\"\n      class=\"upload-btn primary-btn\"\n      set=\"@hidden: !uploadBtnVisible; onclick: onUpload;\"\n      l10n=\"upload\"\n    ></button>\n    <button\n      type=\"button\"\n      class=\"done-btn primary-btn\"\n      set=\"@hidden: !doneBtnVisible; onclick: onDone;  @disabled: !doneBtnEnabled\"\n      l10n=\"done\"\n    ></button>\n  </div>\n\n  <lr-drop-area ghost></lr-drop-area>\n`;\n","import { UploaderBlock } from '../../abstract/UploaderBlock.js';\nimport { ActivityBlock } from '../../abstract/ActivityBlock.js';\nimport { UploadSource } from '../utils/UploadSource.js';\n\nexport class UrlSource extends UploaderBlock {\n  couldBeCtxOwner = true;\n  activityType = ActivityBlock.activities.URL;\n\n  init$ = {\n    ...this.init$,\n    importDisabled: true,\n    onUpload: (e) => {\n      e.preventDefault();\n\n      let url = this.ref.input['value'];\n      this.addFileFromUrl(url, { source: UploadSource.URL_TAB });\n      this.$['*currentActivity'] = ActivityBlock.activities.UPLOAD_LIST;\n    },\n    onCancel: () => {\n      this.historyBack();\n    },\n    onInput: (e) => {\n      let value = /** @type {HTMLInputElement} */ (e.target).value;\n      this.set$({ importDisabled: !value });\n    },\n  };\n\n  initCallback() {\n    super.initCallback();\n    this.registerActivity(this.activityType, {\n      onActivate: () => {\n        this.ref.input['value'] = '';\n        this.ref.input.focus();\n      },\n    });\n  }\n}\n\nUrlSource.template = /* HTML */ `\n  <lr-activity-header>\n    <button type=\"button\" class=\"mini-btn\" set=\"onclick: *historyBack\">\n      <lr-icon name=\"back\"></lr-icon>\n    </button>\n    <div>\n      <lr-icon name=\"url\"></lr-icon>\n      <span l10n=\"caption-from-url\"></span>\n    </div>\n    <button type=\"button\" class=\"mini-btn close-btn\" set=\"onclick: *closeModal\">\n      <lr-icon name=\"close\"></lr-icon>\n    </button>\n  </lr-activity-header>\n  <form class=\"content\">\n    <input placeholder=\"https://\" class=\"url-input\" type=\"text\" ref=\"input\" set=\"oninput: onInput\" />\n    <button\n      type=\"submit\"\n      class=\"url-upload-btn primary-btn\"\n      set=\"onclick: onUpload; @disabled: importDisabled\"\n      l10n=\"upload-url\"\n    ></button>\n  </form>\n`;\n","export const canUsePermissionsApi = () => {\n  return typeof navigator.permissions !== 'undefined';\n};\n","import { UploaderBlock } from '../../abstract/UploaderBlock.js';\nimport { ActivityBlock } from '../../abstract/ActivityBlock.js';\nimport { canUsePermissionsApi } from '../utils/abilities.js';\nimport { debounce } from '../utils/debounce.js';\nimport { UploadSource } from '../utils/UploadSource.js';\n\nexport class CameraSource extends UploaderBlock {\n  couldBeCtxOwner = true;\n  activityType = ActivityBlock.activities.CAMERA;\n\n  /** @private */\n  _unsubPermissions = null;\n\n  init$ = {\n    ...this.init$,\n    video: null,\n    videoTransformCss: null,\n    shotBtnDisabled: true,\n    videoHidden: true,\n    messageHidden: true,\n    requestBtnHidden: canUsePermissionsApi(),\n    cameraSelectOptions: null,\n    cameraSelectHidden: true,\n    l10nMessage: '',\n\n    onCameraSelectChange: (e) => {\n      /** @type {String} */\n      this._selectedCameraId = e.target.value;\n      this._capture();\n    },\n    onCancel: () => {\n      this.historyBack();\n    },\n    onShot: () => {\n      this._shot();\n    },\n    onRequestPermissions: () => {\n      this._capture();\n    },\n  };\n\n  /** @private */\n  _onActivate = () => {\n    if (canUsePermissionsApi()) {\n      this._subscribePermissions();\n    }\n    this._capture();\n  };\n\n  /** @private */\n  _onDeactivate = () => {\n    if (this._unsubPermissions) {\n      this._unsubPermissions();\n    }\n\n    this._stopCapture();\n  };\n\n  /** @private */\n  _handlePermissionsChange = () => {\n    this._capture();\n  };\n\n  /**\n   * @private\n   * @param {'granted' | 'denied' | 'prompt'} state\n   */\n  _setPermissionsState = debounce((state) => {\n    this.classList.toggle('initialized', state === 'granted');\n\n    if (state === 'granted') {\n      this.set$({\n        videoHidden: false,\n        shotBtnDisabled: false,\n        messageHidden: true,\n      });\n    } else if (state === 'prompt') {\n      this.$.l10nMessage = 'camera-permissions-prompt';\n      this.set$({\n        videoHidden: true,\n        shotBtnDisabled: true,\n        messageHidden: false,\n      });\n      this._stopCapture();\n    } else {\n      this.$.l10nMessage = 'camera-permissions-denied';\n\n      this.set$({\n        videoHidden: true,\n        shotBtnDisabled: true,\n        messageHidden: false,\n      });\n      this._stopCapture();\n    }\n  }, 300);\n\n  /** @private */\n  async _subscribePermissions() {\n    try {\n      // @ts-ignore\n      let permissionsResponse = await navigator.permissions.query({ name: 'camera' });\n      permissionsResponse.addEventListener('change', this._handlePermissionsChange);\n    } catch (err) {\n      console.log('Failed to use permissions API. Fallback to manual request mode.', err);\n      this._capture();\n    }\n  }\n\n  /** @private */\n  async _capture() {\n    let constr = {\n      video: {\n        width: {\n          ideal: 1920,\n        },\n        height: {\n          ideal: 1080,\n        },\n        frameRate: {\n          ideal: 30,\n        },\n      },\n      audio: false,\n    };\n    if (this._selectedCameraId) {\n      constr.video.deviceId = {\n        exact: this._selectedCameraId,\n      };\n    }\n    /** @private */\n    this._canvas = document.createElement('canvas');\n    /** @private */\n    this._ctx = this._canvas.getContext('2d');\n\n    try {\n      this._setPermissionsState('prompt');\n      let stream = await navigator.mediaDevices.getUserMedia(constr);\n      stream.addEventListener('inactive', () => {\n        this._setPermissionsState('denied');\n      });\n      this.$.video = stream;\n      /** @private */\n      this._capturing = true;\n      this._setPermissionsState('granted');\n    } catch (err) {\n      this._setPermissionsState('denied');\n      console.error('Failed to capture camera', err);\n    }\n  }\n\n  /** @private */\n  _stopCapture() {\n    if (this._capturing) {\n      this.$.video?.getTracks()[0].stop();\n      this.$.video = null;\n      this._capturing = false;\n    }\n  }\n\n  /** @private */\n  _shot() {\n    this._canvas.height = this.ref.video['videoHeight'];\n    this._canvas.width = this.ref.video['videoWidth'];\n    // @ts-ignore\n    this._ctx.drawImage(this.ref.video, 0, 0);\n    const date = Date.now();\n    const name = `camera-${date}.jpeg`;\n    const format = 'image/jpeg';\n    this._canvas.toBlob((blob) => {\n      let file = new File([blob], name, {\n        lastModified: date,\n        type: format,\n      });\n      this.addFileFromObject(file, { source: UploadSource.CAMERA });\n      this.set$({\n        '*currentActivity': ActivityBlock.activities.UPLOAD_LIST,\n      });\n    }, format);\n  }\n\n  async initCallback() {\n    super.initCallback();\n    this.registerActivity(this.activityType, {\n      onActivate: this._onActivate,\n      onDeactivate: this._onDeactivate,\n    });\n\n    this.subConfigValue('cameraMirror', (val) => {\n      this.$.videoTransformCss = val ? 'scaleX(-1)' : null;\n    });\n\n    try {\n      let deviceList = await navigator.mediaDevices.enumerateDevices();\n      let cameraSelectOptions = deviceList\n        .filter((info) => {\n          return info.kind === 'videoinput';\n        })\n        .map((info, idx) => {\n          return {\n            text: info.label.trim() || `${this.l10n('caption-camera')} ${idx + 1}`,\n            value: info.deviceId,\n          };\n        });\n      if (cameraSelectOptions.length > 1) {\n        this.$.cameraSelectOptions = cameraSelectOptions;\n        this.$.cameraSelectHidden = false;\n      }\n      this._selectedCameraId = cameraSelectOptions[0]?.value;\n    } catch (err) {\n      // mediaDevices isn't available for HTTP\n      // TODO: handle this case\n    }\n  }\n}\n\nCameraSource.template = /* HTML */ `\n  <lr-activity-header>\n    <button type=\"button\" class=\"mini-btn\" set=\"onclick: *historyBack\">\n      <lr-icon name=\"back\"></lr-icon>\n    </button>\n    <div set=\"@hidden: !cameraSelectHidden\">\n      <lr-icon name=\"camera\"></lr-icon>\n      <span l10n=\"caption-camera\"></span>\n    </div>\n    <lr-select\n      class=\"camera-select\"\n      set=\"$.options: cameraSelectOptions; @hidden: cameraSelectHidden; onchange: onCameraSelectChange\"\n    >\n    </lr-select>\n    <button type=\"button\" class=\"mini-btn close-btn\" set=\"onclick: *closeModal\">\n      <lr-icon name=\"close\"></lr-icon>\n    </button>\n  </lr-activity-header>\n  <div class=\"content\">\n    <video\n      autoplay\n      playsinline\n      set=\"srcObject: video; style.transform: videoTransformCss; @hidden: videoHidden\"\n      ref=\"video\"\n    ></video>\n    <div class=\"message-box\" set=\"@hidden: messageHidden\">\n      <span l10n=\"l10nMessage\"></span>\n      <button\n        type=\"button\"\n        set=\"onclick: onRequestPermissions; @hidden: requestBtnHidden\"\n        l10n=\"camera-permissions-request\"\n      ></button>\n    </div>\n    <button type=\"button\" class=\"shot-btn\" set=\"onclick: onShot; @disabled: shotBtnDisabled\">\n      <lr-icon name=\"camera\"></lr-icon>\n    </button>\n  </div>\n`;\n","// @ts-check\n\nimport { UploaderBlock } from '../../abstract/UploaderBlock.js';\nimport { EventType } from './EventEmitter.js';\nclass UploadCtxProviderClass extends UploaderBlock {\n  requireCtxName = true;\n\n  initCallback() {\n    super.initCallback();\n\n    this.$['*eventEmitter'].bindTarget(this);\n  }\n\n  destroyCallback() {\n    super.destroyCallback();\n\n    this.$['*eventEmitter'].unbindTarget(this);\n  }\n}\n\nUploadCtxProviderClass.EventType = EventType;\n\n/**\n * @typedef {import('../../utils/mixinClass.js').MixinClass<\n *   typeof UploadCtxProviderClass,\n *   {\n *     addEventListener<\n *       T extends (typeof import('./EventEmitter.js').EventType)[keyof typeof import('./EventEmitter.js').EventType],\n *     >(\n *       type: T,\n *       listener: (e: CustomEvent<import('./EventEmitter.js').EventPayload[T]>) => void,\n *       options?: boolean | AddEventListenerOptions,\n *     ): void;\n *     removeEventListener<\n *       T extends (typeof import('./EventEmitter.js').EventType)[keyof typeof import('./EventEmitter.js').EventType],\n *     >(\n *       type: T,\n *       listener: (e: CustomEvent<import('./EventEmitter.js').EventPayload[T]>) => void,\n *       options?: boolean | EventListenerOptions,\n *     ): void;\n *   }\n * >} UploadCtxProvider\n */\n\nexport const UploadCtxProvider = /** @type {UploadCtxProvider} */ (/** @type {unknown} */ (UploadCtxProviderClass));\n","import { ActivityBlock } from '../../abstract/ActivityBlock.js';\n\nexport class UiConfirmation {\n  captionL10nStr = 'confirm-your-action';\n  messageL10Str = 'are-you-sure';\n  confirmL10nStr = 'yes';\n  denyL10nStr = 'no';\n  confirmAction() {\n    console.log('Confirmed');\n  }\n  denyAction() {\n    this['historyBack']();\n  }\n}\n\nexport class ConfirmationDialog extends ActivityBlock {\n  activityType = ActivityBlock.activities.CONFIRMATION;\n\n  /** @private */\n  _defaults = new UiConfirmation();\n\n  init$ = {\n    ...this.init$,\n    activityCaption: '',\n    messageTxt: '',\n    confirmBtnTxt: '',\n    denyBtnTxt: '',\n    '*confirmation': null,\n    onConfirm: this._defaults.confirmAction,\n    onDeny: this._defaults.denyAction.bind(this),\n  };\n\n  initCallback() {\n    super.initCallback();\n    this.set$({\n      messageTxt: this.l10n(this._defaults.messageL10Str),\n      confirmBtnTxt: this.l10n(this._defaults.confirmL10nStr),\n      denyBtnTxt: this.l10n(this._defaults.denyL10nStr),\n    });\n    this.sub('*confirmation', (/** @type {UiConfirmation} */ cfn) => {\n      if (!cfn) {\n        return;\n      }\n      this.set$({\n        '*currentActivity': ActivityBlock.activities.CONFIRMATION,\n        activityCaption: this.l10n(cfn.captionL10nStr),\n        messageTxt: this.l10n(cfn.messageL10Str),\n        confirmBtnTxt: this.l10n(cfn.confirmL10nStr),\n        denyBtnTxt: this.l10n(cfn.denyL10nStr),\n        onDeny: () => {\n          cfn.denyAction();\n        },\n        onConfirm: () => {\n          cfn.confirmAction();\n        },\n      });\n    });\n  }\n}\n\nConfirmationDialog.template = /* HTML */ `\n  <lr-activity-header>\n    <button type=\"button\" class=\"mini-btn\" set=\"onclick: *historyBack\">\n      <lr-icon name=\"back\"></lr-icon>\n    </button>\n    <span>{{activityCaption}}</span>\n    <button type=\"button\" class=\"mini-btn close-btn\" set=\"onclick: *closeModal\">\n      <lr-icon name=\"close\"></lr-icon>\n    </button>\n  </lr-activity-header>\n\n  <div class=\"message\">{{messageTxt}}</div>\n  <div class=\"toolbar\">\n    <button type=\"button\" class=\"deny-btn secondary-btn\" set=\"onclick: onDeny\">{{denyBtnTxt}}</button>\n    <button type=\"button\" class=\"confirm-btn primary-btn\" set=\"onclick: onConfirm\">{{confirmBtnTxt}}</button>\n  </div>\n`;\n","import { UploaderBlock } from '../../abstract/UploaderBlock.js';\n\nexport class ProgressBarCommon extends UploaderBlock {\n  init$ = {\n    ...this.init$,\n    visible: false,\n    value: 0,\n\n    '*commonProgress': 0,\n  };\n\n  initCallback() {\n    super.initCallback();\n    /** @private */\n    this._unobserveCollection = this.uploadCollection.observeProperties(() => {\n      let anyUploading = this.uploadCollection.items().some((id) => {\n        let item = this.uploadCollection.read(id);\n        return item.getValue('isUploading');\n      });\n\n      this.$.visible = anyUploading;\n    });\n\n    this.sub('visible', (visible) => {\n      if (visible) {\n        this.setAttribute('active', '');\n      } else {\n        this.removeAttribute('active');\n      }\n    });\n\n    this.sub('*commonProgress', (progress) => {\n      this.$.value = progress;\n    });\n  }\n\n  destroyCallback() {\n    super.destroyCallback();\n\n    this._unobserveCollection?.();\n  }\n}\n\nProgressBarCommon.template = /* HTML */ ` <lr-progress-bar set=\"visible: visible; value: value\"></lr-progress-bar> `;\n","import { Block } from '../../abstract/Block.js';\n\nexport class ProgressBar extends Block {\n  /** @type {Number} */\n  _value = 0;\n\n  init$ = {\n    ...this.init$,\n    width: 0,\n    opacity: 0,\n  };\n\n  initCallback() {\n    super.initCallback();\n    this.defineAccessor('value', (value) => {\n      if (value === undefined) {\n        return;\n      }\n      const prevValue = this._value;\n      this._value = value;\n\n      if (value === 0 && prevValue > 0) {\n        this.ref.line.addEventListener('transitionend', () => {\n          this.style.setProperty('--l-width', this._value.toString());\n        });\n        return;\n      }\n\n      this.style.setProperty('--l-width', this._value.toString());\n    });\n\n    this.defineAccessor('visible', (visible) => {\n      this.ref.line.classList.toggle('progress--hidden', !visible);\n    });\n  }\n}\n\nProgressBar.template = /* HTML */ ` <div ref=\"line\" class=\"progress\"></div> `;\n","export const TRANSPARENT_PIXEL_SRC =\n  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=';\n","import { Block } from '../../abstract/Block.js';\nimport { checkerboardCssBg } from '../svg-backgrounds/svg-backgrounds.js';\nimport { TRANSPARENT_PIXEL_SRC } from '../../utils/transparentPixelSrc.js';\n\nexport class FilePreview extends Block {\n  init$ = {\n    ...this.init$,\n    checkerboard: false,\n    src: TRANSPARENT_PIXEL_SRC,\n  };\n\n  constructor() {\n    super();\n  }\n\n  initCallback() {\n    super.initCallback();\n    this.sub('checkerboard', () => {\n      this.style.backgroundImage = this.hasAttribute('checkerboard') ? `url(${checkerboardCssBg()})` : 'unset';\n    });\n  }\n\n  destroyCallback() {\n    super.destroyCallback();\n    URL.revokeObjectURL(this._lastObjectUrl);\n  }\n\n  /** @param {HTMLImageElement} img */\n  setImage(img) {\n    this.$.src = img.src;\n  }\n\n  /** @param {File} imgFile */\n  setImageFile(imgFile) {\n    let url = URL.createObjectURL(imgFile);\n    this.$.src = url;\n    this._lastObjectUrl = url;\n  }\n\n  /** @param {String} url */\n  setImageUrl(url) {\n    this.$.src = url;\n  }\n\n  clear() {\n    URL.revokeObjectURL(this._lastObjectUrl);\n    this.$.src = TRANSPARENT_PIXEL_SRC;\n  }\n}\n\nFilePreview.template = /* HTML */ ` <lr-img class=\"img-view\" ref=\"img\" set=\"@src: src; style.aa: src;\" /> `;\n\nFilePreview.bindAttributes({\n  checkerboard: 'checkerboard',\n});\n","function normalize(...args) {\n  return args.reduce((result, arg) => {\n    if (typeof arg === 'string') {\n      result[arg] = true;\n      return result;\n    }\n\n    for (let token of Object.keys(arg)) {\n      result[token] = arg[token];\n    }\n\n    return result;\n  }, {});\n}\n\nexport function classNames(...args) {\n  let mapping = normalize(...args);\n  return Object.keys(mapping)\n    .reduce((result, token) => {\n      if (mapping[token]) {\n        result.push(token);\n      }\n\n      return result;\n    }, [])\n    .join(' ');\n}\n\nexport function applyClassNames(element, ...args) {\n  let mapping = normalize(...args);\n  for (let token of Object.keys(mapping)) {\n    element.classList.toggle(token, mapping[token]);\n  }\n}\n","// @ts-check\n\nimport { deserealizeCsv } from '../../../utils/comma-separated.js';\nimport { ALL_TABS } from '../toolbar-constants.js';\n\n/** @param {string} tabs */\nexport const parseTabs = (tabs) => {\n  if (!tabs) return ALL_TABS;\n  const tabList = deserealizeCsv(tabs).filter((tab) => ALL_TABS.includes(tab));\n  if (tabList.length === 0) {\n    return ALL_TABS;\n  }\n  return tabList;\n};\n","export default \"<svg width='0' height='0' style='position:absolute'><symbol viewBox='0 0 20 20' id='uc-icon-brightness' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M15 10a5 5 0 0 1-5 5m5-5a5 5 0 0 0-5-5m5 5h-5m0 5a5 5 0 0 1 0-10m0 10V5m0 15v-3M2.93 2.929 5.05 5.05M0 10h3m-.07 7.071 2.12-2.121M10 0v3m7.07 14.071-2.12-2.121M20 10h-3m.07-7.071L14.95 5.05m-.626 2.45H10m4.324 5H10'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-closeMax' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='m3 3 14 14m0-14L3 17'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-contrast' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M2 10a8 8 0 1 0 16 0 8 8 0 1 0-16 0m8-8v16m8-8h-8m7.598 2.5H10m6.24 2.5H10m7.6-7.5H10M16.242 5H10'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-crop' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M20 14H7.005C6.45 14 6 13.55 6 12.995V0M0 6h13.067c.515 0 .933.418.933.933V20M14.5.4 13 2l1.5 1.6M13 2h2a3 3 0 0 1 3 3v2M5.5 19.6 7 18l-1.5-1.6M7 18H5a3 3 0 0 1-3-3v-2'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-done' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='m1 10.632 5.684 5.684L19 4'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-enhance' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M19 13h-2m0 0a4 4 0 0 1-4-4m4 4a4 4 0 0 0-4 4m0-8V7m0 2a4 4 0 0 1-4 4m-2 0h2m0 0a4 4 0 0 1 4 4m0 0v2M8 8.5H6.5m0 0a2 2 0 0 1-2-2m2 2a2 2 0 0 0-2 2m0-4V5m0 1.5a2 2 0 0 1-2 2M1 8.5h1.5m0 0a2 2 0 0 1 2 2m0 0V12M12 3h-1m0 0a1 1 0 0 1-1-1m1 1a1 1 0 0 0-1 1m0-2V1m0 1a1 1 0 0 1-1 1M8 3h1m0 0a1 1 0 0 1 1 1m0 0v1'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-exposure' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M10 20v-3M2.93 2.929 5.05 5.05M0 10h3m-.07 7.071 2.12-2.121M10 0v3m7.07 14.071-2.12-2.121M20 10h-3m.07-7.071L14.95 5.05M5 10a5 5 0 1 0 10 0 5 5 0 1 0-10 0'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-filters' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M4.5 6.5a5.5 5.5 0 1 0 11 0 5.5 5.5 0 1 0-11 0m-3.5 6a5.5 5.5 0 1 0 11 0 5.5 5.5 0 1 0-11 0m7 0a5.5 5.5 0 1 0 11 0 5.5 5.5 0 1 0-11 0'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-flip' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M19.6 5 18 3.5 16.4 5m3.2 10L18 16.5 16.4 15M18 3.523v12.954M3.3 8.5h10.654c.301 0 .415-.395.159-.554L3.459 1.286A.3.3 0 0 0 3 1.542V8.2a.3.3 0 0 0 .3.3zm0 3h10.654c.301 0 .415.395.159.554l-10.654 6.66A.3.3 0 0 1 3 18.458v-6.66a.3.3 0 0 1 .3-.3z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-gamma' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M17 3C9 6 2.5 11.5 2.5 17.5m0 0h1m-1 0v-1m14 1h1m-3 0h1m-3 0h1m-3 0h1m-3 0h1m-3 0h1m-3 0h1m-3-14v-1m0 3v-1m0 3v-1m0 3v-1m0 3v-1m0 3v-1m0 3v-1'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-mirror' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M5 .4 3.5 2 5 3.6M15 .4 16.5 2 15 3.6M3.52 2h12.957M8.5 16.7V6.046c0-.301-.394-.415-.554-.159L1.287 16.541a.3.3 0 0 0 .255.459H8.2a.3.3 0 0 0 .3-.3zm3 0V6.046c0-.301.395-.415.555-.159l6.659 10.654a.3.3 0 0 1-.255.459H11.8a.3.3 0 0 1-.3-.3z'/></symbol><symbol viewBox='0 0 40 40' id='uc-icon-original' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M0 40 40 0'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-rotate' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M13.5.4 12 2l1.5 1.6M12.023 2H14.4A3.6 3.6 0 0 1 18 5.6V8M4 17h9a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-sad' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M2 17c4.418-4 11.582-4 16 0M16.5 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-11 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-saturation' xmlns='http://www.w3.org/2000/svg'><defs><linearGradient id='ouc-icon-id__a' x1='10.001' y1='1' x2='10.001' y2='19' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient></defs><circle cx='10.001' cy='10' r='9' transform='rotate(90 10 10)' fill='url(#ouc-icon-id__a)'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-slider' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M0 10h11m0 0a2 2 0 1 0 4 0m-4 0a2 2 0 1 1 4 0m0 0h5'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-tuning' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M8 10h11M1 10h4M1 4.5h11m3 0h4m-18 11h11m3 0h4m-7-11a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0m7 5.5a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-vibrance' xmlns='http://www.w3.org/2000/svg'><path d='M2.125 5.64A8.96 8.96 0 0 0 1.001 10a8.96 8.96 0 0 0 1.124 4.36V5.64z' fill='url(#ruc-icon-id__a)'/><path d='M2.875 15.499V4.502a9.053 9.053 0 0 1 1.75-1.72v14.437a9.05 9.05 0 0 1-1.75-1.72z' fill='url(#ruc-icon-id__b)'/><path d='M5.375 17.722c.548.33 1.134.601 1.75.809V1.469a8.956 8.956 0 0 0-1.75.81v15.443z' fill='url(#ruc-icon-id__c)'/><path d='M7.875 1.253v17.495c.564.136 1.15.22 1.75.244V1.008a9 9 0 0 0-1.75.245z' fill='url(#ruc-icon-id__d)'/><path d='M10.375 1.008v17.984a9 9 0 0 0 1.75-.244V1.252a9 9 0 0 0-1.75-.244z' fill='url(#ruc-icon-id__e)'/><path d='M12.875 1.469V18.53a8.957 8.957 0 0 0 1.75-.808V2.277a8.957 8.957 0 0 0-1.75-.808z' fill='url(#ruc-icon-id__f)'/><path d='M15.375 2.78v14.44a9.053 9.053 0 0 0 1.75-1.72v-11a9.054 9.054 0 0 0-1.75-1.72z' fill='url(#ruc-icon-id__g)'/><path d='M17.875 5.638v8.724A8.959 8.959 0 0 0 19.001 10a8.96 8.96 0 0 0-1.126-4.362z' fill='url(#ruc-icon-id__h)'/><defs><linearGradient id='ruc-icon-id__a' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='ruc-icon-id__b' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='ruc-icon-id__c' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='ruc-icon-id__d' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='ruc-icon-id__e' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='ruc-icon-id__f' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='ruc-icon-id__g' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='ruc-icon-id__h' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient></defs></symbol><symbol viewBox='0 0 20 20' id='uc-icon-warmth' xmlns='http://www.w3.org/2000/svg'><path d='m7.5 13.05.429.42.171-.175v-.244h-.6zm5 0h-.6v.245l.172.175.428-.42zM8.1 3.5c0-1.05.85-1.9 1.9-1.9V.4a3.1 3.1 0 0 0-3.1 3.1h1.2zm0 9.55V3.5H6.9v9.55h1.2zm-1 2.45c0-.79.315-1.506.829-2.03l-.858-.84A4.088 4.088 0 0 0 5.9 15.5h1.2zm2.9 2.9a2.9 2.9 0 0 1-2.9-2.9H5.9a4.1 4.1 0 0 0 4.1 4.1v-1.2zm2.9-2.9a2.9 2.9 0 0 1-2.9 2.9v1.2a4.1 4.1 0 0 0 4.1-4.1h-1.2zm-.829-2.03c.514.524.829 1.24.829 2.03h1.2c0-1.117-.447-2.13-1.171-2.87l-.858.84zM11.9 3.5v9.55h1.2V3.5h-1.2zM10 1.6c1.05 0 1.9.85 1.9 1.9h1.2A3.1 3.1 0 0 0 10 .4v1.2z' fill='currentColor'/><path d='M10 14V8' stroke='currentColor' stroke-width='1.2' stroke-linecap='round'/><path d='M14 3h3m-3 3h3m-3 3h3m-8 6.5a1 1 0 1 0 2 0 1 1 0 1 0-2 0' stroke='currentColor' stroke-width='1.2'/></symbol></svg>\";","import { TRANSPARENT_PIXEL_SRC } from '../../../utils/transparentPixelSrc.js';\nimport svgIconsSprite from './svg-sprite.js';\n\nexport const TEMPLATE = /* HTML */ `\n  ${svgIconsSprite}\n  <div class=\"wrapper wrapper_desktop\">\n    <lr-presence-toggle class=\"network_problems_splash\" set=\"visible: presence.networkProblems;\">\n      <div class=\"network_problems_content\">\n        <div class=\"network_problems_icon\">\n          <lr-icon name=\"sad\"></lr-icon>\n        </div>\n        <div class=\"network_problems_text\">Network error</div>\n      </div>\n      <div class=\"network_problems_footer\">\n        <lr-btn-ui theme=\"primary\" text=\"Retry\" set=\"onclick: *on.retryNetwork\"></lr-btn-ui>\n      </div>\n    </lr-presence-toggle>\n    <div class=\"viewport\">\n      <div class=\"file_type_outer\">\n        <div class=\"file_type\">{{fileType}}</div>\n      </div>\n      <div class=\"image_container\" ref=\"img-container-el\">\n        <img src=\"${TRANSPARENT_PIXEL_SRC}\" class=\"image image_visible_from_editor\" ref=\"img-el\" />\n        <lr-editor-image-cropper ref=\"cropper-el\"></lr-editor-image-cropper>\n        <lr-editor-image-fader ref=\"fader-el\"></lr-editor-image-fader>\n      </div>\n      <div class=\"info_pan\">{{msg}}</div>\n    </div>\n    <div class=\"toolbar\">\n      <lr-line-loader-ui set=\"active: showLoader\"></lr-line-loader-ui>\n      <div class=\"toolbar_content toolbar_content__editor\">\n        <lr-editor-toolbar></lr-editor-toolbar>\n      </div>\n    </div>\n  </div>\n`;\n","// @ts-check\nimport { Block } from '../../../abstract/Block.js';\nimport {\n  createCdnUrl,\n  createCdnUrlModifiers,\n  createOriginalUrl,\n  extractOperations,\n  extractUuid,\n} from '../../../utils/cdn-utils.js';\nimport { TRANSPARENT_PIXEL_SRC } from '../../../utils/transparentPixelSrc.js';\nimport { debounce } from '../../utils/debounce.js';\nimport { classNames } from './lib/classNames.js';\nimport { parseCropPreset } from './lib/parseCropPreset.js';\nimport { parseTabs } from './lib/parseTabs.js';\nimport { operationsToTransformations, transformationsToOperations } from './lib/transformationUtils.js';\nimport { initState } from './state.js';\nimport { TEMPLATE } from './template.js';\nimport { TabId } from './toolbar-constants.js';\n\nexport class CloudImageEditorBlock extends Block {\n  ctxOwner = true;\n  static className = 'cloud-image-editor';\n\n  constructor() {\n    super();\n\n    this.init$ = {\n      ...this.init$,\n      ...initState(this),\n    };\n  }\n\n  /** @private */\n  _debouncedShowLoader = debounce(this._showLoader.bind(this), 300);\n\n  /**\n   * @private\n   * @param {boolean} show\n   */\n  _showLoader(show) {\n    this.$.showLoader = show;\n  }\n\n  /**\n   * To proper work, we need non-zero size the element. So, we'll wait for it.\n   *\n   * @private\n   * @returns {Promise<void>}\n   */\n  _waitForSize() {\n    const TIMEOUT = 3000;\n    return new Promise((resolve, reject) => {\n      const timeoutId = setTimeout(() => {\n        reject(new Error('[cloud-image-editor] timeout waiting for non-zero container size'));\n      }, TIMEOUT);\n      const resizeObserver = new ResizeObserver(([element]) => {\n        if (element.contentRect.width > 0 && element.contentRect.height > 0) {\n          resolve();\n          clearTimeout(timeoutId);\n          resizeObserver.disconnect();\n        }\n      });\n      resizeObserver.observe(this);\n    });\n  }\n\n  initCallback() {\n    super.initCallback();\n\n    this.$['*faderEl'] = this.ref['fader-el'];\n    this.$['*cropperEl'] = this.ref['cropper-el'];\n    this.$['*imgContainerEl'] = this.ref['img-container-el'];\n\n    this.initEditor();\n  }\n\n  async updateImage() {\n    if (!this.isConnected) {\n      return;\n    }\n    await this._waitForSize();\n\n    if (this.$.cdnUrl) {\n      const uuid = extractUuid(this.$.cdnUrl);\n      const originalUrl = createOriginalUrl(this.$.cdnUrl, uuid);\n      if (originalUrl === this.$['*originalUrl']) {\n        return;\n      }\n      this.$['*originalUrl'] = originalUrl;\n      const operations = extractOperations(this.$.cdnUrl);\n      const transformations = operationsToTransformations(operations);\n      this.$['*editorTransformations'] = transformations;\n    } else if (this.$.uuid) {\n      const originalUrl = createOriginalUrl(this.cfg.cdnCname, this.$.uuid);\n      if (originalUrl === this.$['*originalUrl']) {\n        return;\n      }\n      this.$['*originalUrl'] = originalUrl;\n      this.$['*editorTransformations'] = {};\n    } else {\n      throw new Error('No UUID nor CDN URL provided');\n    }\n\n    if (this.$['*tabId'] === TabId.CROP) {\n      this.$['*cropperEl'].deactivate({ reset: true });\n    } else {\n      this.$['*faderEl'].deactivate();\n    }\n\n    try {\n      const cdnUrl = createCdnUrl(this.$['*originalUrl'], createCdnUrlModifiers('json'));\n      const json = await fetch(cdnUrl).then((response) => response.json());\n\n      const { width, height } = /** @type {{ width: number; height: number }} */ (json);\n      this.$['*imageSize'] = { width, height };\n\n      if (this.$['*tabId'] === TabId.CROP) {\n        this.$['*cropperEl'].activate(this.$['*imageSize']);\n      } else {\n        this.$['*faderEl'].activate({ url: this.$['*originalUrl'] });\n      }\n    } catch (err) {\n      if (err) {\n        console.error('Failed to load image info', err);\n      }\n    }\n  }\n\n  async initEditor() {\n    try {\n      await this._waitForSize();\n    } catch (err) {\n      if (this.isConnected) {\n        // @ts-ignore TODO: fix this\n        console.error(err.message);\n      }\n      return;\n    }\n\n    this.ref['img-el'].addEventListener('load', () => {\n      this._imgLoading = false;\n      this._debouncedShowLoader(false);\n\n      if (this.$.src !== TRANSPARENT_PIXEL_SRC) {\n        this.$['*networkProblems'] = false;\n      }\n    });\n\n    this.ref['img-el'].addEventListener('error', () => {\n      this._imgLoading = false;\n      this._debouncedShowLoader(false);\n\n      this.$['*networkProblems'] = true;\n    });\n\n    this.sub('src', (src) => {\n      let el = this.ref['img-el'];\n      if (el.src !== src) {\n        this._imgLoading = true;\n        el.src = src || TRANSPARENT_PIXEL_SRC;\n      }\n    });\n\n    this.sub('cropPreset', (val) => {\n      this.$['*cropPresetList'] = parseCropPreset(val);\n    });\n\n    this.sub(\n      'tabs',\n      /** @param {string} val */ (val) => {\n        this.$['*tabList'] = parseTabs(val);\n      },\n    );\n\n    this.sub('*tabId', (tabId) => {\n      this.ref['img-el'].className = classNames('image', {\n        image_hidden_to_cropper: tabId === TabId.CROP,\n        image_hidden_effects: tabId !== TabId.CROP,\n      });\n    });\n\n    this.classList.add('editor_ON');\n\n    this.sub('*networkProblems', (networkProblems) => {\n      this.$['presence.networkProblems'] = networkProblems;\n      this.$['presence.modalCaption'] = !networkProblems;\n    });\n\n    this.sub(\n      '*editorTransformations',\n      (transformations) => {\n        if (Object.keys(transformations).length === 0) {\n          return;\n        }\n        let originalUrl = this.$['*originalUrl'];\n        let cdnUrlModifiers = createCdnUrlModifiers(transformationsToOperations(transformations), 'preview');\n        let cdnUrl = createCdnUrl(originalUrl, cdnUrlModifiers);\n\n        /** @type {import('./types.js').ApplyResult} */\n        let eventData = {\n          originalUrl,\n          cdnUrlModifiers,\n          cdnUrl,\n          transformations,\n        };\n        this.dispatchEvent(\n          new CustomEvent('change', {\n            detail: eventData,\n            bubbles: true,\n            composed: true,\n          }),\n        );\n      },\n      false,\n    );\n\n    this.sub('uuid', (val) => val && this.updateImage());\n    this.sub('cdnUrl', (val) => val && this.updateImage());\n  }\n}\n\nCloudImageEditorBlock.template = TEMPLATE;\nCloudImageEditorBlock.bindAttributes({\n  uuid: 'uuid',\n  'cdn-url': 'cdnUrl',\n  'crop-preset': 'cropPreset',\n  tabs: 'tabs',\n});\n","// @ts-check\n\nimport { createCdnUrl, createCdnUrlModifiers } from '../../../utils/cdn-utils.js';\nimport { TRANSPARENT_PIXEL_SRC } from '../../../utils/transparentPixelSrc.js';\nimport { serializeCsv } from '../../utils/comma-separated.js';\nimport { transformationsToOperations } from './lib/transformationUtils.js';\nimport { ALL_TABS, TabId } from './toolbar-constants.js';\n\n/** @param {import('./CloudImageEditorBlock.js').CloudImageEditorBlock} fnCtx */\nexport function initState(fnCtx) {\n  return {\n    '*originalUrl': null,\n    '*faderEl': null,\n    '*cropperEl': null,\n    '*imgEl': null,\n    '*imgContainerEl': null,\n    '*networkProblems': false,\n    '*imageSize': null,\n    /** @type {import('./types.js').Transformations} */\n    '*editorTransformations': {},\n    /** @type {import('./types.js').CropPresetList} */\n    '*cropPresetList': [],\n    '*tabList': ALL_TABS,\n    '*tabId': TabId.CROP,\n\n    entry: null,\n    extension: null,\n    editorMode: false,\n    modalCaption: '',\n    isImage: false,\n    msg: '',\n    src: TRANSPARENT_PIXEL_SRC,\n    fileType: '',\n    showLoader: false,\n\n    // options\n    uuid: null,\n    cdnUrl: null,\n    cropPreset: '',\n    tabs: serializeCsv(ALL_TABS),\n\n    'presence.networkProblems': false,\n    'presence.modalCaption': true,\n    'presence.editorToolbar': false,\n    'presence.viewerToolbar': true,\n    // TODO: beware of wrong ctx in case of element re-creation:\n    '*on.retryNetwork': () => {\n      let images = fnCtx.querySelectorAll('img');\n      for (let img of images) {\n        let originalSrc = img.src;\n        img.src = TRANSPARENT_PIXEL_SRC;\n        img.src = originalSrc;\n      }\n      fnCtx.$['*networkProblems'] = false;\n    },\n    /** @param {import('./types.js').Transformations} transformations */\n    '*on.apply': (transformations) => {\n      if (!transformations) {\n        return;\n      }\n      let originalUrl = fnCtx.$['*originalUrl'];\n      let cdnUrlModifiers = createCdnUrlModifiers(transformationsToOperations(transformations), 'preview');\n      let cdnUrl = createCdnUrl(originalUrl, cdnUrlModifiers);\n\n      /** @type {import('./types.js').ApplyResult} */\n      let eventData = {\n        originalUrl,\n        cdnUrlModifiers,\n        cdnUrl,\n        transformations,\n      };\n      fnCtx.dispatchEvent(\n        new CustomEvent('apply', {\n          detail: eventData,\n          bubbles: true,\n          composed: true,\n        }),\n      );\n      fnCtx.remove();\n    },\n    '*on.cancel': () => {\n      fnCtx.remove();\n\n      fnCtx.dispatchEvent(\n        new CustomEvent('cancel', {\n          bubbles: true,\n          composed: true,\n        }),\n      );\n    },\n  };\n}\n","// @ts-check\nimport { Block } from '../../../abstract/Block.js';\nimport {\n  clamp,\n  constraintRect,\n  cornerPath,\n  createSvgNode,\n  moveRect,\n  rectContainsPoint,\n  resizeRect,\n  roundRect,\n  setSvgNodeAttrs,\n  sidePath,\n  thumbCursor,\n} from './crop-utils.js';\nimport {\n  GUIDE_STROKE_WIDTH,\n  GUIDE_THIRD,\n  MAX_INTERACTION_SIZE,\n  MIN_CROP_SIZE,\n  MIN_INTERACTION_SIZE,\n  THUMB_CORNER_SIZE,\n  THUMB_SIDE_SIZE,\n  THUMB_STROKE_WIDTH,\n} from './cropper-constants.js';\nimport { classNames } from './lib/classNames.js';\n\nexport class CropFrame extends Block {\n  constructor() {\n    super();\n\n    this.init$ = {\n      ...this.init$,\n      dragging: false,\n    };\n\n    /** @private */\n    this._handlePointerUp = this._handlePointerUp_.bind(this);\n\n    /** @private */\n    this._handlePointerMove = this._handlePointerMove_.bind(this);\n\n    /** @private */\n    this._handleSvgPointerMove = this._handleSvgPointerMove_.bind(this);\n  }\n\n  /**\n   * @private\n   * @param {import('./types.js').Direction} direction\n   */\n  _shouldThumbBeDisabled(direction) {\n    let imageBox = this.$['*imageBox'];\n    if (!imageBox) {\n      return;\n    }\n\n    if (direction === '' && imageBox.height <= MIN_CROP_SIZE && imageBox.width <= MIN_CROP_SIZE) {\n      return true;\n    }\n\n    let tooHigh = imageBox.height <= MIN_CROP_SIZE && (direction.includes('n') || direction.includes('s'));\n    let tooWide = imageBox.width <= MIN_CROP_SIZE && (direction.includes('e') || direction.includes('w'));\n    return tooHigh || tooWide;\n  }\n\n  /** @private */\n  _createBackdrop() {\n    /** @type {import('./types.js').Rectangle} */\n    let cropBox = this.$['*cropBox'];\n    if (!cropBox) {\n      return;\n    }\n    let { x, y, width, height } = cropBox;\n    let svg = this.ref['svg-el'];\n\n    let mask = createSvgNode('mask', { id: 'backdrop-mask' });\n    let maskRectOuter = createSvgNode('rect', {\n      x: 0,\n      y: 0,\n      width: '100%',\n      height: '100%',\n      fill: 'white',\n    });\n    let maskRectInner = createSvgNode('rect', {\n      x,\n      y,\n      width,\n      height,\n      fill: 'black',\n    });\n    mask.appendChild(maskRectOuter);\n    mask.appendChild(maskRectInner);\n\n    let backdropRect = createSvgNode('rect', {\n      x: 0,\n      y: 0,\n      width: '100%',\n      height: '100%',\n      fill: 'var(--color-image-background)',\n      'fill-opacity': 0.85,\n      mask: 'url(#backdrop-mask)',\n    });\n    svg.appendChild(backdropRect);\n    svg.appendChild(mask);\n\n    this._backdropMask = mask;\n    this._backdropMaskInner = maskRectInner;\n  }\n\n  /**\n   * @private Super Tricky workaround for the chromium bug See\n   *   https://bugs.chromium.org/p/chromium/issues/detail?id=330815\n   */\n  _resizeBackdrop() {\n    if (!this._backdropMask) {\n      return;\n    }\n    this._backdropMask.style.display = 'none';\n    window.requestAnimationFrame(() => {\n      if (this._backdropMask) {\n        this._backdropMask.style.display = 'block';\n      }\n    });\n  }\n\n  /** @private */\n  _updateBackdrop() {\n    /** @type {import('./types.js').Rectangle} */\n    let cropBox = this.$['*cropBox'];\n    if (!cropBox) {\n      return;\n    }\n    let { x, y, width, height } = cropBox;\n\n    this._backdropMaskInner && setSvgNodeAttrs(this._backdropMaskInner, { x, y, width, height });\n  }\n\n  /** @private */\n  _updateFrame() {\n    /** @type {import('./types.js').Rectangle} */\n    let cropBox = this.$['*cropBox'];\n\n    if (!cropBox || !this._frameGuides || !this._frameThumbs) {\n      return;\n    }\n    for (let thumb of Object.values(this._frameThumbs)) {\n      let { direction, pathNode, interactionNode, groupNode } = thumb;\n      let isCenter = direction === '';\n      let isCorner = direction.length === 2;\n      let { x, y, width, height } = cropBox;\n\n      if (isCenter) {\n        const moveThumbRect = {\n          x: x + width / 3,\n          y: y + height / 3,\n          width: width / 3,\n          height: height / 3,\n        };\n        setSvgNodeAttrs(interactionNode, moveThumbRect);\n      } else {\n        const thumbSizeMultiplier = clamp(\n          Math.min(width, height) / (THUMB_CORNER_SIZE * 2 + THUMB_SIDE_SIZE) / 2,\n          0,\n          1,\n        );\n\n        let { d, center } = isCorner\n          ? cornerPath(cropBox, direction, thumbSizeMultiplier)\n          : sidePath(\n              cropBox,\n              /** @type {Extract<import('./types.js').Direction, 'n' | 's' | 'w' | 'e'>} */ (direction),\n              thumbSizeMultiplier,\n            );\n        const size = Math.max(\n          MAX_INTERACTION_SIZE * clamp(Math.min(width, height) / MAX_INTERACTION_SIZE / 3, 0, 1),\n          MIN_INTERACTION_SIZE,\n        );\n        setSvgNodeAttrs(interactionNode, {\n          x: center[0] - size,\n          y: center[1] - size,\n          width: size * 2,\n          height: size * 2,\n        });\n        setSvgNodeAttrs(pathNode, { d });\n      }\n\n      let disableThumb = this._shouldThumbBeDisabled(direction);\n      groupNode.setAttribute(\n        'class',\n        classNames('thumb', {\n          'thumb--hidden': disableThumb,\n          'thumb--visible': !disableThumb,\n        }),\n      );\n    }\n\n    setSvgNodeAttrs(this._frameGuides, {\n      x: cropBox.x - GUIDE_STROKE_WIDTH * 0.5,\n      y: cropBox.y - GUIDE_STROKE_WIDTH * 0.5,\n      width: cropBox.width + GUIDE_STROKE_WIDTH,\n      height: cropBox.height + GUIDE_STROKE_WIDTH,\n    });\n  }\n\n  /** @private */\n  _createThumbs() {\n    /**\n     * @type {Partial<{\n     *   [K in import('./types.js').Direction]: {\n     *     direction: import('./types.js').Direction;\n     *     pathNode: SVGElement;\n     *     interactionNode: SVGElement;\n     *     groupNode: SVGElement;\n     *   };\n     * }>}\n     */\n    const frameThumbs = {};\n\n    for (let i = 0; i < 3; i++) {\n      for (let j = 0; j < 3; j++) {\n        let direction = /** @type {import('./types.js').Direction} */ (`${['n', '', 's'][i]}${['w', '', 'e'][j]}`);\n        let groupNode = createSvgNode('g');\n        groupNode.classList.add('thumb');\n        groupNode.setAttribute('with-effects', '');\n        let interactionNode = createSvgNode('rect', {\n          fill: 'transparent',\n        });\n        let pathNode = createSvgNode('path', {\n          stroke: 'currentColor',\n          fill: 'none',\n          'stroke-width': THUMB_STROKE_WIDTH,\n        });\n        groupNode.appendChild(pathNode);\n        groupNode.appendChild(interactionNode);\n        frameThumbs[direction] = {\n          direction,\n          pathNode,\n          interactionNode,\n          groupNode,\n        };\n\n        interactionNode.addEventListener('pointerdown', this._handlePointerDown.bind(this, direction));\n      }\n    }\n\n    return frameThumbs;\n  }\n\n  /** @private */\n  _createGuides() {\n    let svg = createSvgNode('svg');\n\n    let rect = createSvgNode('rect', {\n      x: 0,\n      y: 0,\n      width: '100%',\n      height: '100%',\n      fill: 'none',\n      stroke: '#000000',\n      'stroke-width': GUIDE_STROKE_WIDTH,\n      'stroke-opacity': 0.5,\n    });\n    svg.appendChild(rect);\n\n    for (let i = 1; i <= 2; i++) {\n      let line = createSvgNode('line', {\n        x1: `${GUIDE_THIRD * i}%`,\n        y1: `0%`,\n        x2: `${GUIDE_THIRD * i}%`,\n        y2: `100%`,\n        stroke: '#000000',\n        'stroke-width': GUIDE_STROKE_WIDTH,\n        'stroke-opacity': 0.3,\n      });\n      svg.appendChild(line);\n    }\n\n    for (let i = 1; i <= 2; i++) {\n      let line = createSvgNode('line', {\n        x1: `0%`,\n        y1: `${GUIDE_THIRD * i}%`,\n        x2: `100%`,\n        y2: `${GUIDE_THIRD * i}%`,\n        stroke: '#000000',\n        'stroke-width': GUIDE_STROKE_WIDTH,\n        'stroke-opacity': 0.3,\n      });\n      svg.appendChild(line);\n    }\n\n    svg.classList.add('guides', 'guides--semi-hidden');\n\n    return svg;\n  }\n\n  /** @private */\n  _createFrame() {\n    let svg = this.ref['svg-el'];\n    let fr = document.createDocumentFragment();\n\n    let frameGuides = this._createGuides();\n    fr.appendChild(frameGuides);\n\n    let frameThumbs = this._createThumbs();\n    for (let { groupNode } of Object.values(frameThumbs)) {\n      fr.appendChild(groupNode);\n    }\n\n    svg.appendChild(fr);\n    this._frameThumbs = frameThumbs;\n    this._frameGuides = frameGuides;\n  }\n\n  /**\n   * @private\n   * @param {import('./types.js').Direction} direction\n   * @param {PointerEvent} e\n   */\n  _handlePointerDown(direction, e) {\n    if (!this._frameThumbs) return;\n    let thumb = this._frameThumbs[direction];\n    if (this._shouldThumbBeDisabled(direction)) {\n      return;\n    }\n\n    let cropBox = this.$['*cropBox'];\n    let { x: svgX, y: svgY } = this.ref['svg-el'].getBoundingClientRect();\n    let x = e.x - svgX;\n    let y = e.y - svgY;\n\n    this.$.dragging = true;\n    this._draggingThumb = thumb;\n    this._dragStartPoint = [x, y];\n    /** @type {import('./types.js').Rectangle} */\n    this._dragStartCrop = { ...cropBox };\n  }\n\n  /**\n   * @private\n   * @param {PointerEvent} e\n   */\n  _handlePointerUp_(e) {\n    this._updateCursor();\n\n    if (!this.$.dragging) {\n      return;\n    }\n    e.stopPropagation();\n    e.preventDefault();\n\n    this.$.dragging = false;\n  }\n\n  /**\n   * @private\n   * @param {PointerEvent} e\n   */\n  _handlePointerMove_(e) {\n    if (!this.$.dragging || !this._dragStartPoint || !this._draggingThumb) {\n      return;\n    }\n    e.stopPropagation();\n    e.preventDefault();\n\n    let svg = this.ref['svg-el'];\n    let { x: svgX, y: svgY } = svg.getBoundingClientRect();\n    let x = e.x - svgX;\n    let y = e.y - svgY;\n    let dx = x - this._dragStartPoint[0];\n    let dy = y - this._dragStartPoint[1];\n    let { direction } = this._draggingThumb;\n\n    const movedCropBox = this._calcCropBox(direction, [dx, dy]);\n    if (movedCropBox) {\n      this.$['*cropBox'] = movedCropBox;\n    }\n  }\n\n  /**\n   * @private\n   * @param {import('./types.js').Direction} direction\n   * @param {[Number, Number]} delta\n   */\n  _calcCropBox(direction, delta) {\n    const [dx, dy] = delta;\n    /** @type {import('./types.js').Rectangle} */\n    let imageBox = this.$['*imageBox'];\n    let rect = /** @type {import('./types.js').Rectangle} */ (this._dragStartCrop) ?? this.$['*cropBox'];\n    /** @type {import('./types.js').CropPresetList[0]} */\n    const cropPreset = this.$['*cropPresetList']?.[0];\n    const aspectRatio = cropPreset ? cropPreset.width / cropPreset.height : undefined;\n\n    if (direction === '') {\n      rect = moveRect({ rect, delta: [dx, dy], imageBox });\n    } else {\n      rect = resizeRect({ rect, delta: [dx, dy], direction, aspectRatio, imageBox });\n    }\n\n    if (!Object.values(rect).every((number) => Number.isFinite(number) && number >= 0)) {\n      console.error('CropFrame is trying to create invalid rectangle', {\n        payload: rect,\n      });\n      return;\n    }\n    return constraintRect(roundRect(rect), this.$['*imageBox']);\n  }\n\n  /**\n   * @private\n   * @param {PointerEvent} e\n   */\n  _handleSvgPointerMove_(e) {\n    if (!this._frameThumbs) return;\n\n    let hoverThumb = Object.values(this._frameThumbs).find((thumb) => {\n      if (this._shouldThumbBeDisabled(thumb.direction)) {\n        return false;\n      }\n      let node = thumb.interactionNode;\n      let bounds = node.getBoundingClientRect();\n      let rect = {\n        x: bounds.x,\n        y: bounds.y,\n        width: bounds.width,\n        height: bounds.height,\n      };\n      let hover = rectContainsPoint(rect, [e.x, e.y]);\n      return hover;\n    });\n\n    this._hoverThumb = hoverThumb;\n    this._updateCursor();\n  }\n\n  /** @private */\n  _updateCursor() {\n    let hoverThumb = this._hoverThumb;\n    this.ref['svg-el'].style.cursor = hoverThumb ? thumbCursor(hoverThumb.direction) : 'initial';\n  }\n\n  /** @private */\n  _render() {\n    this._updateBackdrop();\n    this._updateFrame();\n  }\n\n  /** @param {boolean} visible */\n  toggleThumbs(visible) {\n    if (!this._frameThumbs) return;\n    Object.values(this._frameThumbs)\n      .map(({ groupNode }) => groupNode)\n      .forEach((groupNode) => {\n        groupNode.setAttribute(\n          'class',\n          classNames('thumb', {\n            'thumb--hidden': !visible,\n            'thumb--visible': visible,\n          }),\n        );\n      });\n  }\n\n  initCallback() {\n    super.initCallback();\n\n    this._createBackdrop();\n    this._createFrame();\n\n    this.sub('*imageBox', () => {\n      this._resizeBackdrop();\n      window.requestAnimationFrame(() => {\n        this._render();\n      });\n    });\n\n    this.sub('*cropBox', (cropBox) => {\n      if (!cropBox) {\n        return;\n      }\n      this._guidesHidden = cropBox.height <= MIN_CROP_SIZE || cropBox.width <= MIN_CROP_SIZE;\n      window.requestAnimationFrame(() => {\n        this._render();\n      });\n    });\n\n    this.sub('dragging', (dragging) => {\n      if (!this._frameGuides) return;\n      this._frameGuides.setAttribute(\n        'class',\n        classNames({\n          'guides--hidden': this._guidesHidden,\n          'guides--visible': !this._guidesHidden && dragging,\n          'guides--semi-hidden': !this._guidesHidden && !dragging,\n        }),\n      );\n    });\n\n    this.ref['svg-el'].addEventListener('pointermove', this._handleSvgPointerMove, true);\n    document.addEventListener('pointermove', this._handlePointerMove, true);\n    document.addEventListener('pointerup', this._handlePointerUp, true);\n  }\n\n  destroyCallback() {\n    super.destroyCallback();\n\n    document.removeEventListener('pointermove', this._handlePointerMove);\n    document.removeEventListener('pointerup', this._handlePointerUp);\n  }\n}\n\nCropFrame.template = /* HTML */ ` <svg class=\"svg\" ref=\"svg-el\" xmlns=\"http://www.w3.org/2000/svg\"></svg> `;\n","import { classNames } from './lib/classNames.js';\nimport { Block } from '../../../abstract/Block.js';\n\nexport class EditorButtonControl extends Block {\n  init$ = {\n    ...this.init$,\n    active: false,\n    title: '',\n    icon: '',\n    'on.click': null,\n  };\n\n  initCallback() {\n    super.initCallback();\n\n    this._titleEl = this.ref['title-el'];\n    this._iconEl = this.ref['icon-el'];\n\n    this.setAttribute('role', 'button');\n    if (this.tabIndex === -1) {\n      this.tabIndex = 0;\n    }\n\n    this.sub('title', (title) => {\n      let titleEl = this._titleEl;\n      if (titleEl) {\n        this._titleEl.style.display = title ? 'block' : 'none';\n      }\n    });\n\n    this.sub('active', (active) => {\n      this.className = classNames({\n        active: active,\n        not_active: !active,\n      });\n    });\n\n    this.sub('on.click', (onClick) => {\n      this.onclick = onClick;\n    });\n  }\n}\n\nEditorButtonControl.template = /* HTML */ `\n  <div class=\"before\"></div>\n  <lr-icon set=\"@name: icon;\"></lr-icon>\n  <div class=\"title\" ref=\"title-el\">{{title}}</div>\n`;\n","import { EditorButtonControl } from './EditorButtonControl.js';\n\nfunction nextAngle(prev) {\n  let angle = prev + 90;\n  angle = angle >= 360 ? 0 : angle;\n  return angle;\n}\n\nfunction nextValue(operation, prev) {\n  if (operation === 'rotate') {\n    return nextAngle(prev);\n  }\n  if (['mirror', 'flip'].includes(operation)) {\n    return !prev;\n  }\n  return null;\n}\n\nexport class EditorCropButtonControl extends EditorButtonControl {\n  initCallback() {\n    super.initCallback();\n\n    this.defineAccessor('operation', (operation) => {\n      if (!operation) {\n        return;\n      }\n\n      /** @private */\n      this._operation = operation;\n      this.$['icon'] = operation;\n    });\n\n    this.$['on.click'] = (e) => {\n      let prev = this.$['*cropperEl'].getValue(this._operation);\n      let next = nextValue(this._operation, prev);\n      this.$['*cropperEl'].setValue(this._operation, next);\n    };\n  }\n}\n","import { Block } from '../../../abstract/Block.js';\nimport { COLOR_OPERATIONS_CONFIG } from './toolbar-constants.js';\n\nconst ControlType = {\n  FILTER: 'filter',\n  COLOR_OPERATION: 'color_operation',\n};\n\nexport const FAKE_ORIGINAL_FILTER = 'original';\n\nexport class EditorSlider extends Block {\n  init$ = {\n    ...this.init$,\n    disabled: false,\n    min: 0,\n    max: 100,\n    value: 0,\n    defaultValue: 0,\n    zero: 0,\n    'on.input': (value) => {\n      this.$['*faderEl'].set(value);\n      this.$.value = value;\n    },\n  };\n\n  /**\n   * @param {String} operation\n   * @param {String} [filter]\n   */\n  setOperation(operation, filter) {\n    this._controlType = operation === 'filter' ? ControlType.FILTER : ControlType.COLOR_OPERATION;\n    this._operation = operation;\n    this._iconName = operation;\n    this._title = operation.toUpperCase();\n    this._filter = filter;\n\n    this._initializeValues();\n\n    this.$['*faderEl'].activate({\n      url: this.$['*originalUrl'],\n      operation: this._operation,\n      value: this._filter === FAKE_ORIGINAL_FILTER ? undefined : this.$.value,\n      filter: this._filter === FAKE_ORIGINAL_FILTER ? undefined : this._filter,\n      fromViewer: false,\n    });\n  }\n\n  /** @private */\n  _initializeValues() {\n    let { range, zero } = COLOR_OPERATIONS_CONFIG[this._operation];\n    let [min, max] = range;\n\n    this.$.min = min;\n    this.$.max = max;\n    this.$.zero = zero;\n\n    let transformation = this.$['*editorTransformations'][this._operation];\n    if (this._controlType === ControlType.FILTER) {\n      let value = max;\n      if (transformation) {\n        let { name, amount } = transformation;\n        value = name === this._filter ? amount : max;\n      }\n      this.$.value = value;\n      this.$.defaultValue = value;\n    }\n    if (this._controlType === ControlType.COLOR_OPERATION) {\n      let value = typeof transformation !== 'undefined' ? transformation : zero;\n      this.$.value = value;\n      this.$.defaultValue = value;\n    }\n  }\n\n  apply() {\n    let operationValue;\n    if (this._controlType === ControlType.FILTER) {\n      if (this._filter === FAKE_ORIGINAL_FILTER) {\n        operationValue = null;\n      } else {\n        operationValue = { name: this._filter, amount: this.$.value };\n      }\n    } else {\n      operationValue = this.$.value;\n    }\n\n    /** @type {import('./types.js').Transformations} */\n    let transformations = {\n      ...this.$['*editorTransformations'],\n      [this._operation]: operationValue,\n    };\n\n    this.$['*editorTransformations'] = transformations;\n  }\n\n  cancel() {\n    this.$['*faderEl'].deactivate({ hide: false });\n  }\n\n  initCallback() {\n    super.initCallback();\n\n    this.sub('*originalUrl', (originalUrl) => {\n      this._originalUrl = originalUrl;\n    });\n\n    this.sub('value', (value) => {\n      let tooltip = `${this._filter || this._operation} ${value}`;\n      this.$['*operationTooltip'] = tooltip;\n    });\n  }\n}\n\nEditorSlider.template = /* HTML */ `\n  <lr-slider-ui\n    ref=\"slider-el\"\n    set=\"disabled: disabled; min: min; max: max; defaultValue: defaultValue; zero: zero; onInput: on.input;\"\n  ></lr-slider-ui>\n`;\n","import { TRANSPARENT_PIXEL_SRC } from '../../../../utils/transparentPixelSrc.js';\n\nexport function preloadImage(src) {\n  let image = new Image();\n\n  let promise = new Promise((resolve, reject) => {\n    image.src = src;\n    image.onload = resolve;\n    image.onerror = reject;\n  });\n\n  let cancel = () => {\n    if (image.naturalWidth === 0) {\n      image.src = TRANSPARENT_PIXEL_SRC;\n    }\n  };\n\n  return { promise, image, cancel };\n}\n\nexport function batchPreloadImages(list) {\n  let preloaders = [];\n\n  for (let src of list) {\n    let preload = preloadImage(src);\n    preloaders.push(preload);\n  }\n\n  let images = preloaders.map((preload) => preload.image);\n  let promise = Promise.allSettled(preloaders.map((preload) => preload.promise));\n  let cancel = () => {\n    preloaders.forEach((preload) => {\n      preload.cancel();\n    });\n  };\n\n  return { promise, images, cancel };\n}\n","import { createCdnUrl, createCdnUrlModifiers } from '../../../utils/cdn-utils.js';\nimport { EditorButtonControl } from './EditorButtonControl.js';\nimport { FAKE_ORIGINAL_FILTER } from './EditorSlider.js';\nimport { COMMON_OPERATIONS, transformationsToOperations } from './lib/transformationUtils.js';\nimport { preloadImage } from './lib/preloadImage.js';\n\nexport class EditorFilterControl extends EditorButtonControl {\n  init$ = {\n    ...this.init$,\n    active: false,\n    title: '',\n    icon: '',\n    isOriginal: false,\n    iconSize: '20',\n    'on.click': null,\n  };\n\n  _previewSrc() {\n    let previewSize = parseInt(window.getComputedStyle(this).getPropertyValue('--l-base-min-width'), 10);\n    let dpr = window.devicePixelRatio;\n    let size = Math.ceil(dpr * previewSize);\n    let quality = dpr >= 2 ? 'lightest' : 'normal';\n    let filterValue = 100;\n\n    /** @type {import('./types.js').Transformations} */\n    let transformations = { ...this.$['*editorTransformations'] };\n    transformations[this._operation] =\n      this._filter !== FAKE_ORIGINAL_FILTER\n        ? {\n            name: this._filter,\n            amount: filterValue,\n          }\n        : undefined;\n\n    return createCdnUrl(\n      this._originalUrl,\n      createCdnUrlModifiers(\n        COMMON_OPERATIONS,\n        transformationsToOperations(transformations),\n        `quality/${quality}`,\n        `scale_crop/${size}x${size}/center`,\n      ),\n    );\n  }\n\n  /**\n   * @param {IntersectionObserverEntry[]} entries\n   * @param {IntersectionObserver} observer\n   */\n  _observerCallback(entries, observer) {\n    let intersectionEntry = entries[0];\n    if (intersectionEntry.isIntersecting) {\n      let src = this.proxyUrl(this._previewSrc());\n      let previewEl = this.ref['preview-el'];\n      let { promise, cancel } = preloadImage(src);\n      this._cancelPreload = cancel;\n      promise\n        .catch((err) => {\n          this.$['*networkProblems'] = true;\n          console.error('Failed to load image', { error: err });\n        })\n        .finally(() => {\n          previewEl.style.backgroundImage = `url(${src})`;\n          previewEl.setAttribute('loaded', '');\n\n          observer.unobserve(this);\n        });\n    } else {\n      this._cancelPreload && this._cancelPreload();\n    }\n  }\n\n  initCallback() {\n    super.initCallback();\n\n    this.$['on.click'] = (e) => {\n      if (!this.$.active) {\n        this.$['*sliderEl'].setOperation(this._operation, this._filter);\n        this.$['*sliderEl'].apply();\n      } else if (!this.$.isOriginal) {\n        this.$['*sliderEl'].setOperation(this._operation, this._filter);\n        this.$['*showSlider'] = true;\n      }\n\n      this.$['*currentFilter'] = this._filter;\n    };\n\n    this.defineAccessor('filter', (filter) => {\n      this._operation = 'filter';\n      this._filter = filter;\n      this.$.isOriginal = filter === FAKE_ORIGINAL_FILTER;\n      this.$.icon = this.$.isOriginal ? 'original' : 'slider';\n    });\n\n    this._observer = new window.IntersectionObserver(this._observerCallback.bind(this), {\n      threshold: [0, 1],\n    });\n\n    let originalUrl = this.$['*originalUrl'];\n    this._originalUrl = originalUrl;\n\n    if (this.$.isOriginal) {\n      this.ref['icon-el'].classList.add('original-icon');\n    } else {\n      this._observer.observe(this);\n    }\n\n    this.sub('*currentFilter', (currentFilter) => {\n      this.$.active = currentFilter && currentFilter === this._filter;\n    });\n\n    this.sub('isOriginal', (isOriginal) => {\n      this.$.iconSize = isOriginal ? 40 : 20;\n    });\n\n    this.sub('active', (active) => {\n      if (this.$.isOriginal) {\n        return;\n      }\n      let iconEl = this.ref['icon-el'];\n      iconEl.style.opacity = active ? '1' : '0';\n\n      let previewEl = this.ref['preview-el'];\n      if (active) {\n        previewEl.style.opacity = '0';\n      } else if (previewEl.style.backgroundImage) {\n        previewEl.style.opacity = '1';\n      }\n    });\n\n    this.sub('*networkProblems', (networkProblems) => {\n      if (!networkProblems) {\n        let src = this.proxyUrl(this._previewSrc());\n        let previewEl = this.ref['preview-el'];\n        if (previewEl.style.backgroundImage) {\n          previewEl.style.backgroundImage = 'none';\n          previewEl.style.backgroundImage = `url(${src})`;\n        }\n      }\n    });\n  }\n\n  destroyCallback() {\n    super.destroyCallback();\n    this._observer?.disconnect();\n    this._cancelPreload && this._cancelPreload();\n  }\n}\n\nEditorFilterControl.template = /* HTML */ `\n  <div class=\"before\"></div>\n  <div class=\"preview\" ref=\"preview-el\"></div>\n  <lr-icon ref=\"icon-el\" set=\"@name: icon; @size: iconSize;\"></lr-icon>\n`;\n","import { EditorButtonControl } from './EditorButtonControl.js';\nimport { COLOR_OPERATIONS_CONFIG } from './toolbar-constants.js';\n\nexport class EditorOperationControl extends EditorButtonControl {\n  /**\n   * @private\n   * @type {String}\n   */\n  _operation = '';\n\n  initCallback() {\n    super.initCallback();\n\n    this.$['on.click'] = (e) => {\n      this.$['*sliderEl'].setOperation(this._operation);\n      this.$['*showSlider'] = true;\n      this.$['*currentOperation'] = this._operation;\n    };\n\n    this.defineAccessor('operation', (operation) => {\n      if (operation) {\n        this._operation = operation;\n        this.$['icon'] = operation;\n        this.bindL10n('title', () => this.l10n(operation));\n      }\n    });\n\n    this.sub('*editorTransformations', (editorTransformations) => {\n      if (!this._operation) {\n        return;\n      }\n\n      let { zero } = COLOR_OPERATIONS_CONFIG[this._operation];\n      let value = editorTransformations[this._operation];\n      let isActive = typeof value !== 'undefined' ? value !== zero : false;\n      this.$.active = isActive;\n    });\n  }\n}\n","import { createCdnUrl, createCdnUrlModifiers } from '../../../utils/cdn-utils.js';\nimport { COMMON_OPERATIONS, transformationsToOperations } from './lib/transformationUtils.js';\n\nexport function viewerImageSrc(originalUrl, width, transformations) {\n  const MAX_CDN_DIMENSION = 3000;\n  let dpr = window.devicePixelRatio;\n  let size = Math.min(Math.ceil(width * dpr), MAX_CDN_DIMENSION);\n  let quality = dpr >= 2 ? 'lightest' : 'normal';\n\n  return createCdnUrl(\n    originalUrl,\n    createCdnUrlModifiers(\n      COMMON_OPERATIONS,\n      transformationsToOperations(transformations),\n      `quality/${quality}`,\n      `stretch/off/-/resize/${size}x`,\n    ),\n  );\n}\n","// @ts-check\n\nimport { Block } from '../../../abstract/Block.js';\nimport { debounce } from '../../utils/debounce.js';\nimport { throttle } from '../../utils/throttle.js';\nimport {\n  clamp,\n  constraintRect,\n  isRectInsideRect,\n  isRectMatchesAspectRatio,\n  rotateSize,\n  roundRect,\n} from './crop-utils.js';\nimport { CROP_PADDING } from './cropper-constants.js';\nimport { classNames } from './lib/classNames.js';\nimport { pick } from './lib/pick.js';\nimport { preloadImage } from './lib/preloadImage.js';\nimport { viewerImageSrc } from './util.js';\n\n/**\n * @typedef {Object} Operations\n * @property {boolean} flip\n * @property {boolean} mirror\n * @property {Number} rotate\n */\n\n/**\n * @param {import('./types.js').Transformations['crop']} crop\n * @returns {boolean}\n */\nfunction validateCrop(crop) {\n  if (!crop) {\n    return true;\n  }\n  /** @type {((arg: NonNullable<typeof crop>) => boolean)[]} */\n  let shouldMatch = [\n    ({ dimensions, coords }) =>\n      [...dimensions, ...coords].every((number) => Number.isInteger(number) && Number.isFinite(number)),\n    ({ dimensions, coords }) => dimensions.every((d) => d > 0) && coords.every((c) => c >= 0),\n  ];\n  return shouldMatch.every((matcher) => matcher(crop));\n}\n\nexport class EditorImageCropper extends Block {\n  ctxOwner = true;\n  constructor() {\n    super();\n\n    this.init$ = {\n      ...this.init$,\n      image: null,\n      '*padding': CROP_PADDING,\n      /** @type {Operations} */\n      '*operations': {\n        rotate: 0,\n        mirror: false,\n        flip: false,\n      },\n      /** @type {import('./types.js').Rectangle} */\n      '*imageBox': {\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0,\n      },\n      /** @type {import('./types.js').Rectangle} */\n      '*cropBox': {\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0,\n      },\n    };\n\n    /** @private */\n    this._commitDebounced = debounce(this._commit.bind(this), 300);\n\n    /** @private */\n    this._handleResizeThrottled = throttle(this._handleResize.bind(this), 100);\n\n    this._imageSize = { width: 0, height: 0 };\n  }\n\n  /** @private */\n  _handleResize() {\n    if (!this.isConnected || !this._isActive) {\n      return;\n    }\n    this._initCanvas();\n    this._syncTransformations();\n    this._alignImage();\n    this._alignCrop();\n    this._draw();\n  }\n\n  /** @private */\n  _syncTransformations() {\n    let transformations = this.$['*editorTransformations'];\n    let pickedTransformations = pick(transformations, Object.keys(this.$['*operations']));\n    let operations = { ...this.$['*operations'], ...pickedTransformations };\n    this.$['*operations'] = operations;\n  }\n\n  /** @private */\n  _initCanvas() {\n    /** @type {HTMLCanvasElement} */\n    let canvas = this.ref['canvas-el'];\n    let ctx = canvas.getContext('2d');\n\n    let width = this.offsetWidth;\n    let height = this.offsetHeight;\n    let dpr = window.devicePixelRatio;\n    canvas.style.width = `${width}px`;\n    canvas.style.height = `${height}px`;\n    canvas.width = width * dpr;\n    canvas.height = height * dpr;\n    ctx?.scale(dpr, dpr);\n\n    this._canvas = canvas;\n    this._ctx = ctx;\n  }\n\n  /** @private */\n  _alignImage() {\n    if (!this._isActive || !this.$.image) {\n      return;\n    }\n\n    let image = this.$.image;\n    let padding = this.$['*padding'];\n    let operations = this.$['*operations'];\n    let { rotate } = operations;\n\n    let bounds = { width: this.offsetWidth, height: this.offsetHeight };\n    let naturalSize = rotateSize({ width: image.naturalWidth, height: image.naturalHeight }, rotate);\n    let imageBox;\n\n    if (naturalSize.width > bounds.width - padding * 2 || naturalSize.height > bounds.height - padding * 2) {\n      let imageAspectRatio = naturalSize.width / naturalSize.height;\n      let viewportAspectRatio = bounds.width / bounds.height;\n\n      if (imageAspectRatio > viewportAspectRatio) {\n        let width = bounds.width - padding * 2;\n        let height = width / imageAspectRatio;\n        let x = 0 + padding;\n        let y = padding + (bounds.height - padding * 2) / 2 - height / 2;\n        imageBox = { x, y, width, height };\n      } else {\n        let height = bounds.height - padding * 2;\n        let width = height * imageAspectRatio;\n        let x = padding + (bounds.width - padding * 2) / 2 - width / 2;\n        let y = 0 + padding;\n        imageBox = { x, y, width, height };\n      }\n    } else {\n      let { width, height } = naturalSize;\n      let x = padding + (bounds.width - padding * 2) / 2 - width / 2;\n      let y = padding + (bounds.height - padding * 2) / 2 - height / 2;\n      imageBox = { x, y, width, height };\n    }\n\n    this.$['*imageBox'] = roundRect(imageBox);\n  }\n\n  /** @private */\n  _alignCrop() {\n    let cropBox = this.$['*cropBox'];\n    let imageBox = this.$['*imageBox'];\n    let operations = this.$['*operations'];\n    let { rotate } = operations;\n    let cropTransformation = this.$['*editorTransformations']['crop'];\n    let { width: previewWidth, x: previewX, y: previewY } = this.$['*imageBox'];\n\n    if (cropTransformation) {\n      let {\n        dimensions: [width, height],\n        coords: [x, y],\n      } = cropTransformation;\n      let { width: sourceWidth } = rotateSize(this._imageSize, rotate);\n      let ratio = previewWidth / sourceWidth;\n      cropBox = constraintRect(\n        roundRect({\n          x: previewX + x * ratio,\n          y: previewY + y * ratio,\n          width: width * ratio,\n          height: height * ratio,\n        }),\n        this.$['*imageBox'],\n      );\n    }\n\n    /** @type {import('./types.js').CropPresetList[0] | undefined} */\n    const cropPreset = this.$['*cropPresetList']?.[0];\n    const cropAspectRatio = cropPreset ? cropPreset.width / cropPreset.height : undefined;\n\n    if (\n      !isRectInsideRect(cropBox, imageBox) ||\n      (cropAspectRatio && !isRectMatchesAspectRatio(cropBox, cropAspectRatio))\n    ) {\n      const imageAspectRatio = imageBox.width / imageBox.height;\n      let width = imageBox.width;\n      let height = imageBox.height;\n      if (cropAspectRatio) {\n        if (imageAspectRatio > cropAspectRatio) {\n          width = Math.min(imageBox.height * cropAspectRatio, imageBox.width);\n        } else {\n          height = Math.min(imageBox.width / cropAspectRatio, imageBox.height);\n        }\n      }\n      cropBox = {\n        x: imageBox.x + imageBox.width / 2 - width / 2,\n        y: imageBox.y + imageBox.height / 2 - height / 2,\n        width,\n        height,\n      };\n    }\n\n    this.$['*cropBox'] = constraintRect(roundRect(cropBox), this.$['*imageBox']);\n  }\n\n  /** @private */\n  _drawImage() {\n    let ctx = this._ctx;\n    if (!ctx) return;\n    let image = this.$.image;\n    let imageBox = this.$['*imageBox'];\n    let operations = this.$['*operations'];\n    let { mirror, flip, rotate } = operations;\n    let rotated = rotateSize({ width: imageBox.width, height: imageBox.height }, rotate);\n    ctx.save();\n    ctx.translate(imageBox.x + imageBox.width / 2, imageBox.y + imageBox.height / 2);\n    ctx.rotate((rotate * Math.PI * -1) / 180);\n    ctx.scale(mirror ? -1 : 1, flip ? -1 : 1);\n    ctx.drawImage(image, -rotated.width / 2, -rotated.height / 2, rotated.width, rotated.height);\n    ctx.restore();\n  }\n\n  /** @private */\n  _draw() {\n    if (!this._isActive || !this.$.image || !this._canvas || !this._ctx) {\n      return;\n    }\n    let canvas = this._canvas;\n    let ctx = this._ctx;\n\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n    this._drawImage();\n  }\n\n  /**\n   * @private\n   * @param {{ fromViewer?: boolean }} options\n   */\n  _animateIn({ fromViewer }) {\n    if (this.$.image) {\n      this.ref['frame-el'].toggleThumbs(true);\n      this._transitionToImage();\n      setTimeout(() => {\n        this.className = classNames({\n          active_from_viewer: fromViewer,\n          active_from_editor: !fromViewer,\n          inactive_to_editor: false,\n        });\n      });\n    }\n  }\n\n  /**\n   * @private\n   * @returns {NonNullable<import('./types.js').Transformations['crop']>['dimensions']}\n   */\n  _getCropDimensions() {\n    let cropBox = this.$['*cropBox'];\n    let imageBox = this.$['*imageBox'];\n    let operations = this.$['*operations'];\n    let { rotate } = operations;\n    let { width: previewWidth, height: previewHeight } = imageBox;\n    let { width: sourceWidth, height: sourceHeight } = rotateSize(this._imageSize, rotate);\n    let { width: cropWidth, height: cropHeight } = cropBox;\n    let ratioW = previewWidth / sourceWidth;\n    let ratioH = previewHeight / sourceHeight;\n\n    /** @type {[Number, Number]} */\n    let dimensions = [\n      clamp(Math.round(cropWidth / ratioW), 1, sourceWidth),\n      clamp(Math.round(cropHeight / ratioH), 1, sourceHeight),\n    ];\n\n    return dimensions;\n  }\n\n  /**\n   * @private\n   * @returns {import('./types.js').Transformations['crop']}\n   */\n  _getCropTransformation() {\n    let cropBox = this.$['*cropBox'];\n    let imageBox = this.$['*imageBox'];\n    let operations = this.$['*operations'];\n    let { rotate } = operations;\n    let { width: previewWidth, height: previewHeight, x: previewX, y: previewY } = imageBox;\n    let { width: sourceWidth, height: sourceHeight } = rotateSize(this._imageSize, rotate);\n    let { x: cropX, y: cropY } = cropBox;\n    let ratioW = previewWidth / sourceWidth;\n    let ratioH = previewHeight / sourceHeight;\n\n    let dimensions = this._getCropDimensions();\n    let crop = {\n      dimensions,\n      coords: /** @type {[Number, Number]} */ ([\n        clamp(Math.round((cropX - previewX) / ratioW), 0, sourceWidth - dimensions[0]),\n        clamp(Math.round((cropY - previewY) / ratioH), 0, sourceHeight - dimensions[1]),\n      ]),\n    };\n    if (!validateCrop(crop)) {\n      console.error('Cropper is trying to create invalid crop object', {\n        payload: crop,\n      });\n      return undefined;\n    }\n    if (dimensions[0] === sourceWidth && dimensions[1] === sourceHeight) {\n      return undefined;\n    }\n\n    return crop;\n  }\n\n  /** @private */\n  _commit() {\n    if (!this.isConnected || !this._imageSize) {\n      return;\n    }\n    let operations = this.$['*operations'];\n    let { rotate, mirror, flip } = operations;\n    let crop = this._getCropTransformation();\n    /** @type {import('./types.js').Transformations} */\n    let editorTransformations = this.$['*editorTransformations'];\n    let transformations = {\n      ...editorTransformations,\n      crop,\n      rotate,\n      mirror,\n      flip,\n    };\n\n    this.$['*editorTransformations'] = transformations;\n  }\n\n  /**\n   * @param {String} operation\n   * @param {Number} value\n   * @returns {void}\n   */\n  setValue(operation, value) {\n    this.$['*operations'] = {\n      ...this.$['*operations'],\n      [operation]: value,\n    };\n\n    if (!this._isActive) {\n      return;\n    }\n\n    this._alignImage();\n    this._alignCrop();\n    this._draw();\n  }\n\n  /**\n   * @param {keyof Operations} operation\n   * @returns {Number | boolean}\n   */\n  getValue(operation) {\n    return this.$['*operations'][operation];\n  }\n\n  /**\n   * @param {import('./types.js').ImageSize} imageSize\n   * @param {{ fromViewer?: boolean }} options\n   */\n  async activate(imageSize, { fromViewer } = {}) {\n    if (this._isActive) {\n      return;\n    }\n    this._isActive = true;\n    this._imageSize = imageSize;\n    this.removeEventListener('transitionend', this._reset);\n\n    try {\n      this.$.image = await this._waitForImage(this.$['*originalUrl'], this.$['*editorTransformations']);\n      this._syncTransformations();\n      this._animateIn({ fromViewer });\n    } catch (err) {\n      console.error('Failed to activate cropper', { error: err });\n    }\n\n    this._observer = new ResizeObserver(([entry]) => {\n      const nonZeroSize = entry.contentRect.width > 0 && entry.contentRect.height > 0;\n      if (nonZeroSize && this._isActive && this.$.image) {\n        this._handleResizeThrottled();\n      }\n    });\n    this._observer.observe(this);\n  }\n  deactivate({ reset = false } = {}) {\n    if (!this._isActive) {\n      return;\n    }\n    !reset && this._commit();\n    this._isActive = false;\n\n    this._transitionToCrop();\n\n    this.className = classNames({\n      active_from_viewer: false,\n      active_from_editor: false,\n      inactive_to_editor: true,\n    });\n\n    this.ref['frame-el'].toggleThumbs(false);\n    this.addEventListener('transitionend', this._reset, { once: true });\n    this._observer?.disconnect();\n  }\n\n  /** @private */\n  _transitionToCrop() {\n    let dimensions = this._getCropDimensions();\n    let scaleX = Math.min(this.offsetWidth, dimensions[0]) / this.$['*cropBox'].width;\n    let scaleY = Math.min(this.offsetHeight, dimensions[1]) / this.$['*cropBox'].height;\n    let scale = Math.min(scaleX, scaleY);\n    let cropCenterX = this.$['*cropBox'].x + this.$['*cropBox'].width / 2;\n    let cropCenterY = this.$['*cropBox'].y + this.$['*cropBox'].height / 2;\n\n    this.style.transform = `scale(${scale}) translate(${(this.offsetWidth / 2 - cropCenterX) / scale}px, ${\n      (this.offsetHeight / 2 - cropCenterY) / scale\n    }px)`;\n    this.style.transformOrigin = `${cropCenterX}px ${cropCenterY}px`;\n  }\n\n  /** @private */\n  _transitionToImage() {\n    let cropCenterX = this.$['*cropBox'].x + this.$['*cropBox'].width / 2;\n    let cropCenterY = this.$['*cropBox'].y + this.$['*cropBox'].height / 2;\n\n    this.style.transform = `scale(1)`;\n    this.style.transformOrigin = `${cropCenterX}px ${cropCenterY}px`;\n  }\n\n  /** @private */\n  _reset() {\n    if (this._isActive) {\n      return;\n    }\n    this.$.image = null;\n  }\n\n  /**\n   * @private\n   * @param {String} originalUrl\n   * @param {import('./types.js').Transformations} transformations\n   * @returns {Promise<HTMLImageElement>}\n   */\n  _waitForImage(originalUrl, transformations) {\n    let width = this.offsetWidth;\n    transformations = {\n      ...transformations,\n      crop: undefined,\n      rotate: undefined,\n      flip: undefined,\n      mirror: undefined,\n    };\n    let src = this.proxyUrl(viewerImageSrc(originalUrl, width, transformations));\n    let { promise, cancel, image } = preloadImage(src);\n\n    let stop = this._handleImageLoading(src);\n    image.addEventListener('load', stop, { once: true });\n    image.addEventListener('error', stop, { once: true });\n    this._cancelPreload && this._cancelPreload();\n    this._cancelPreload = cancel;\n\n    return promise\n      .then(() => image)\n      .catch((err) => {\n        console.error('Failed to load image', { error: err });\n        this.$['*networkProblems'] = true;\n        return Promise.resolve(image);\n      });\n  }\n\n  /**\n   * @private\n   * @param {String} src\n   * @returns {() => void} Destructor\n   */\n  _handleImageLoading(src) {\n    let operation = 'crop';\n    let loadingOperations = this.$['*loadingOperations'];\n    if (!loadingOperations.get(operation)) {\n      loadingOperations.set(operation, new Map());\n    }\n\n    if (!loadingOperations.get(operation).get(src)) {\n      loadingOperations.set(operation, loadingOperations.get(operation).set(src, true));\n      this.$['*loadingOperations'] = loadingOperations;\n    }\n\n    return () => {\n      if (loadingOperations?.get(operation)?.has(src)) {\n        loadingOperations.get(operation).delete(src);\n        this.$['*loadingOperations'] = loadingOperations;\n      }\n    };\n  }\n\n  initCallback() {\n    super.initCallback();\n\n    this.sub('*imageBox', () => {\n      this._draw();\n    });\n\n    this.sub('*cropBox', () => {\n      if (this.$.image) {\n        this._commitDebounced();\n      }\n    });\n\n    this.sub('*cropPresetList', () => {\n      this._alignCrop();\n    });\n\n    setTimeout(() => {\n      this.sub('*networkProblems', (networkProblems) => {\n        if (!networkProblems) {\n          this._isActive && this.activate(this._imageSize, { fromViewer: false });\n        }\n      });\n    }, 0);\n  }\n\n  destroyCallback() {\n    super.destroyCallback();\n    this._observer?.disconnect();\n  }\n}\n\nEditorImageCropper.template = /* HTML */ `\n  <canvas class=\"canvas\" ref=\"canvas-el\"></canvas>\n  <lr-crop-frame ref=\"frame-el\"></lr-crop-frame>\n`;\n","/**\n * @param {{}} obj\n * @param {String[]} keys\n * @returns {{}}\n */\nexport function pick(obj, keys) {\n  let result = {};\n  for (let key of keys) {\n    let value = obj[key];\n    if (obj.hasOwnProperty(key) || value !== undefined) {\n      result[key] = value;\n    }\n  }\n  return result;\n}\n","/**\n * @param {Number} a Start of sample (int)\n * @param {Number} b End of sample (int)\n * @param {Number} n Number of elements (int)\n * @returns {Number[]}\n */\nexport function linspace(a, b, n) {\n  let ret = Array(n);\n  n--;\n  for (let i = n; i >= 0; i--) {\n    ret[i] = Math.ceil((i * b + (n - i) * a) / n);\n  }\n  return ret;\n}\n","import { debounce } from '../../utils/debounce.js';\nimport { Block } from '../../../abstract/Block.js';\nimport { classNames } from './lib/classNames.js';\nimport { linspace } from './lib/linspace.js';\nimport { batchPreloadImages } from './lib/preloadImage.js';\nimport { COLOR_OPERATIONS_CONFIG } from './toolbar-constants.js';\nimport { viewerImageSrc } from './util.js';\n\n/**\n * @param {Number[]} numbers\n * @returns {[Number, Number][]}\n */\nfunction splitBySections(numbers) {\n  return numbers.reduce(\n    (acc, point, idx) => (idx < numbers.length - 1 ? [...acc, [point, numbers[idx + 1]]] : acc),\n    [],\n  );\n}\n\n/**\n * @param {Number[]} keypoints\n * @param {Number} value\n * @param {Number} zero\n */\nfunction calculateOpacities(keypoints, value, zero) {\n  let section = splitBySections(keypoints).find(([left, right]) => left <= value && value <= right);\n  return keypoints.map((point) => {\n    let distance = Math.abs(section[0] - section[1]);\n    let relation = Math.abs(value - section[0]) / distance;\n\n    if (section[0] === point) {\n      return value > zero ? 1 : 1 - relation;\n    }\n    if (section[1] === point) {\n      return value >= zero ? relation : 1;\n    }\n    return 0;\n  });\n}\n\n/**\n * @param {Number[]} keypoints\n * @param {Number} zero\n */\nfunction calculateZIndices(keypoints, zero) {\n  return keypoints.map((point, idx) => (point < zero ? keypoints.length - idx : idx));\n}\n\n/**\n * @param {String} operation\n * @param {Number} value\n * @returns {Number[]}\n */\nfunction keypointsRange(operation, value) {\n  let n = COLOR_OPERATIONS_CONFIG[operation].keypointsNumber;\n  let { range, zero } = COLOR_OPERATIONS_CONFIG[operation];\n\n  return [...new Set([...linspace(range[0], zero, n + 1), ...linspace(zero, range[1], n + 1), zero, value])].sort(\n    (a, b) => a - b,\n  );\n}\n\n/**\n * @typedef {Object} Keypoint\n * @property {String} src\n * @property {Number} opacity\n * @property {Number} zIndex\n * @property {HTMLImageElement} image\n * @property {Number} value\n */\n\nexport class EditorImageFader extends Block {\n  constructor() {\n    super();\n\n    /**\n     * @private\n     * @type {Boolean}\n     */\n    this._isActive = false;\n\n    /**\n     * @private\n     * @type {Boolean}\n     */\n    this._hidden = true;\n\n    /** @private */\n    this._addKeypointDebounced = debounce(this._addKeypoint.bind(this), 600);\n\n    this.classList.add('inactive_to_cropper');\n  }\n\n  /**\n   * @private\n   * @param {String} src\n   * @returns {() => void} Destructor\n   */\n  _handleImageLoading(src) {\n    let operation = this._operation;\n\n    let loadingOperations = this.$['*loadingOperations'];\n    if (!loadingOperations.get(operation)) {\n      loadingOperations.set(operation, new Map());\n    }\n\n    if (!loadingOperations.get(operation).get(src)) {\n      loadingOperations.set(operation, loadingOperations.get(operation).set(src, true));\n      this.$['*loadingOperations'] = loadingOperations;\n    }\n\n    return () => {\n      if (loadingOperations?.get(operation)?.has(src)) {\n        loadingOperations.get(operation).delete(src);\n        this.$['*loadingOperations'] = loadingOperations;\n      }\n    };\n  }\n\n  /** @private */\n  _flush() {\n    window.cancelAnimationFrame(this._raf);\n    this._raf = window.requestAnimationFrame(() => {\n      for (let kp of this._keypoints) {\n        let { image } = kp;\n        if (image) {\n          image.style.opacity = kp.opacity.toString();\n          image.style.zIndex = kp.zIndex.toString();\n        }\n      }\n    });\n  }\n\n  /**\n   * @private\n   * @param {Object} options\n   * @param {String} [options.url]\n   * @param {String} [options.filter]\n   * @param {String} [options.operation]\n   * @param {Number} [options.value]\n   * @returns {String}\n   */\n  _imageSrc({ url = this._url, filter = this._filter, operation, value } = {}) {\n    let transformations = { ...this._transformations };\n\n    if (operation) {\n      transformations[operation] = filter ? { name: filter, amount: value } : value;\n    }\n\n    // do not use getBoundingClientRect because scale transform affects it\n    let width = this.offsetWidth;\n    return this.proxyUrl(viewerImageSrc(url, width, transformations));\n  }\n\n  /**\n   * @private\n   * @param {String} operation\n   * @param {Number} value\n   * @returns {Keypoint}\n   */\n  _constructKeypoint(operation, value) {\n    let src = this._imageSrc({ operation, value });\n    return {\n      src,\n      image: null,\n      opacity: 0,\n      zIndex: 0,\n      value,\n    };\n  }\n\n  /**\n   * Check if current operation and filter equals passed ones\n   *\n   * @private\n   * @param {String} operation\n   * @param {String} [filter]\n   * @returns {Boolean}\n   */\n  _isSame(operation, filter) {\n    return this._operation === operation && this._filter === filter;\n  }\n\n  /**\n   * @private\n   * @param {String} operation\n   * @param {String | null} filter\n   * @param {Number} value\n   */\n  _addKeypoint(operation, filter, value) {\n    let shouldSkip = () =>\n      !this._isSame(operation, filter) || this._value !== value || !!this._keypoints.find((kp) => kp.value === value);\n\n    if (shouldSkip()) {\n      return;\n    }\n    let keypoint = this._constructKeypoint(operation, value);\n    let image = new Image();\n    image.src = keypoint.src;\n    let stop = this._handleImageLoading(keypoint.src);\n    image.addEventListener('load', stop, { once: true });\n    image.addEventListener('error', stop, { once: true });\n    keypoint.image = image;\n    image.classList.add('fader-image');\n\n    image.addEventListener(\n      'load',\n      () => {\n        if (shouldSkip()) {\n          return;\n        }\n        let keypoints = this._keypoints;\n        let idx = keypoints.findIndex((kp) => kp.value > value);\n        let insertBeforeNode = idx < keypoints.length ? keypoints[idx].image : null;\n        if (!this._container || (insertBeforeNode && !this._container.contains(insertBeforeNode))) {\n          return;\n        }\n        keypoints.splice(idx, 0, keypoint);\n        this._container.insertBefore(image, insertBeforeNode);\n        this._update(operation, value);\n      },\n      { once: true },\n    );\n\n    image.addEventListener(\n      'error',\n      () => {\n        this.$['*networkProblems'] = true;\n      },\n      { once: true },\n    );\n  }\n\n  /** @param {String | Number} value */\n  set(value) {\n    value = typeof value === 'string' ? parseInt(value, 10) : value;\n    this._update(this._operation, value);\n    this._addKeypointDebounced(this._operation, this._filter, value);\n  }\n\n  /**\n   * @private\n   * @param {String} operation\n   * @param {Number} value\n   */\n  _update(operation, value) {\n    this._operation = operation;\n    this._value = value;\n\n    let { zero } = COLOR_OPERATIONS_CONFIG[operation];\n\n    let keypointValues = this._keypoints.map((kp) => kp.value);\n    let opacities = calculateOpacities(keypointValues, value, zero);\n    let zIndices = calculateZIndices(keypointValues, zero);\n\n    for (let [idx, kp] of Object.entries(this._keypoints)) {\n      kp.opacity = opacities[idx];\n      kp.zIndex = zIndices[idx];\n    }\n\n    this._flush();\n  }\n\n  /** @private */\n  _createPreviewImage() {\n    let image = new Image();\n    image.classList.add('fader-image', 'fader-image--preview');\n    image.style.opacity = '0';\n    return image;\n  }\n\n  /** @private */\n  async _initNodes() {\n    let fr = document.createDocumentFragment();\n    this._previewImage = this._previewImage || this._createPreviewImage();\n    !this.contains(this._previewImage) && fr.appendChild(this._previewImage);\n\n    let container = document.createElement('div');\n    fr.appendChild(container);\n\n    let srcList = this._keypoints.map((kp) => kp.src);\n\n    let { images, promise, cancel } = batchPreloadImages(srcList);\n    images.forEach((node) => {\n      let stop = this._handleImageLoading(node.src);\n      node.addEventListener('load', stop);\n      node.addEventListener('error', stop);\n    });\n    this._cancelLastImages = () => {\n      cancel();\n      this._cancelLastImages = undefined;\n    };\n    let operation = this._operation;\n    let filter = this._filter;\n    await promise;\n    if (this._isActive && this._isSame(operation, filter)) {\n      this._container && this._container.remove();\n      this._container = container;\n      this._keypoints.forEach((kp, idx) => {\n        let kpImage = images[idx];\n        kpImage.classList.add('fader-image');\n        kp.image = kpImage;\n        this._container.appendChild(kpImage);\n      });\n      this.appendChild(fr);\n      this._flush();\n    }\n  }\n\n  /** @param {import('./types.js').Transformations} transformations */\n  setTransformations(transformations) {\n    this._transformations = transformations;\n    if (this._previewImage) {\n      let src = this._imageSrc();\n      let stop = this._handleImageLoading(src);\n      this._previewImage.src = src;\n      this._previewImage.addEventListener('load', stop, { once: true });\n      this._previewImage.addEventListener('error', stop, { once: true });\n      this._previewImage.style.opacity = '1';\n\n      this._previewImage.addEventListener(\n        'error',\n        () => {\n          this.$['*networkProblems'] = true;\n        },\n        { once: true },\n      );\n    }\n  }\n\n  /**\n   * @param {object} options\n   * @param {String} options.url\n   * @param {String} options.operation\n   * @param {Number} options.value\n   * @param {String} [options.filter]\n   */\n  preload({ url, filter, operation, value }) {\n    this._cancelBatchPreload && this._cancelBatchPreload();\n\n    let keypoints = keypointsRange(operation, value);\n    let srcList = keypoints.map((kp) => this._imageSrc({ url, filter, operation, value: kp }));\n    let { cancel } = batchPreloadImages(srcList);\n\n    this._cancelBatchPreload = cancel;\n  }\n\n  /** @private */\n  _setOriginalSrc(src) {\n    let image = this._previewImage || this._createPreviewImage();\n    !this.contains(image) && this.appendChild(image);\n    this._previewImage = image;\n\n    if (image.src === src) {\n      image.style.opacity = '1';\n      image.style.transform = 'scale(1)';\n      this.className = classNames({\n        active_from_viewer: this._fromViewer,\n        active_from_cropper: !this._fromViewer,\n        inactive_to_cropper: false,\n      });\n      return;\n    }\n    image.style.opacity = '0';\n    let stop = this._handleImageLoading(src);\n    image.addEventListener('error', stop, { once: true });\n    image.src = src;\n    image.addEventListener(\n      'load',\n      () => {\n        stop();\n        if (image) {\n          image.style.opacity = '1';\n          image.style.transform = 'scale(1)';\n          this.className = classNames({\n            active_from_viewer: this._fromViewer,\n            active_from_cropper: !this._fromViewer,\n            inactive_to_cropper: false,\n          });\n        }\n      },\n      { once: true },\n    );\n    image.addEventListener(\n      'error',\n      () => {\n        this.$['*networkProblems'] = true;\n      },\n      { once: true },\n    );\n  }\n\n  /**\n   * @param {object} options\n   * @param {String} options.url\n   * @param {String} [options.operation]\n   * @param {Number} [options.value]\n   * @param {String} [options.filter]\n   * @param {Boolean} [options.fromViewer]\n   */\n  activate({ url, operation, value, filter, fromViewer }) {\n    this._isActive = true;\n    this._hidden = false;\n    this._url = url;\n    this._operation = operation || 'initial';\n    this._value = value;\n    this._filter = filter;\n    this._fromViewer = fromViewer;\n\n    let isOriginal = typeof value !== 'number' && !filter;\n    if (isOriginal) {\n      let src = this._imageSrc({ operation, value });\n      this._setOriginalSrc(src);\n      this._container && this._container.remove();\n      return;\n    }\n    this._keypoints = keypointsRange(operation, value).map((keyValue) => this._constructKeypoint(operation, keyValue));\n\n    this._update(operation, value);\n    this._initNodes();\n  }\n\n  /** @param {{ hide?: Boolean }} options */\n  deactivate({ hide = true } = {}) {\n    this._isActive = false;\n\n    this._cancelLastImages && this._cancelLastImages();\n    this._cancelBatchPreload && this._cancelBatchPreload();\n\n    if (hide && !this._hidden) {\n      this._hidden = true;\n      if (this._previewImage) {\n        this._previewImage.style.transform = 'scale(1)';\n      }\n      this.className = classNames({\n        active_from_viewer: false,\n        active_from_cropper: false,\n        inactive_to_cropper: true,\n      });\n      this.addEventListener(\n        'transitionend',\n        () => {\n          this._container && this._container.remove();\n        },\n        { once: true },\n      );\n    } else {\n      this._container && this._container.remove();\n    }\n  }\n}\n","import { Block } from '../../../abstract/Block.js';\n\nconst X_THRESHOLD = 1;\n\nexport class EditorScroller extends Block {\n  initCallback() {\n    super.initCallback();\n\n    this.addEventListener('wheel', (e) => {\n      e.preventDefault();\n      let { deltaY, deltaX } = e;\n      if (Math.abs(deltaX) > X_THRESHOLD) {\n        this.scrollLeft += deltaX;\n      } else {\n        this.scrollLeft += deltaY;\n      }\n    });\n  }\n}\n\nEditorScroller.template = /* HTML */ ` <slot></slot> `;\n","// @ts-check\nimport { debounce } from '../../utils/debounce.js';\nimport { Block } from '../../../abstract/Block.js';\nimport { EditorCropButtonControl } from './EditorCropButtonControl.js';\nimport { EditorFilterControl } from './EditorFilterControl.js';\nimport { EditorOperationControl } from './EditorOperationControl.js';\nimport { FAKE_ORIGINAL_FILTER } from './EditorSlider.js';\nimport { batchPreloadImages } from './lib/preloadImage.js';\nimport {\n  ALL_COLOR_OPERATIONS,\n  ALL_CROP_OPERATIONS,\n  ALL_FILTERS,\n  ALL_TABS,\n  COLOR_OPERATIONS_CONFIG,\n  TabId,\n} from './toolbar-constants.js';\nimport { viewerImageSrc } from './util.js';\n\n/** @param {String} id */\nfunction renderTabToggle(id) {\n  return /* HTML */ `\n    <lr-presence-toggle class=\"tab-toggle\" set=\"visible: presence.tabToggle.${id}; styles: presence.tabToggleStyles;\">\n      <lr-btn-ui\n        theme=\"boring\"\n        ref=\"tab-toggle-${id}\"\n        data-id=\"${id}\"\n        icon=\"${id}\"\n        tabindex=\"0\"\n        set=\"onclick: on.clickTab;\"\n      >\n      </lr-btn-ui>\n    </lr-presence-toggle>\n  `;\n}\n\n/** @param {String} id */\nfunction renderTabContent(id) {\n  return /* HTML */ `\n    <lr-presence-toggle class=\"tab-content\" set=\"visible: presence.tabContent.${id}; styles: presence.tabContentStyles\">\n      <lr-editor-scroller hidden-scrollbar>\n        <div class=\"controls-list_align\">\n          <div class=\"controls-list_inner\" ref=\"controls-list-${id}\"></div>\n        </div>\n      </lr-editor-scroller>\n    </lr-presence-toggle>\n  `;\n}\n\nexport class EditorToolbar extends Block {\n  constructor() {\n    super();\n\n    this.init$ = {\n      ...this.init$,\n      '*sliderEl': null,\n      /** @type {import('./types.js').LoadingOperations} */\n      '*loadingOperations': new Map(),\n      '*showSlider': false,\n      '*currentFilter': FAKE_ORIGINAL_FILTER,\n      '*currentOperation': null,\n      showLoader: false,\n      filters: ALL_FILTERS,\n      colorOperations: ALL_COLOR_OPERATIONS,\n      cropOperations: ALL_CROP_OPERATIONS,\n      '*operationTooltip': null,\n\n      'presence.mainToolbar': true,\n      'presence.subToolbar': false,\n      'presence.tabToggles': true,\n      'presence.tabContent.crop': false,\n      'presence.tabContent.tuning': false,\n      'presence.tabContent.filters': false,\n      'presence.tabToggle.crop': true,\n      'presence.tabToggle.tuning': true,\n      'presence.tabToggle.filters': true,\n      'presence.subTopToolbarStyles': {\n        hidden: 'sub-toolbar--top-hidden',\n        visible: 'sub-toolbar--visible',\n      },\n      'presence.subBottomToolbarStyles': {\n        hidden: 'sub-toolbar--bottom-hidden',\n        visible: 'sub-toolbar--visible',\n      },\n      'presence.tabContentStyles': {\n        hidden: 'tab-content--hidden',\n        visible: 'tab-content--visible',\n      },\n      'presence.tabToggleStyles': {\n        hidden: 'tab-toggle--hidden',\n        visible: 'tab-toggle--visible',\n      },\n      'presence.tabTogglesStyles': {\n        hidden: 'tab-toggles--hidden',\n        visible: 'tab-toggles--visible',\n      },\n      'on.cancel': () => {\n        this._cancelPreload && this._cancelPreload();\n        this.$['*on.cancel']();\n      },\n      'on.apply': () => {\n        this.$['*on.apply'](this.$['*editorTransformations']);\n      },\n      'on.applySlider': () => {\n        this.ref['slider-el'].apply();\n        this._onSliderClose();\n      },\n      'on.cancelSlider': () => {\n        this.ref['slider-el'].cancel();\n        this._onSliderClose();\n      },\n      /** @param {MouseEvent} e */\n      'on.clickTab': (e) => {\n        const id = /** @type {HTMLElement} */ (e.currentTarget).getAttribute('data-id');\n        if (id) {\n          this._activateTab(id, { fromViewer: false });\n        }\n      },\n    };\n\n    /** @private */\n\n    this._debouncedShowLoader = debounce(this._showLoader.bind(this), 500);\n  }\n\n  /** @private */\n  _onSliderClose() {\n    this.$['*showSlider'] = false;\n    if (this.$['*tabId'] === TabId.TUNING) {\n      this.ref['tooltip-el'].classList.toggle('info-tooltip_visible', false);\n    }\n  }\n\n  /**\n   * @private\n   * @param {String} operation\n   */\n  _createOperationControl(operation) {\n    let el = new EditorOperationControl();\n    // @ts-expect-error TODO: fix\n    el.operation = operation;\n    return el;\n  }\n\n  /**\n   * @private\n   * @param {String} filter\n   */\n  _createFilterControl(filter) {\n    let el = new EditorFilterControl();\n    // @ts-expect-error TODO: fix\n    el.filter = filter;\n    return el;\n  }\n\n  /**\n   * @private\n   * @param {String} operation\n   */\n  _createToggleControl(operation) {\n    let el = new EditorCropButtonControl();\n    // @ts-expect-error TODO: fix\n    el.operation = operation;\n    return el;\n  }\n\n  /**\n   * @private\n   * @param {String} tabId\n   */\n  _renderControlsList(tabId) {\n    let listEl = this.ref[`controls-list-${tabId}`];\n    let fr = document.createDocumentFragment();\n\n    if (tabId === TabId.CROP) {\n      this.$.cropOperations.forEach(\n        /** @param {string} operation */ (operation) => {\n          let el = this._createToggleControl(operation);\n          // @ts-ignore\n          fr.appendChild(el);\n        },\n      );\n    } else if (tabId === TabId.FILTERS) {\n      [FAKE_ORIGINAL_FILTER, ...this.$.filters].forEach((filterId) => {\n        let el = this._createFilterControl(filterId);\n        // @ts-ignore\n        fr.appendChild(el);\n      });\n    } else if (tabId === TabId.TUNING) {\n      this.$.colorOperations.forEach(\n        /** @param {string} operation */ (operation) => {\n          let el = this._createOperationControl(operation);\n          // @ts-ignore\n          fr.appendChild(el);\n        },\n      );\n    }\n\n    [...fr.children].forEach((el, idx) => {\n      if (idx === fr.childNodes.length - 1) {\n        el.classList.add('controls-list_last-item');\n      }\n    });\n\n    listEl.innerHTML = '';\n    listEl.appendChild(fr);\n  }\n\n  /**\n   * @private\n   * @param {String} id\n   * @param {{ fromViewer?: Boolean }} options\n   */\n  _activateTab(id, { fromViewer }) {\n    this.$['*tabId'] = id;\n\n    if (id === TabId.CROP) {\n      this.$['*faderEl'].deactivate();\n      this.$['*cropperEl'].activate(this.$['*imageSize'], { fromViewer });\n    } else {\n      this.$['*faderEl'].activate({ url: this.$['*originalUrl'], fromViewer });\n      this.$['*cropperEl'].deactivate();\n    }\n\n    for (let tabId of ALL_TABS) {\n      let isCurrentTab = tabId === id;\n\n      let tabToggleEl = this.ref[`tab-toggle-${tabId}`];\n      tabToggleEl.active = isCurrentTab;\n\n      if (isCurrentTab) {\n        this._renderControlsList(id);\n        this._syncTabIndicator();\n      } else {\n        this._unmountTabControls(tabId);\n      }\n      this.$[`presence.tabContent.${tabId}`] = isCurrentTab;\n    }\n  }\n\n  /**\n   * @private\n   * @param {String} tabId\n   */\n  _unmountTabControls(tabId) {\n    let listEl = this.ref[`controls-list-${tabId}`];\n    if (listEl) {\n      listEl.innerHTML = '';\n    }\n  }\n\n  /** @private */\n  _syncTabIndicator() {\n    let tabToggleEl = this.ref[`tab-toggle-${this.$['*tabId']}`];\n    let indicatorEl = this.ref['tabs-indicator'];\n    indicatorEl.style.transform = `translateX(${tabToggleEl.offsetLeft}px)`;\n  }\n\n  /** @private */\n  _preloadEditedImage() {\n    if (this.$['*imgContainerEl'] && this.$['*originalUrl']) {\n      let width = this.$['*imgContainerEl'].offsetWidth;\n      let src = this.proxyUrl(viewerImageSrc(this.$['*originalUrl'], width, this.$['*editorTransformations']));\n      this._cancelPreload && this._cancelPreload();\n      let { cancel } = batchPreloadImages([src]);\n      this._cancelPreload = () => {\n        cancel();\n        this._cancelPreload = undefined;\n      };\n    }\n  }\n\n  /**\n   * @private\n   * @param {boolean} show\n   */\n  _showLoader(show) {\n    this.$.showLoader = show;\n  }\n\n  _updateInfoTooltip = debounce(() => {\n    const transformations = this.$['*editorTransformations'];\n    /** @type {keyof COLOR_OPERATIONS_CONFIG} */\n    const currentOperation = this.$['*currentOperation'];\n    let text = '';\n    let visible = false;\n\n    if (this.$['*tabId'] === TabId.FILTERS) {\n      visible = true;\n      if (this.$['*currentFilter'] && transformations?.filter?.name === this.$['*currentFilter']) {\n        let value = transformations?.filter?.amount || 100;\n        text = this.$['*currentFilter'] + ' ' + value;\n      } else {\n        text = this.l10n(FAKE_ORIGINAL_FILTER);\n      }\n    } else if (this.$['*tabId'] === TabId.TUNING && currentOperation) {\n      visible = true;\n      let value = transformations?.[currentOperation] || COLOR_OPERATIONS_CONFIG[currentOperation].zero;\n      text = this.l10n(currentOperation) + ' ' + value;\n    }\n    if (visible) {\n      this.$['*operationTooltip'] = text;\n    }\n    this.ref['tooltip-el'].classList.toggle('info-tooltip_visible', visible);\n  }, 0);\n\n  initCallback() {\n    super.initCallback();\n\n    this.$['*sliderEl'] = this.ref['slider-el'];\n\n    this.sub('*imageSize', (imageSize) => {\n      if (imageSize) {\n        setTimeout(() => {\n          this._activateTab(this.$['*tabId'], { fromViewer: true });\n        }, 0);\n      }\n    });\n\n    this.sub('*editorTransformations', (editorTransformations) => {\n      let appliedFilter = editorTransformations?.filter?.name;\n      if (this.$['*currentFilter'] !== appliedFilter) {\n        this.$['*currentFilter'] = appliedFilter;\n      }\n    });\n\n    this.sub('*currentFilter', () => {\n      this._updateInfoTooltip();\n    });\n\n    this.sub('*currentOperation', () => {\n      this._updateInfoTooltip();\n    });\n\n    this.sub('*tabId', () => {\n      this._updateInfoTooltip();\n    });\n\n    this.sub('*originalUrl', () => {\n      this.$['*faderEl'] && this.$['*faderEl'].deactivate();\n    });\n\n    this.sub('*editorTransformations', (transformations) => {\n      this._preloadEditedImage();\n      if (this.$['*faderEl']) {\n        this.$['*faderEl'].setTransformations(transformations);\n      }\n    });\n\n    this.sub('*loadingOperations', (/** @type {import('./types.js').LoadingOperations} */ loadingOperations) => {\n      let anyLoading = false;\n      for (let [, mapping] of loadingOperations.entries()) {\n        if (anyLoading) {\n          break;\n        }\n        for (let [, loading] of mapping.entries()) {\n          if (loading) {\n            anyLoading = true;\n            break;\n          }\n        }\n      }\n      this._debouncedShowLoader(anyLoading);\n    });\n\n    this.sub('*showSlider', (showSlider) => {\n      this.$['presence.subToolbar'] = showSlider;\n      this.$['presence.mainToolbar'] = !showSlider;\n    });\n\n    this.sub('*tabList', (tabList) => {\n      this.$['presence.tabToggles'] = tabList.length > 1;\n      for (const tabId of ALL_TABS) {\n        this.$[`presence.tabToggle.${tabId}`] = tabList.includes(tabId);\n        const toggleEl = this.ref[`tab-toggle-${tabId}`];\n        toggleEl.style.gridColumn = tabList.indexOf(tabId) + 1;\n      }\n\n      if (!tabList.includes(this.$['*tabId'])) {\n        this._activateTab(tabList[0], { fromViewer: false });\n      }\n    });\n\n    this._updateInfoTooltip();\n  }\n}\n\nEditorToolbar.template = /* HTML */ `\n  <lr-line-loader-ui set=\"active: showLoader\"></lr-line-loader-ui>\n  <div class=\"info-tooltip_container\">\n    <div class=\"info-tooltip_wrapper\">\n      <div ref=\"tooltip-el\" class=\"info-tooltip info-tooltip_hidden\">{{*operationTooltip}}</div>\n    </div>\n  </div>\n  <div class=\"toolbar-container\">\n    <lr-presence-toggle class=\"sub-toolbar\" set=\"visible: presence.mainToolbar; styles: presence.subTopToolbarStyles\">\n      <div class=\"tab-content-row\">${ALL_TABS.map(renderTabContent).join('')}</div>\n      <div class=\"controls-row\">\n        <lr-btn-ui theme=\"boring\" icon=\"closeMax\" set=\"onclick: on.cancel\"> </lr-btn-ui>\n        <lr-presence-toggle class=\"tab-toggles\" set=\"visible: presence.tabToggles; styles: presence.tabTogglesStyles\">\n          <div ref=\"tabs-indicator\" class=\"tab-toggles_indicator\"></div>\n          ${ALL_TABS.map(renderTabToggle).join('')}\n        </lr-presence-toggle>\n        <lr-btn-ui theme=\"primary\" icon=\"done\" set=\"onclick: on.apply\"> </lr-btn-ui>\n      </div>\n    </lr-presence-toggle>\n    <lr-presence-toggle class=\"sub-toolbar\" set=\"visible: presence.subToolbar; styles: presence.subBottomToolbarStyles\">\n      <div class=\"slider\">\n        <lr-editor-slider ref=\"slider-el\"></lr-editor-slider>\n      </div>\n      <div class=\"controls-row\">\n        <lr-btn-ui theme=\"boring\" set=\"onclick: on.cancelSlider;\" l10n=\"@text:cancel\"> </lr-btn-ui>\n        <lr-btn-ui theme=\"primary\" set=\"onclick: on.applySlider;\" l10n=\"@text:apply\"> </lr-btn-ui>\n      </div>\n    </lr-presence-toggle>\n  </div>\n`;\n","import { Block } from '../../../../../abstract/Block.js';\nimport { classNames } from '../../lib/classNames.js';\n\nexport class LrBtnUi extends Block {\n  constructor() {\n    super();\n\n    this._iconReversed = false;\n    this._iconSingle = false;\n    this._iconHidden = false;\n\n    this.init$ = {\n      ...this.init$,\n      text: '',\n      icon: '',\n      iconCss: this._iconCss(),\n      theme: null,\n    };\n\n    this.defineAccessor('active', (active) => {\n      if (active) {\n        this.setAttribute('active', '');\n      } else {\n        this.removeAttribute('active');\n      }\n    });\n  }\n\n  _iconCss() {\n    return classNames('icon', {\n      icon_left: !this._iconReversed,\n      icon_right: this._iconReversed,\n      icon_hidden: this._iconHidden,\n      icon_single: this._iconSingle,\n    });\n  }\n\n  initCallback() {\n    super.initCallback();\n\n    this.sub('icon', (iconName) => {\n      this._iconSingle = !this.$.text;\n      this._iconHidden = !iconName;\n      this.$.iconCss = this._iconCss();\n    });\n\n    this.sub('theme', (theme) => {\n      if (theme !== 'custom') {\n        this.className = theme;\n      }\n    });\n\n    this.sub('text', (txt) => {\n      this._iconSingle = false;\n    });\n\n    this.setAttribute('role', 'button');\n    if (this.tabIndex === -1) {\n      this.tabIndex = 0;\n    }\n    if (!this.hasAttribute('theme')) {\n      this.setAttribute('theme', 'default');\n    }\n  }\n\n  set reverse(val) {\n    if (this.hasAttribute('reverse')) {\n      this.style.flexDirection = 'row-reverse';\n      this._iconReversed = true;\n    } else {\n      this._iconReversed = false;\n      this.style.flexDirection = null;\n    }\n  }\n}\nLrBtnUi.bindAttributes({ text: 'text', icon: 'icon', reverse: 'reverse', theme: 'theme' });\n\nLrBtnUi.template = /* HTML */ `\n  <lr-icon set=\"className: iconCss; @name: icon; @hidden: !icon\"></lr-icon>\n  <div class=\"text\">{{text}}</div>\n`;\n","import { Block } from '../../../../../abstract/Block.js';\n\nexport class LineLoaderUi extends Block {\n  constructor() {\n    super();\n\n    this._active = false;\n\n    this._handleTransitionEndRight = () => {\n      let lineEl = this.ref['line-el'];\n      lineEl.style.transition = `initial`;\n      lineEl.style.opacity = '0';\n      lineEl.style.transform = `translateX(-101%)`;\n      this._active && this._start();\n    };\n  }\n\n  initCallback() {\n    super.initCallback();\n    this.defineAccessor('active', (active) => {\n      if (typeof active === 'boolean') {\n        if (active) {\n          this._start();\n        } else {\n          this._stop();\n        }\n      }\n    });\n  }\n\n  _start() {\n    this._active = true;\n    let { width } = this.getBoundingClientRect();\n    let lineEl = this.ref['line-el'];\n    lineEl.style.transition = `transform 1s`;\n    lineEl.style.opacity = '1';\n    lineEl.style.transform = `translateX(${width}px)`;\n    lineEl.addEventListener('transitionend', this._handleTransitionEndRight, {\n      once: true,\n    });\n  }\n\n  _stop() {\n    this._active = false;\n  }\n}\n\nLineLoaderUi.template = /* HTML */ `\n  <div class=\"inner\">\n    <div class=\"line\" ref=\"line-el\"></div>\n  </div>\n`;\n","import { applyClassNames } from '../../lib/classNames.js';\nimport { Block } from '../../../../../abstract/Block.js';\n\n/**\n * @typedef {Object} Style\n * @property {String} [transition]\n * @property {String} [visible]\n * @property {String} [hidden]\n */\n\n/** @type {Style} */\nconst DEFAULT_STYLE = {\n  transition: 'transition',\n  visible: 'visible',\n  hidden: 'hidden',\n};\n\nexport class PresenceToggle extends Block {\n  constructor() {\n    super();\n\n    this._visible = false;\n    this._visibleStyle = DEFAULT_STYLE.visible;\n    this._hiddenStyle = DEFAULT_STYLE.hidden;\n    this._externalTransitions = false;\n\n    this.defineAccessor('styles', (styles) => {\n      if (!styles) {\n        return;\n      }\n      this._externalTransitions = true;\n      this._visibleStyle = styles.visible;\n      this._hiddenStyle = styles.hidden;\n    });\n\n    this.defineAccessor('visible', (visible) => {\n      if (typeof visible !== 'boolean') {\n        return;\n      }\n\n      this._visible = visible;\n      this._handleVisible();\n    });\n  }\n\n  _handleVisible() {\n    this.style.visibility = this._visible ? 'inherit' : 'hidden';\n    applyClassNames(this, {\n      [DEFAULT_STYLE.transition]: !this._externalTransitions,\n      [this._visibleStyle]: this._visible,\n      [this._hiddenStyle]: !this._visible,\n    });\n    this.setAttribute('aria-hidden', this._visible ? 'false' : 'true');\n  }\n\n  initCallback() {\n    super.initCallback();\n    this.setAttribute('hidden', '');\n\n    if (!this._externalTransitions) {\n      this.classList.add(DEFAULT_STYLE.transition);\n    }\n\n    this._handleVisible();\n    setTimeout(() => this.removeAttribute('hidden'), 0);\n  }\n}\nPresenceToggle.template = /* HTML */ ` <slot></slot> `;\n","import { Block } from '../../../../../abstract/Block.js';\n\nexport class SliderUi extends Block {\n  init$ = {\n    ...this.init$,\n    disabled: false,\n    min: 0,\n    max: 100,\n    onInput: null,\n    onChange: null,\n    defaultValue: null,\n    'on.sliderInput': () => {\n      let value = parseInt(this.ref['input-el'].value, 10);\n      this._updateValue(value);\n      this.$.onInput && this.$.onInput(value);\n    },\n    'on.sliderChange': () => {\n      let value = parseInt(this.ref['input-el'].value, 10);\n      this.$.onChange && this.$.onChange(value);\n    },\n  };\n\n  constructor() {\n    super();\n    this.setAttribute('with-effects', '');\n  }\n\n  initCallback() {\n    super.initCallback();\n\n    this.defineAccessor('disabled', (disabled) => {\n      this.$.disabled = disabled;\n    });\n\n    this.defineAccessor('min', (min) => {\n      this.$.min = min;\n    });\n\n    this.defineAccessor('max', (max) => {\n      this.$.max = max;\n    });\n\n    this.defineAccessor('defaultValue', (defaultValue) => {\n      this.$.defaultValue = defaultValue;\n      this.ref['input-el'].value = defaultValue;\n      this._updateValue(defaultValue);\n    });\n\n    this.defineAccessor('zero', (zero) => {\n      this._zero = zero;\n    });\n\n    this.defineAccessor('onInput', (onInput) => {\n      if (!onInput) return;\n      this.$.onInput = onInput;\n    });\n\n    this.defineAccessor('onChange', (onChange) => {\n      if (!onChange) return;\n      this.$.onChange = onChange;\n    });\n\n    this._updateSteps();\n\n    this._observer = new ResizeObserver(() => {\n      this._updateSteps();\n      let value = parseInt(this.ref['input-el'].value, 10);\n      this._updateValue(value);\n    });\n    this._observer.observe(this);\n\n    this._thumbSize = parseInt(window.getComputedStyle(this).getPropertyValue('--l-thumb-size'), 10);\n\n    setTimeout(() => {\n      let value = parseInt(this.ref['input-el'].value, 10);\n      this._updateValue(value);\n    }, 0);\n\n    this.sub('disabled', (disabled) => {\n      let el = this.ref['input-el'];\n      if (disabled) {\n        el.setAttribute('disabled', 'disabled');\n      } else {\n        el.removeAttribute('disabled');\n      }\n    });\n\n    let inputEl = this.ref['input-el'];\n    inputEl.addEventListener('focus', () => {\n      this.style.setProperty('--color-effect', 'var(--hover-color-rgb)');\n    });\n    inputEl.addEventListener('blur', () => {\n      this.style.setProperty('--color-effect', 'var(--idle-color-rgb)');\n    });\n  }\n\n  _updateValue(value) {\n    this._updateZeroDot(value);\n\n    let { width } = this.getBoundingClientRect();\n    let slope = 100 / (this.$.max - this.$.min);\n    let mappedValue = slope * (value - this.$.min);\n    let offset = (mappedValue * (width - this._thumbSize)) / 100;\n\n    window.requestAnimationFrame(() => {\n      this.ref['thumb-el'].style.transform = `translateX(${offset}px)`;\n    });\n  }\n\n  _updateZeroDot(value) {\n    if (!this._zeroDotEl) {\n      return;\n    }\n    if (value === this._zero) {\n      this._zeroDotEl.style.opacity = '0';\n    } else {\n      this._zeroDotEl.style.opacity = '0.2';\n    }\n    let { width } = this.getBoundingClientRect();\n    let slope = 100 / (this.$.max - this.$.min);\n    let mappedValue = slope * (this._zero - this.$.min);\n    let offset = (mappedValue * (width - this._thumbSize)) / 100;\n    window.requestAnimationFrame(() => {\n      this._zeroDotEl.style.transform = `translateX(${offset}px)`;\n    });\n  }\n\n  _updateSteps() {\n    const STEP_GAP = 15;\n\n    let stepsEl = this.ref['steps-el'];\n    let { width } = stepsEl.getBoundingClientRect();\n    let half = Math.ceil(width / 2);\n    let count = Math.ceil(half / STEP_GAP) - 2;\n\n    if (this._stepsCount === count) {\n      return;\n    }\n\n    let fr = document.createDocumentFragment();\n    let minorStepEl = document.createElement('div');\n    let borderStepEl = document.createElement('div');\n    minorStepEl.className = 'minor-step';\n    borderStepEl.className = 'border-step';\n    fr.appendChild(borderStepEl);\n    for (let i = 0; i < count; i++) {\n      fr.appendChild(minorStepEl.cloneNode());\n    }\n    fr.appendChild(borderStepEl.cloneNode());\n    for (let i = 0; i < count; i++) {\n      fr.appendChild(minorStepEl.cloneNode());\n    }\n    fr.appendChild(borderStepEl.cloneNode());\n\n    let zeroDotEl = document.createElement('div');\n    zeroDotEl.className = 'zero-dot';\n    fr.appendChild(zeroDotEl);\n    this._zeroDotEl = zeroDotEl;\n\n    stepsEl.innerHTML = '';\n    stepsEl.appendChild(fr);\n    this._stepsCount = count;\n  }\n\n  destroyCallback() {\n    this._observer?.disconnect();\n  }\n}\nSliderUi.template = /* HTML */ `\n  <div class=\"steps\" ref=\"steps-el\"></div>\n  <div ref=\"thumb-el\" class=\"thumb\"></div>\n  <input\n    class=\"input\"\n    type=\"range\"\n    ref=\"input-el\"\n    tabindex=\"0\"\n    set=\"oninput: on.sliderInput; onchange: on.sliderChange; @min: min; @max: max; @value: defaultValue;\"\n  />\n`;\n","// @ts-check\nimport { ActivityBlock } from '../../abstract/ActivityBlock.js';\nimport { UploaderBlock } from '../../abstract/UploaderBlock.js';\nimport { CloudImageEditorBlock } from '../CloudImageEditor/index.js';\n\nexport class CloudImageEditorActivity extends UploaderBlock {\n  couldBeCtxOwner = true;\n  activityType = ActivityBlock.activities.CLOUD_IMG_EDIT;\n\n  constructor() {\n    super();\n\n    this.init$ = {\n      ...this.init$,\n      cdnUrl: null,\n    };\n  }\n\n  initCallback() {\n    super.initCallback();\n\n    this.registerActivity(this.activityType, {\n      onActivate: () => this.mountEditor(),\n      onDeactivate: () => this.unmountEditor(),\n    });\n\n    this.sub('*focusedEntry', (/** @type {import('../../abstract/TypedData.js').TypedData} */ entry) => {\n      if (!entry) {\n        return;\n      }\n      this.entry = entry;\n\n      this.entry.subscribe('cdnUrl', (cdnUrl) => {\n        if (cdnUrl) {\n          this.$.cdnUrl = cdnUrl;\n        }\n      });\n    });\n\n    this.subConfigValue('cropPreset', (cropPreset) => {\n      if (this._instance && this._instance.getAttribute('crop-preset') !== cropPreset) {\n        this._instance.setAttribute('crop-preset', cropPreset);\n      }\n    });\n\n    this.subConfigValue('cloudImageEditorTabs', (tabs) => {\n      if (this._instance && this._instance.getAttribute('tabs') !== tabs) {\n        this._instance.setAttribute('tabs', tabs);\n      }\n    });\n  }\n\n  /** @param {CustomEvent<import('../CloudImageEditor/src/types.js').ApplyResult>} e */\n  handleApply(e) {\n    if (!this.entry) {\n      return;\n    }\n    let result = e.detail;\n    this.entry.setMultipleValues({\n      cdnUrl: result.cdnUrl,\n      cdnUrlModifiers: result.cdnUrlModifiers,\n    });\n    this.historyBack();\n  }\n\n  handleCancel() {\n    this.historyBack();\n  }\n\n  mountEditor() {\n    const instance = new CloudImageEditorBlock();\n    const cdnUrl = this.$.cdnUrl;\n    const cropPreset = this.cfg.cropPreset;\n    const tabs = this.cfg.cloudImageEditorTabs;\n\n    instance.setAttribute('ctx-name', this.ctxName);\n    instance.setAttribute('cdn-url', cdnUrl);\n\n    if (cropPreset) {\n      instance.setAttribute('crop-preset', cropPreset);\n    }\n    if (tabs) {\n      instance.setAttribute('tabs', tabs);\n    }\n\n    instance.addEventListener('apply', (e) => {\n      const customEvent = /** @type {CustomEvent<import('../CloudImageEditor/src/types.js').ApplyResult>} */ (e);\n      this.handleApply(customEvent);\n      this.debugPrint(`editor event \"apply\"`, customEvent.detail);\n    });\n    instance.addEventListener('cancel', (e) => {\n      const customEvent = /** @type {CustomEvent<void>} */ (e);\n      this.handleCancel();\n      this.debugPrint(`editor event \"cancel\"`, customEvent.detail);\n    });\n    instance.addEventListener('change', (e) => {\n      const customEvent = /** @type {CustomEvent<import('../CloudImageEditor/src/types.js').ChangeResult>} */ (e);\n      this.debugPrint(`editor event \"change\"`, customEvent.detail);\n    });\n\n    this.innerHTML = '';\n    this.appendChild(instance);\n    this._mounted = true;\n\n    /** @private */\n    this._instance = instance;\n  }\n\n  unmountEditor() {\n    this._instance = undefined;\n    this.innerHTML = '';\n  }\n}\n","/**\n * @param {string} str\n * @returns {string}\n */\nconst escapeRegExp = function (str) {\n  return str.replace(/[\\\\-\\\\[]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n};\n\n/**\n * @param {string} str\n * @param {string} flags\n * @returns {RegExp}\n */\nexport const wildcardRegexp = function (str, flags = 'i') {\n  const parts = str.split('*').map(escapeRegExp);\n  return new RegExp('^' + parts.join('.+') + '$', flags);\n};\n","let styleToCss = (style) => {\n  let css = Object.keys(style).reduce((acc, selector) => {\n    let propertiesObj = style[selector];\n    let propertiesStr = Object.keys(propertiesObj).reduce((acc, prop) => {\n      let value = propertiesObj[prop];\n      return acc + `${prop}: ${value};`;\n    }, '');\n    return acc + `${selector}{${propertiesStr}}`;\n  }, '');\n  return css;\n};\n\nexport function buildStyles({ textColor, backgroundColor, linkColor, linkColorHover, shadeColor }) {\n  let border = `solid 1px ${shadeColor}`;\n\n  // TODO: we need to update source source styles, add css custom properties to control theme\n  return styleToCss({\n    body: {\n      color: textColor,\n      'background-color': backgroundColor,\n    },\n    '.side-bar': {\n      background: 'inherit',\n      'border-right': border,\n    },\n    '.main-content': {\n      background: 'inherit',\n    },\n    '.main-content-header': {\n      background: 'inherit',\n    },\n    '.main-content-footer': {\n      background: 'inherit',\n    },\n    '.list-table-row': {\n      color: 'inherit',\n    },\n    '.list-table-row:hover': {\n      background: shadeColor,\n    },\n    '.list-table-row .list-table-cell-a, .list-table-row .list-table-cell-b': {\n      'border-top': border,\n    },\n    '.list-table-body .list-items': {\n      'border-bottom': border,\n    },\n    '.bread-crumbs a': {\n      color: linkColor,\n    },\n    '.bread-crumbs a:hover': {\n      color: linkColorHover,\n    },\n    '.main-content.loading': {\n      background: `${backgroundColor} url(/static/images/loading_spinner.gif) center no-repeat`,\n      'background-size': '25px 25px',\n    },\n    '.list-icons-item': {\n      'background-color': shadeColor,\n    },\n    '.source-gdrive .side-bar-menu a, .source-gphotos .side-bar-menu a': {\n      color: linkColor,\n    },\n    '.source-gdrive .side-bar-menu a, .source-gphotos .side-bar-menu a:hover': {\n      color: linkColorHover,\n    },\n    '.side-bar-menu a': {\n      color: linkColor,\n    },\n    '.side-bar-menu a:hover': {\n      color: linkColorHover,\n    },\n    '.source-gdrive .side-bar-menu .current, .source-gdrive .side-bar-menu a:hover, .source-gphotos .side-bar-menu .current, .source-gphotos .side-bar-menu a:hover':\n      {\n        color: linkColorHover,\n      },\n    '.source-vk .side-bar-menu a': {\n      color: linkColor,\n    },\n    '.source-vk .side-bar-menu a:hover': {\n      color: linkColorHover,\n      background: 'none',\n    },\n  });\n}\n","let cbMapping = {};\n\nwindow.addEventListener('message', (e) => {\n  let message;\n  try {\n    message = JSON.parse(e.data);\n  } catch (err) {\n    return;\n  }\n\n  if (message?.type in cbMapping) {\n    let cbList = cbMapping[message.type];\n    for (let [sender, callback] of cbList) {\n      if (e.source === sender) {\n        callback(message);\n      }\n    }\n  }\n});\n\nconst registerMessage = function (type, sender, callback) {\n  if (!(type in cbMapping)) {\n    cbMapping[type] = [];\n  }\n\n  cbMapping[type].push([sender, callback]);\n};\n\nconst unregisterMessage = function (type, sender) {\n  if (type in cbMapping) {\n    cbMapping[type] = cbMapping[type].filter((item) => item[0] !== sender);\n  }\n};\n\nexport { registerMessage, unregisterMessage };\n","// @ts-check\n\nimport { create } from '@symbiotejs/symbiote';\nimport { ActivityBlock } from '../../abstract/ActivityBlock.js';\nimport { UploaderBlock } from '../../abstract/UploaderBlock.js';\nimport { stringToArray } from '../../utils/stringToArray.js';\nimport { wildcardRegexp } from '../../utils/wildcardRegexp.js';\nimport { buildStyles } from './buildStyles.js';\nimport { registerMessage, unregisterMessage } from './messages.js';\nimport { queryString } from './query-string.js';\n\n/** @typedef {{ externalSourceType: string }} ActivityParams */\n\n/**\n * @typedef {{\n *   type: 'file-selected';\n *   obj_type: 'selected_file';\n *   filename: string;\n *   url: string;\n *   alternatives?: Record<string, string>;\n * }} SelectedFileMessage\n */\n\n/**\n * @typedef {{\n *   type: 'embed-css';\n *   style: string;\n * }} EmbedCssMessage\n */\n\n/** @typedef {SelectedFileMessage | EmbedCssMessage} Message */\n\nexport class ExternalSource extends UploaderBlock {\n  couldBeCtxOwner = true;\n  activityType = ActivityBlock.activities.EXTERNAL;\n\n  constructor() {\n    super();\n\n    this.init$ = {\n      ...this.init$,\n      activityIcon: '',\n      activityCaption: '',\n      selectedList: [],\n      counter: 0,\n      multiple: false,\n      onDone: () => {\n        for (const message of this.$.selectedList) {\n          const url = this.extractUrlFromMessage(message);\n          const { filename } = message;\n          const { externalSourceType } = this.activityParams;\n          this.addFileFromUrl(url, { fileName: filename, source: externalSourceType });\n        }\n\n        this.$['*currentActivity'] = ActivityBlock.activities.UPLOAD_LIST;\n      },\n      onCancel: () => {\n        this.historyBack();\n      },\n    };\n  }\n\n  /**\n   * @private\n   * @type {HTMLIFrameElement | null}\n   */\n  _iframe = null;\n\n  initCallback() {\n    super.initCallback();\n    this.registerActivity(this.activityType, {\n      onActivate: () => {\n        let { externalSourceType } = /** @type {ActivityParams} */ (this.activityParams);\n\n        this.set$({\n          activityCaption: `${externalSourceType?.[0].toUpperCase()}${externalSourceType?.slice(1)}`,\n          activityIcon: externalSourceType,\n        });\n\n        this.mountIframe();\n      },\n    });\n    this.sub('*currentActivity', (val) => {\n      if (val !== this.activityType) {\n        this.unmountIframe();\n      }\n    });\n    this.sub('selectedList', (list) => {\n      this.$.counter = list.length;\n    });\n    this.subConfigValue('multiple', (multiple) => {\n      this.$.multiple = multiple;\n    });\n  }\n\n  /**\n   * @private\n   * @param {SelectedFileMessage} message\n   */\n  extractUrlFromMessage(message) {\n    if (message.alternatives) {\n      const preferredTypes = stringToArray(this.cfg.externalSourcesPreferredTypes);\n      for (const preferredType of preferredTypes) {\n        const regexp = wildcardRegexp(preferredType);\n        for (const [type, typeUrl] of Object.entries(message.alternatives)) {\n          if (regexp.test(type)) {\n            return typeUrl;\n          }\n        }\n      }\n    }\n\n    return message.url;\n  }\n\n  /**\n   * @private\n   * @param {Message} message\n   */\n  sendMessage(message) {\n    this._iframe?.contentWindow?.postMessage(JSON.stringify(message), '*');\n  }\n\n  /**\n   * @private\n   * @param {SelectedFileMessage} message\n   */\n  async handleFileSelected(message) {\n    if (!this.$.multiple && this.$.selectedList.length) {\n      return;\n    }\n\n    this.$.selectedList = [...this.$.selectedList, message];\n\n    if (!this.$.multiple) {\n      this.$.onDone();\n    }\n  }\n\n  /** @private */\n  handleIframeLoad() {\n    this.applyStyles();\n  }\n\n  /**\n   * @private\n   * @param {string} propName\n   */\n  getCssValue(propName) {\n    let style = window.getComputedStyle(this);\n    return style.getPropertyValue(propName).trim();\n  }\n\n  /** @private */\n  applyStyles() {\n    let colors = {\n      backgroundColor: this.getCssValue('--clr-background-light'),\n      textColor: this.getCssValue('--clr-txt'),\n      shadeColor: this.getCssValue('--clr-shade-lv1'),\n      linkColor: '#157cfc',\n      linkColorHover: '#3891ff',\n    };\n\n    this.sendMessage({\n      type: 'embed-css',\n      style: buildStyles(colors),\n    });\n  }\n\n  /** @private */\n  remoteUrl() {\n    const { pubkey, remoteTabSessionKey, socialBaseUrl } = this.cfg;\n    const { externalSourceType } = this.activityParams;\n    const lang = this.l10n('social-source-lang')?.split('-')?.[0] || 'en';\n    const params = {\n      lang,\n      public_key: pubkey,\n      images_only: false.toString(),\n      pass_window_open: false,\n      session_key: remoteTabSessionKey,\n    };\n    const url = new URL(`/window3/${externalSourceType}`, socialBaseUrl);\n    url.search = queryString(params);\n    return url.toString();\n  }\n\n  /** @private */\n  mountIframe() {\n    /** @type {HTMLIFrameElement} */\n    // @ts-ignore\n    let iframe = create({\n      tag: 'iframe',\n      attributes: {\n        src: this.remoteUrl(),\n        marginheight: 0,\n        marginwidth: 0,\n        frameborder: 0,\n        allowTransparency: true,\n      },\n    });\n    iframe.addEventListener('load', this.handleIframeLoad.bind(this));\n\n    this.ref.iframeWrapper.innerHTML = '';\n    this.ref.iframeWrapper.appendChild(iframe);\n\n    registerMessage('file-selected', iframe.contentWindow, this.handleFileSelected.bind(this));\n\n    this._iframe = iframe;\n    this.$.selectedList = [];\n  }\n\n  /** @private */\n  unmountIframe() {\n    this._iframe && unregisterMessage('file-selected', this._iframe.contentWindow);\n    this.ref.iframeWrapper.innerHTML = '';\n    this._iframe = null;\n    this.$.selectedList = [];\n    this.$.counter = 0;\n  }\n}\n\nExternalSource.template = /* HTML */ `\n  <lr-activity-header>\n    <button type=\"button\" class=\"mini-btn\" set=\"onclick: *historyBack\">\n      <lr-icon name=\"back\"></lr-icon>\n    </button>\n    <div>\n      <lr-icon set=\"@name: activityIcon\"></lr-icon>\n      <span>{{activityCaption}}</span>\n    </div>\n    <button type=\"button\" class=\"mini-btn close-btn\" set=\"onclick: *historyBack\">\n      <lr-icon name=\"close\"></lr-icon>\n    </button>\n  </lr-activity-header>\n  <div class=\"content\">\n    <div ref=\"iframeWrapper\" class=\"iframe-wrapper\"></div>\n    <div class=\"toolbar\">\n      <button type=\"button\" class=\"cancel-btn secondary-btn\" set=\"onclick: onCancel\" l10n=\"cancel\"></button>\n      <div></div>\n      <div set=\"@hidden: !multiple\" class=\"selected-counter\"><span l10n=\"selected-count\"></span>{{counter}}</div>\n      <button type=\"button\" class=\"done-btn primary-btn\" set=\"onclick: onDone; @disabled: !counter\">\n        <lr-icon name=\"check\"></lr-icon>\n      </button>\n    </div>\n  </div>\n`;\n","/**\n * @param {{ [key: string]: string | number | boolean | null | undefined }} params\n * @returns {string}\n */\nexport function queryString(params) {\n  let list = [];\n  for (let [key, value] of Object.entries(params)) {\n    if (value === undefined || value === null || (typeof value === 'string' && value.length === 0)) {\n      continue;\n    }\n    list.push(`${key}=${encodeURIComponent(value)}`);\n  }\n  return list.join('&');\n}\n","import { Block } from '../../abstract/Block.js';\nimport { create } from '@symbiotejs/symbiote';\nimport { stringToArray } from '../../utils/stringToArray.js';\n\nexport class Tabs extends Block {\n  /** @param {String} tabL10nStr */\n  setCurrentTab(tabL10nStr) {\n    if (!tabL10nStr) {\n      return;\n    }\n    let ctxList = [...this.ref.context.querySelectorAll('[tab-ctx]')];\n    ctxList.forEach((ctxEl) => {\n      if (ctxEl.getAttribute('tab-ctx') === tabL10nStr) {\n        ctxEl.removeAttribute('hidden');\n      } else {\n        ctxEl.setAttribute('hidden', '');\n      }\n    });\n    for (let lStr in this._tabMap) {\n      if (lStr === tabL10nStr) {\n        this._tabMap[lStr].setAttribute('current', '');\n      } else {\n        this._tabMap[lStr].removeAttribute('current');\n      }\n    }\n  }\n\n  initCallback() {\n    super.initCallback();\n    /**\n     * @private\n     * @type {Object<string, HTMLElement>}\n     */\n    this._tabMap = {};\n    this.defineAccessor('tab-list', (/** @type {String} */ val) => {\n      if (!val) {\n        return;\n      }\n      let tabList = stringToArray(val);\n      tabList.forEach((tabL10nStr) => {\n        let tabEl = create({\n          tag: 'div',\n          attributes: {\n            class: 'tab',\n          },\n          properties: {\n            onclick: () => {\n              this.setCurrentTab(tabL10nStr);\n            },\n          },\n        });\n        tabEl.textContent = this.l10n(tabL10nStr);\n        this.ref.row.appendChild(tabEl);\n        this._tabMap[tabL10nStr] = tabEl;\n      });\n    });\n\n    this.defineAccessor('default', (val) => {\n      this.setCurrentTab(val);\n    });\n\n    if (!this.hasAttribute('default')) {\n      this.setCurrentTab(Object.keys(this._tabMap)[0]);\n    }\n  }\n}\n\nTabs.bindAttributes({\n  'tab-list': null,\n  default: null,\n});\n\nTabs.template = /* HTML */ `\n  <div ref=\"row\" class=\"tabs-row\"></div>\n  <div ref=\"context\" class=\"tabs-context\">\n    <slot></slot>\n  </div>\n`;\n","// @ts-check\nimport { applyStyles } from '@symbiotejs/symbiote';\nimport { UploaderBlock } from '../../abstract/UploaderBlock.js';\n\nexport class FormInput extends UploaderBlock {\n  requireCtxName = true;\n\n  _createValidationInput() {\n    const validationInput = document.createElement('input');\n    validationInput.type = 'text';\n    validationInput.name = this.ctxName;\n    validationInput.required = this.cfg.multipleMin > 0;\n    validationInput.tabIndex = -1;\n    applyStyles(validationInput, {\n      opacity: 0,\n      height: 0,\n      width: 0,\n    });\n    return validationInput;\n  }\n\n  initCallback() {\n    super.initCallback();\n\n    this._validationInputElement = this._createValidationInput();\n    this.appendChild(this._validationInputElement);\n\n    this.sub(\n      '*collectionState',\n      (/** @type {import('../../types/index.js').OutputCollectionState} */ collectionState) => {\n        {\n          if (!this._dynamicInputsContainer) {\n            this._dynamicInputsContainer = document.createElement('div');\n            this.appendChild(this._dynamicInputsContainer);\n          }\n          if (!this._validationInputElement) {\n            const input = this._createValidationInput();\n            this.appendChild(input);\n            this._validationInputElement = input;\n          }\n\n          this._dynamicInputsContainer.innerHTML = '';\n\n          if (collectionState.status === 'uploading' || collectionState.status === 'idle') {\n            this._validationInputElement.value = '';\n            this._validationInputElement.setCustomValidity('');\n            return;\n          }\n\n          if (collectionState.status === 'failed') {\n            const errorMsg = collectionState.errors[0]?.message;\n            this._validationInputElement.value = '';\n            this._validationInputElement.setCustomValidity(errorMsg);\n            return;\n          }\n\n          const group = collectionState.group ? collectionState.group : null;\n          if (group) {\n            this._validationInputElement.value = group.cdnUrl;\n            this._validationInputElement.setCustomValidity('');\n            return;\n          }\n\n          const cdnUrls = collectionState.allEntries.map((entry) => entry.cdnUrl);\n\n          if (!this.cfg.multiple && cdnUrls.length === 1) {\n            this._validationInputElement.value = cdnUrls[0];\n            this._validationInputElement.setCustomValidity('');\n            return;\n          }\n\n          // Remove validation input to prevent it from being submitted\n          this._validationInputElement.remove();\n          this._validationInputElement = null;\n\n          const fr = new DocumentFragment();\n\n          for (let value of cdnUrls) {\n            const input = document.createElement('input');\n            input.type = 'hidden';\n            input.name = `${this.ctxName}[]`;\n            input.value = value;\n            fr.appendChild(input);\n          }\n\n          this._dynamicInputsContainer.replaceChildren(fr);\n        }\n      },\n      false,\n    );\n  }\n}\n","import { ActivityBlock } from '../../abstract/ActivityBlock.js';\n\nexport class ActivityHeader extends ActivityBlock {}\n","import { Block } from '../../abstract/Block.js';\n\nexport class Select extends Block {\n  init$ = {\n    ...this.init$,\n    currentText: '',\n    options: [],\n    selectHtml: '',\n    onSelect: (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      this.value = this.ref.select.value;\n      this.$.currentText =\n        this.$.options.find((opt) => {\n          return opt.value == this.value;\n        })?.text || '';\n      this.dispatchEvent(new Event('change'));\n    },\n  };\n\n  initCallback() {\n    super.initCallback();\n\n    this.sub('options', (/** @type {{ text: String; value: String }[]} */ options) => {\n      this.$.currentText = options?.[0]?.text || '';\n      let html = '';\n      options?.forEach((opt) => {\n        html += /* HTML */ `<option value=\"${opt.value}\">${opt.text}</option>`;\n      });\n      this.$.selectHtml = html;\n    });\n  }\n}\n\nSelect.template = /* HTML */ `\n  <button>\n    {{currentText}}\n    <lr-icon name=\"select\"></lr-icon>\n    <select ref=\"select\" set=\"innerHTML: selectHtml; onchange: onSelect\"></select>\n  </button>\n`;\n","import { Block } from '../../abstract/Block.js';\n\n/** @enum {String} */\nconst ICO_MAP = {\n  PLAY: 'play',\n  PAUSE: 'pause',\n  FS_ON: 'fullscreen-on',\n  FS_OFF: 'fullscreen-off',\n  VOL_ON: 'unmute',\n  VOL_OFF: 'mute',\n  CAP_ON: 'captions',\n  CAP_OFF: 'captions-off',\n};\n\n// TODO: refactor and move fullscreen adapter to utils:\nconst FSAPI = {\n  requestFullscreen: (el) => {\n    if (el.requestFullscreen) {\n      el.requestFullscreen();\n    } else if (el.webkitRequestFullscreen) {\n      el.webkitRequestFullscreen();\n    }\n  },\n  exitFullscreen: () => {\n    if (document.exitFullscreen) {\n      document.exitFullscreen();\n    } else if (document['webkitExitFullscreen']) {\n      document['webkitExitFullscreen']();\n    }\n  },\n};\n\nexport class Video extends Block {\n  togglePlay() {\n    if (this._video.paused || this._video.ended) {\n      this._video.play();\n    } else {\n      this._video.pause();\n    }\n  }\n\n  toggleFullscreen() {\n    if ((document.fullscreenElement || document['webkitFullscreenElement']) === this) {\n      FSAPI.exitFullscreen();\n    } else {\n      FSAPI.requestFullscreen(this);\n    }\n  }\n\n  toggleCaptions() {\n    if (this.$.capIcon === ICO_MAP.CAP_OFF) {\n      this.$.capIcon = ICO_MAP.CAP_ON;\n      this._video.textTracks[0].mode = 'showing';\n      window.localStorage.setItem(Video.is + ':captions', '1');\n    } else {\n      this.$.capIcon = ICO_MAP.CAP_OFF;\n      this._video.textTracks[0].mode = 'hidden';\n      window.localStorage.removeItem(Video.is + ':captions');\n    }\n  }\n\n  toggleSound() {\n    if (this.$.volIcon === ICO_MAP.VOL_ON) {\n      this.$.volIcon = ICO_MAP.VOL_OFF;\n      this.$.volumeDisabled = true;\n      this._video.muted = true;\n    } else {\n      this.$.volIcon = ICO_MAP.VOL_ON;\n      this.$.volumeDisabled = false;\n      this._video.muted = false;\n    }\n  }\n\n  setVolume(val) {\n    window.localStorage.setItem(Video.is + ':volume', val);\n    let volume = val ? val / 100 : 0;\n    this._video.volume = volume;\n  }\n\n  /** @type {HTMLElement} */\n  get progress() {\n    return this.ref.progress;\n  }\n\n  init$ = {\n    ...this.init$,\n    src: '',\n    ppIcon: ICO_MAP.PLAY,\n    fsIcon: ICO_MAP.FS_ON,\n    volIcon: ICO_MAP.VOL_ON,\n    capIcon: ICO_MAP.CAP_OFF,\n    totalTime: '00:00',\n    currentTime: '00:00',\n    progressCssWidth: '0',\n    hasSubtitles: false,\n    volumeDisabled: false,\n    volumeValue: 0,\n    onPP: () => {\n      this.togglePlay();\n    },\n    onFs: () => {\n      this.toggleFullscreen();\n    },\n    onCap: () => {\n      this.toggleCaptions();\n    },\n    onMute: () => {\n      this.toggleSound();\n    },\n    onVolChange: (e) => {\n      // TODO: cast range.value instead of range.$.value\n      let val = parseFloat(e.currentTarget.$.value);\n      this.setVolume(val);\n    },\n    progressClicked: (e) => {\n      let progressRect = this.progress.getBoundingClientRect();\n      this._video.currentTime = this._video.duration * (e.offsetX / progressRect.width);\n    },\n  };\n\n  /**\n   * @private\n   * @param {String} input\n   */\n  _getUrl(input) {\n    return input.includes('/') ? input : `https://ucarecdn.com/${input}/`;\n  }\n\n  /**\n   * @private\n   * @param {Object<string, any>} desc\n   */\n  _desc2attrs(desc) {\n    let attrs = [];\n    for (let attr in desc) {\n      let val = attr === 'src' ? this._getUrl(desc[attr]) : desc[attr];\n      attrs.push(`${attr}=\"${val}\"`);\n    }\n    return attrs.join(' ');\n  }\n\n  /**\n   * @private\n   * @param {Number} seconds\n   */\n  _timeFmt(seconds) {\n    // TODO: add hours\n    let date = new Date(Math.round(seconds) * 1000);\n    return [date.getMinutes(), date.getSeconds()]\n      .map((n) => {\n        return n < 10 ? '0' + n : n;\n      })\n      .join(':');\n  }\n\n  /** @private */\n  _initTracks() {\n    [...this._video.textTracks].forEach((track) => {\n      track.mode = 'hidden';\n    });\n    if (window.localStorage.getItem(Video.is + ':captions')) {\n      this.toggleCaptions();\n    }\n  }\n\n  /** @private */\n  _castAttributes() {\n    let toCast = ['autoplay', 'loop', 'muted'];\n    [...this.attributes].forEach((attr) => {\n      if (toCast.includes(attr.name)) {\n        this._video.setAttribute(attr.name, attr.value);\n      }\n    });\n  }\n\n  initCallback() {\n    super.initCallback();\n    /**\n     * @private\n     * @type {HTMLVideoElement}\n     */\n    this._video = this.ref.video;\n\n    this._castAttributes();\n\n    this._video.addEventListener('play', () => {\n      this.$.ppIcon = ICO_MAP.PAUSE;\n      this.setAttribute('playback', '');\n    });\n\n    this._video.addEventListener('pause', () => {\n      this.$.ppIcon = ICO_MAP.PLAY;\n      this.removeAttribute('playback');\n    });\n\n    this.addEventListener('fullscreenchange', (e) => {\n      console.log(e);\n      if (document.fullscreenElement === this) {\n        this.$.fsIcon = ICO_MAP.FS_OFF;\n      } else {\n        this.$.fsIcon = ICO_MAP.FS_ON;\n      }\n    });\n\n    this.sub('src', (src) => {\n      if (!src) {\n        return;\n      }\n      let url = this._getUrl(src);\n      this._video.src = url;\n    });\n\n    this.sub('video', async (descPath) => {\n      if (!descPath) {\n        return;\n      }\n      let desc = await (await window.fetch(this._getUrl(descPath))).json();\n\n      if (desc.poster) {\n        this._video.poster = this._getUrl(desc.poster);\n      }\n\n      let html = '';\n      desc?.sources.forEach((srcDesc) => {\n        html += /* HTML */ `<source ${this._desc2attrs(srcDesc)} />`;\n      });\n\n      if (desc.tracks) {\n        desc.tracks.forEach((trackDesc) => {\n          html += /* HTML */ `<track ${this._desc2attrs(trackDesc)} />`;\n        });\n        this.$.hasSubtitles = true;\n      }\n\n      this._video.innerHTML += html;\n\n      this._initTracks();\n      console.log(desc);\n    });\n\n    this._video.addEventListener('loadedmetadata', (e) => {\n      this.$.currentTime = this._timeFmt(this._video.currentTime);\n      this.$.totalTime = this._timeFmt(this._video.duration);\n    });\n\n    this._video.addEventListener('timeupdate', (e) => {\n      let perc = Math.round(100 * (this._video.currentTime / this._video.duration));\n      this.$.progressCssWidth = perc + '%';\n      this.$.currentTime = this._timeFmt(this._video.currentTime);\n    });\n\n    let volume = window.localStorage.getItem(Video.is + ':volume');\n    if (volume) {\n      let vol = parseFloat(volume);\n      this.setVolume(vol);\n      this.$.volumeValue = vol;\n    }\n  }\n}\n\nVideo.template = /* HTML */ `\n  <div class=\"video-wrapper\">\n    <video ref=\"video\" preload=\"metadata\" crossorigin=\"anonymous\"></video>\n  </div>\n\n  <div class=\"toolbar\">\n    <div class=\"progress\" ref=\"progress\" set -onclick=\"progressClicked\">\n      <div class=\"bar\" set -style.width=\"progressCssWidth\"></div>\n    </div>\n\n    <div class=\"tb-block\">\n      <button set -onclick=\"onPP\">\n        <lr-icon set -@name=\"ppIcon\"></lr-icon>\n      </button>\n      <div class=\"timer\">{{currentTime}} / {{totalTime}}</div>\n    </div>\n\n    <div class=\"tb-block\">\n      <button set -onclick=\"onCap\" -@hidden=\"!hasSubtitles\">\n        <lr-icon set -@name=\"capIcon\"></lr-icon>\n      </button>\n\n      <button set -onclick=\"onMute\">\n        <lr-icon set -@name=\"volIcon\"></lr-icon>\n      </button>\n\n      <lr-range type=\"range\" set -onchange=\"onVolChange\" -@disabled=\"volumeDisabled\" -value=\"volumeValue\"> </lr-range>\n\n      <button set -onclick=\"onFs\">\n        <lr-icon set -@name=\"fsIcon\"></lr-icon>\n      </button>\n    </div>\n  </div>\n`;\n\nVideo.bindAttributes({\n  video: 'video',\n  src: 'src',\n});\n","import { Block } from '../../abstract/Block.js';\n\nexport class Copyright extends Block {\n  initCallback() {\n    super.initCallback();\n\n    this.subConfigValue(\n      'removeCopyright',\n      /** @param {number} value */\n      (value) => {\n        this.toggleAttribute('hidden', !!value);\n      },\n    );\n  }\n\n  static template = /* HTML */ `\n    <a\n      href=\"https://uploadcare.com/?utm_source=copyright&utm_medium=referral&utm_campaign=v4\"\n      target=\"_blank noopener\"\n      class=\"credits\"\n      >Powered by Uploadcare</a\n    >\n  `;\n}\n","export default \"<svg width='0' height='0' style='position:absolute'><symbol viewBox='0 0 24 24' id='uc-icon-about' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11.152 14.12v.1h1.523v-.1c.007-.409.053-.752.138-1.028.086-.277.22-.517.405-.72.188-.202.434-.397.735-.586.32-.191.593-.412.82-.66.232-.249.41-.531.533-.847.125-.32.187-.678.187-1.076 0-.579-.137-1.085-.41-1.518a2.717 2.717 0 0 0-1.14-1.018c-.49-.245-1.062-.367-1.715-.367-.597 0-1.142.114-1.636.34-.49.228-.884.564-1.182 1.008-.299.44-.46.98-.485 1.619h1.62c.024-.377.118-.684.282-.922a1.48 1.48 0 0 1 .617-.532c.25-.114.51-.17.784-.17.301 0 .575.063.82.191.248.124.447.302.597.533.149.23.223.504.223.82 0 .263-.05.502-.149.72a1.91 1.91 0 0 1-.405.574 3.48 3.48 0 0 1-.575.453 4.22 4.22 0 0 0-.847.66c-.234.242-.415.558-.543.949-.125.39-.19.916-.197 1.577Zm.053 3.03c.21.206.46.31.75.31.196 0 .374-.049.534-.144a1.1 1.1 0 0 0 .383-.384c.1-.163.15-.343.15-.538a1 1 0 0 0-.32-.746 1.019 1.019 0 0 0-.746-.314c-.291 0-.542.105-.751.314-.21.206-.314.455-.314.746 0 .295.104.547.314.756ZM24 12c0 6.627-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0s12 5.373 12 12Zm-1.5 0c0 5.799-4.701 10.5-10.5 10.5S1.5 17.799 1.5 12 6.201 1.5 12 1.5 22.5 6.201 22.5 12Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-add' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M12.75 21a.75.75 0 0 1-1.5 0v-8.25H3a.75.75 0 0 1 0-1.5h8.25V3a.75.75 0 0 1 1.5 0v8.25H21a.75.75 0 0 1 0 1.5h-8.25V21Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-arrow-down' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11.5 23.03a.75.75 0 0 0 .999 0l9.29-8.276a.75.75 0 0 0-.998-1.12l-8.042 7.164V1.53a.75.75 0 0 0-1.5 0v19.267l-8.04-7.163a.75.75 0 0 0-.998 1.12z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-back' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M20.251 12a.75.75 0 0 1-.75.75H6.067l5.72 5.85a.75.75 0 1 1-1.072 1.05L4.136 12.92a1.292 1.292 0 0 1 0-1.842l6.579-6.728a.75.75 0 1 1 1.072 1.048l-5.72 5.851H19.5a.75.75 0 0 1 .75.75Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-badge-error' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M13.6 18.4a1.6 1.6 0 1 1-3.2 0 1.6 1.6 0 0 1 3.2 0zM12 4.5A1.5 1.5 0 0 1 13.5 6v7a1.5 1.5 0 0 1-3 0V6A1.5 1.5 0 0 1 12 4.5z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-badge-success' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='m10.5 18.204 7.6-8.183a1.5 1.5 0 0 0-2.2-2.042l-5.4 5.817-2.4-2.586a1.5 1.5 0 1 0-2.2 2.041l4.6 4.953Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-box' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M1.01 4.148a.75.75 0 0 1 .75.75v4.348a4.437 4.437 0 0 1 2.988-1.153c1.734 0 3.23.992 3.978 2.438a4.478 4.478 0 0 1 3.978-2.438c2.49 0 4.488 2.044 4.488 4.543 0 2.5-1.999 4.544-4.488 4.544a4.478 4.478 0 0 1-3.978-2.438 4.478 4.478 0 0 1-3.978 2.438C2.26 17.18.26 15.135.26 12.636V4.898a.75.75 0 0 1 .75-.75Zm.75 8.488c0 1.692 1.348 3.044 2.988 3.044s2.989-1.352 2.989-3.044c0-1.691-1.349-3.043-2.989-3.043S1.76 10.945 1.76 12.636Zm10.944-3.043c-1.64 0-2.988 1.352-2.988 3.043 0 1.692 1.348 3.044 2.988 3.044s2.988-1.352 2.988-3.044c0-1.69-1.348-3.043-2.988-3.043Zm4.328-1.23a.75.75 0 0 1 1.052.128l2.333 2.983 2.333-2.983a.75.75 0 0 1 1.181.924l-2.562 3.277 2.562 3.276a.75.75 0 1 1-1.181.924l-2.333-2.983-2.333 2.983a.75.75 0 1 1-1.181-.924l2.562-3.276-2.562-3.277a.75.75 0 0 1 .129-1.052Z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-brightness' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M15 10a5 5 0 0 1-5 5m5-5a5 5 0 0 0-5-5m5 5h-5m0 5a5 5 0 0 1 0-10m0 10V5m0 15v-3M2.93 2.929 5.05 5.05M0 10h3m-.07 7.071 2.12-2.121M10 0v3m7.07 14.071-2.12-2.121M20 10h-3m.07-7.071L14.95 5.05m-.626 2.45H10m4.324 5H10'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-camera' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M7.65 2.55a.75.75 0 0 1 .6-.3h7.5a.75.75 0 0 1 .6.3l2.025 2.7H21a3 3 0 0 1 3 3v10.5a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V8.25a3 3 0 0 1 3-3h2.625zm.975 1.2L6.6 6.45a.75.75 0 0 1-.6.3H3a1.5 1.5 0 0 0-1.5 1.5v10.5a1.5 1.5 0 0 0 1.5 1.5h18a1.5 1.5 0 0 0 1.5-1.5V8.25a1.5 1.5 0 0 0-1.5-1.5h-3a.75.75 0 0 1-.6-.3l-2.025-2.7zm3.375 6a3.375 3.375 0 1 0 0 6.75 3.375 3.375 0 0 0 0-6.75zm-4.875 3.375a4.875 4.875 0 1 1 9.75 0 4.875 4.875 0 0 1-9.75 0z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-check' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10zm4.707-11.493L10.8 16.414l-3.507-3.507a1 1 0 1 1 1.414-1.414l2.093 2.093 4.493-4.493a1 1 0 1 1 1.414 1.414z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-close' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M4.604 4.604a.75.75 0 0 1 1.06 0L12 10.939l6.335-6.335a.75.75 0 1 1 1.061 1.06L13.061 12l6.335 6.335a.75.75 0 1 1-1.06 1.061L12 13.061l-6.335 6.335a.75.75 0 0 1-1.061-1.06L10.939 12 4.604 5.665a.75.75 0 0 1 0-1.061z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-closeMax' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='m3 3 14 14m0-14L3 17'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-collapse' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M3.116 12a.75.75 0 0 1 .75-.75h16.268a.75.75 0 0 1 0 1.5H3.866a.75.75 0 0 1-.75-.75Z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-contrast' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M2 10a8 8 0 1 0 16 0 8 8 0 1 0-16 0m8-8v16m8-8h-8m7.598 2.5H10m6.24 2.5H10m7.6-7.5H10M16.242 5H10'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-crop' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M20 14H7.005C6.45 14 6 13.55 6 12.995V0M0 6h13.067c.515 0 .933.418.933.933V20M14.5.4 13 2l1.5 1.6M13 2h2a3 3 0 0 1 3 3v2M5.5 19.6 7 18l-1.5-1.6M7 18H5a3 3 0 0 1-3-3v-2'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-default' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11.501.392a.75.75 0 0 1 .998 0l6.704 5.972a.75.75 0 0 1-.998 1.12l-5.455-4.86v13.439a.75.75 0 0 1-1.5 0V2.625l-5.454 4.86a.75.75 0 1 1-.998-1.12zM.857 16.73a.75.75 0 0 1 .75.75v4.914h20.786v-4.914a.75.75 0 0 1 1.5 0v5.664a.75.75 0 0 1-.75.75H.857a.75.75 0 0 1-.75-.75v-5.664a.75.75 0 0 1 .75-.75z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-detail' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M5 3c-1.11 0-2 .89-2 2v14c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2V5c0-1.11-.89-2-2-2H5m0 2h14v14H5V5m2 2v2h10V7H7m0 4v2h10v-2H7m0 4v2h7v-2H7Z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-done' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='m1 10.632 5.684 5.684L19 4'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-dots' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M16 12a2 2 0 0 1 2-2 2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2m-6 0a2 2 0 0 1 2-2 2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2m-6 0a2 2 0 0 1 2-2 2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-dropbox' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M6.019 1.92a.75.75 0 0 1 .806 0L12 5.219l5.176-3.297a.75.75 0 0 1 .806 0l5.577 3.553a.75.75 0 0 1 0 1.265l-4.574 2.914 4.574 2.914a.75.75 0 0 1 0 1.265l-5.577 3.554a.75.75 0 0 1-.806 0L12 14.089l-5.175 3.297a.75.75 0 0 1-.806 0L.44 13.833a.75.75 0 0 1 0-1.266l4.575-2.914L.44 6.74a.75.75 0 0 1 0-1.265zm.403 8.616L2.24 13.2l4.182 2.664 4.181-2.664zm6.975 2.664 4.182 2.664L21.76 13.2l-4.181-2.664zm2.776-3.547L12 12.311 7.828 9.653 12 6.995zm1.406-.882 4.181-2.664-4.181-2.664-4.182 2.664zm-6.976-2.664L6.422 3.443 2.24 6.107 6.422 8.77zM5.791 18.544a.75.75 0 0 1 1.035-.23l5.175 3.297 5.175-3.297a.75.75 0 1 1 .806 1.265l-5.578 3.554a.75.75 0 0 1-.806 0L6.02 19.579a.75.75 0 0 1-.23-1.035z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-edit' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M3.964 14.48a1.123 1.123 0 0 0-.302.55l-1.134 5.103a1.123 1.123 0 0 0 1.339 1.34l5.103-1.135c.209-.046.4-.15.55-.302l8.051-8.05-5.557-5.557-8.05 8.05Zm9.465-9.466 5.557 5.557 2.02-2.02a1.684 1.684 0 0 0 0-2.382l-3.175-3.176a1.684 1.684 0 0 0-2.381 0l-2.021 2.021Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-edit-brightness' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M12 18a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-2.69L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-edit-color' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M17.5 12a1.5 1.5 0 0 1-1.5-1.5A1.5 1.5 0 0 1 17.5 9a1.5 1.5 0 0 1 1.5 1.5 1.5 1.5 0 0 1-1.5 1.5m-3-4A1.5 1.5 0 0 1 13 6.5 1.5 1.5 0 0 1 14.5 5 1.5 1.5 0 0 1 16 6.5 1.5 1.5 0 0 1 14.5 8m-5 0A1.5 1.5 0 0 1 8 6.5 1.5 1.5 0 0 1 9.5 5 1.5 1.5 0 0 1 11 6.5 1.5 1.5 0 0 1 9.5 8m-3 4A1.5 1.5 0 0 1 5 10.5 1.5 1.5 0 0 1 6.5 9 1.5 1.5 0 0 1 8 10.5 1.5 1.5 0 0 1 6.5 12M12 3a9 9 0 0 0-9 9 9 9 0 0 0 9 9 1.5 1.5 0 0 0 1.5-1.5c0-.39-.15-.74-.39-1-.23-.27-.38-.62-.38-1a1.5 1.5 0 0 1 1.5-1.5H16a5 5 0 0 0 5-5c0-4.42-4.03-8-9-8Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-edit-contrast' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M12 20c-2.21 0-4.21-.9-5.66-2.34L17.66 6.34A8.014 8.014 0 0 1 20 12a8 8 0 0 1-8 8M6 8h2V6h1.5v2h2v1.5h-2v2H8v-2H6M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2m0 14h5v-1.5h-5V16Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-edit-crop' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M7 17V1H5v4H1v2h4v10a2 2 0 0 0 2 2h10v4h2v-4h4v-2m-6-2h2V7a2 2 0 0 0-2-2H9v2h8v8Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-edit-draw' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M21.88 2.163a3.739 3.739 0 0 0-5.597.195L7.72 12.525a4.824 4.824 0 0 0-4.208 1.449c-1.067 1.107-1.1 2.465-1.12 3.308l-.005.166c-.028.894-.086 1.463-.582 2.07l-.806.984.88.913c1.054 1.094 2.67 1.587 4.175 1.587 1.527 0 3.223-.506 4.446-1.775 1.147-1.19 1.613-2.82 1.396-4.368l9.797-8.888c1.67-1.515 1.756-4.18.187-5.808zM5.42 15.956a2.184 2.184 0 0 1 3.17 0 2.389 2.389 0 0 1 0 3.29c-.591.612-1.526.954-2.537.954-.523 0-.994-.09-1.384-.233.363-.916.396-1.776.416-2.43.032-1.045.072-1.308.335-1.581z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-edit-file' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M12.11 6a3.716 3.716 0 0 1 7.28 0h2.313a.75.75 0 0 1 0 1.5H19.39a3.716 3.716 0 0 1-7.278 0H2.297a.75.75 0 1 1 0-1.5zm3.64-1.465a2.215 2.215 0 1 0 0 4.43 2.215 2.215 0 0 0 0-4.43zM4.61 16.5a3.716 3.716 0 0 1 7.28 0h9.813a.75.75 0 0 1 0 1.5H11.89a3.716 3.716 0 0 1-7.278 0H2.297a.75.75 0 0 1 0-1.5zm3.64-1.465a2.215 2.215 0 1 0 0 4.43 2.215 2.215 0 0 0 0-4.43z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-edit-flip-h' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M15 21h2v-2h-2m4-10h2V7h-2M3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2m16-2v2h2c0-1.1-.9-2-2-2m-8 20h2V1h-2m8 16h2v-2h-2M15 5h2V3h-2m4 10h2v-2h-2m0 10c1.1 0 2-.9 2-2h-2Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-edit-flip-v' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M3 15v2h2v-2m10 4v2h2v-2m2-16H5c-1.1 0-2 .9-2 2v4h2V5h14v4h2V5c0-1.1-.9-2-2-2m2 16h-2v2c1.1 0 2-.9 2-2M1 11v2h22v-2M7 19v2h2v-2m10-4v2h2v-2m-10 4v2h2v-2M3 19c0 1.1.9 2 2 2v-2Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-edit-guides' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='m1.39 18.36 1.77-1.76L4.58 18l1.06-1.05-1.42-1.41 1.42-1.42 2.47 2.48 1.06-1.06-2.47-2.48 1.41-1.41 1.42 1.41L10.59 12l-1.42-1.41 1.42-1.42 2.47 2.48 1.06-1.06-2.47-2.48 1.41-1.41 1.41 1.41 1.07-1.06-1.42-1.41 1.42-1.42L18 6.7l1.07-1.06-2.47-2.48 1.76-1.77 4.25 4.25L5.64 22.61l-4.25-4.25Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-edit-resize' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='m10.59 12 4-4H11V6h7v7h-2V9.41l-4 4V16h8V4H8v8h2.59M22 2v16H12v4H2V12h4V2h16M10 14H4v6h6v-6Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-edit-rotate' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='m16.89 15.5 1.42 1.39c.9-1.16 1.45-2.5 1.62-3.89h-2.02c-.14.87-.48 1.72-1.02 2.5M13 17.9v2.02c1.39-.17 2.74-.71 3.9-1.61l-1.44-1.44c-.75.54-1.59.89-2.46 1.03m6.93-6.9a7.906 7.906 0 0 0-1.62-3.89l-1.42 1.42c.54.75.88 1.6 1.02 2.47m-2.36-5.45L11 1v3.07C7.06 4.56 4 7.92 4 12s3.05 7.44 7 7.93v-2.02c-2.84-.48-5-2.94-5-5.91s2.16-5.43 5-5.91V10l4.55-4.45Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-edit-saturation' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M3 13a9 9 0 0 0 9 9c0-5-4.03-9-9-9m9-7.5A2.5 2.5 0 0 1 14.5 8a2.5 2.5 0 0 1-2.5 2.5A2.5 2.5 0 0 1 9.5 8 2.5 2.5 0 0 1 12 5.5m-6.4 4.75a2.5 2.5 0 0 0 2.5 2.5c.53 0 1.02-.17 1.4-.44v.19A2.5 2.5 0 0 0 12 15a2.5 2.5 0 0 0 2.5-2.5v-.19c.38.27.87.44 1.4.44a2.5 2.5 0 0 0 2.5-2.5c0-1-.59-1.85-1.43-2.25.84-.4 1.43-1.26 1.43-2.25a2.5 2.5 0 0 0-2.5-2.5c-.53 0-1.02.16-1.4.44V3.5A2.5 2.5 0 0 0 12 1a2.5 2.5 0 0 0-2.5 2.5v.19c-.38-.28-.87-.44-1.4-.44a2.5 2.5 0 0 0-2.5 2.5c0 .99.59 1.85 1.43 2.25-.84.4-1.43 1.25-1.43 2.25M12 22a9 9 0 0 0 9-9c-5 0-9 4-9 9Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-edit-text' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='m18.5 4 1.16 4.35-.96.26c-.45-.87-.91-1.74-1.44-2.18C16.73 6 16.11 6 15.5 6H13v10.5c0 .5 0 1 .33 1.25.34.25 1 .25 1.67.25v1H9v-1c.67 0 1.33 0 1.67-.25.33-.25.33-.75.33-1.25V6H8.5c-.61 0-1.23 0-1.76.43-.53.44-.99 1.31-1.44 2.18l-.96-.26L5.5 4h13Z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-enhance' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M19 13h-2m0 0a4 4 0 0 1-4-4m4 4a4 4 0 0 0-4 4m0-8V7m0 2a4 4 0 0 1-4 4m-2 0h2m0 0a4 4 0 0 1 4 4m0 0v2M8 8.5H6.5m0 0a2 2 0 0 1-2-2m2 2a2 2 0 0 0-2 2m0-4V5m0 1.5a2 2 0 0 1-2 2M1 8.5h1.5m0 0a2 2 0 0 1 2 2m0 0V12M12 3h-1m0 0a1 1 0 0 1-1-1m1 1a1 1 0 0 0-1 1m0-2V1m0 1a1 1 0 0 1-1 1M8 3h1m0 0a1 1 0 0 1 1 1m0 0v1'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-error' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M13 13h-2V7h2m0 10h-2v-2h2M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-evernote' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M9.804 2.27v-.048c.055-.263.313-.562.85-.562h.44c.142 0 .325.014.526.033.066.009.124.023.267.06l.13.032h.002c.319.079.515.275.644.482a1.461 1.461 0 0 1 .16.356l.004.012a.75.75 0 0 0 .603.577l1.191.207a1988.512 1988.512 0 0 0 2.332.402c.512.083 1.1.178 1.665.442.64.3 1.19.795 1.376 1.77.548 2.931.657 5.829.621 8a39.233 39.233 0 0 1-.125 2.602 17.518 17.518 0 0 1-.092.849.735.735 0 0 0-.024.112c-.378 2.705-1.269 3.796-2.04 4.27-.746.457-1.53.451-2.217.447h-.192c-.46 0-1.073-.23-1.581-.635-.518-.412-.763-.87-.763-1.217 0-.45.188-.688.355-.786.161-.095.436-.137.796.087a.75.75 0 1 0 .792-1.274c-.766-.476-1.64-.52-2.345-.108-.7.409-1.098 1.188-1.098 2.08 0 .996.634 1.84 1.329 2.392.704.56 1.638.96 2.515.96l.185.002c.667.009 1.874.025 3.007-.67 1.283-.786 2.314-2.358 2.733-5.276a4.213 4.213 0 0 0 .056-.335c.023-.184.051-.445.079-.772.055-.655.111-1.585.13-2.704.037-2.234-.074-5.239-.647-8.301v-.002c-.294-1.544-1.233-2.391-2.215-2.85-.777-.363-1.623-.496-2.129-.576a8.872 8.872 0 0 1-.25-.041l-.006-.001-1.99-.345-.761-.132a2.93 2.93 0 0 0-.182-.338A2.532 2.532 0 0 0 12.379.329l-.091-.023a3.967 3.967 0 0 0-.493-.103L11.769.2a7.846 7.846 0 0 0-.675-.04h-.44c-.733 0-1.368.284-1.795.742L2.416 7.431c-.468.428-.751 1.071-.751 1.81 0 .02 0 .041.003.062l.003.034c.017.21.038.468.096.796.107.715.275 1.47.391 1.994.029.13.055.245.075.342l.002.008c.258 1.141.641 1.94.978 2.466.168.263.323.456.444.589a2.808 2.808 0 0 0 .192.194c1.536 1.562 3.713 2.196 5.731 2.08.13-.005.35-.032.537-.073a2.627 2.627 0 0 0 .652-.24c.425-.26.75-.661.992-1.046.184-.294.342-.61.473-.915a3.8 3.8 0 0 0 .627.493 5.022 5.022 0 0 0 1.97.709l.023.002.018.003.11.016c.088.014.205.035.325.058l.056.014c.088.022.164.04.235.061a1.736 1.736 0 0 1 .145.048l.03.014c.765.34 1.302 1.09 1.302 1.871a.75.75 0 0 0 1.5 0c0-1.456-.964-2.69-2.18-3.235a3.595 3.595 0 0 0-.679-.217l-.063-.015a10.616 10.616 0 0 0-.606-.105l-.02-.003-.03-.003h-.002a3.542 3.542 0 0 1-1.331-.485c-.471-.298-.788-.692-.828-1.234a.75.75 0 0 0-1.48-.106l-.001.003-.004.017a8.23 8.23 0 0 1-.092.352 9.963 9.963 0 0 1-.298.892c-.132.34-.29.68-.47.966-.174.276-.339.454-.478.549a1.178 1.178 0 0 1-.221.072 1.949 1.949 0 0 1-.241.036h-.013l-.032.002c-1.684.1-3.423-.437-4.604-1.65a.746.746 0 0 0-.053-.05L4.84 14.6a1.348 1.348 0 0 1-.07-.073 2.99 2.99 0 0 1-.293-.392c-.242-.379-.558-1.014-.778-1.985a54.1 54.1 0 0 0-.083-.376 27.494 27.494 0 0 1-.367-1.872l-.003-.02a6.791 6.791 0 0 1-.08-.67c.004-.277.086-.475.2-.609l.067-.067a.63.63 0 0 1 .292-.145h.05c.18 0 1.095.055 2.013.115l1.207.08.534.037a.747.747 0 0 0 .052.002c.782 0 1.349-.206 1.759-.585l.005-.005c.553-.52.622-1.225.622-1.76V6.24l-.026-.565A774.97 774.97 0 0 1 9.885 4.4c-.042-.961-.081-1.939-.081-2.13ZM4.995 6.953a251.126 251.126 0 0 1 2.102.137l.508.035c.48-.004.646-.122.715-.185.07-.068.146-.209.147-.649l-.024-.548a791.69 791.69 0 0 1-.095-2.187L4.995 6.953Zm16.122 9.996Zm-5.479-5.323a.75.75 0 0 0 1.014.31 2.04 2.04 0 0 1 .304-.089 1.84 1.84 0 0 1 .544-.039c.215.023.321.06.37.085.033.016.039.026.047.04a.75.75 0 0 0 1.289-.767c-.337-.567-.906-.783-1.552-.85a3.334 3.334 0 0 0-1.002.062c-.27.056-.531.14-.705.234a.75.75 0 0 0-.31 1.014Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-expand' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='m12 8.337-8.47 8.47a.75.75 0 0 1-1.06-1.06l8.605-8.606a1.29 1.29 0 0 1 1.85 0l8.605 8.605a.75.75 0 1 1-1.06 1.06L12 8.338Z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-exposure' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M10 20v-3M2.93 2.929 5.05 5.05M0 10h3m-.07 7.071 2.12-2.121M10 0v3m7.07 14.071-2.12-2.121M20 10h-3m.07-7.071L14.95 5.05M5 10a5 5 0 1 0 10 0 5 5 0 1 0-10 0'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-external-source-placeholder' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M6.341 3.27a10.5 10.5 0 0 1 5.834-1.77.75.75 0 0 0 0-1.5 12 12 0 1 0 12 12 .75.75 0 0 0-1.5 0A10.5 10.5 0 1 1 6.34 3.27Zm14.145 1.48a.75.75 0 1 0-1.06-1.062L9.925 13.19V7.95a.75.75 0 1 0-1.5 0V15c0 .414.336.75.75.75h7.05a.75.75 0 0 0 0-1.5h-5.24l9.501-9.5Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-facebook' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M12 1.5C6.201 1.5 1.5 6.201 1.5 12c0 4.943 3.416 9.089 8.016 10.204v-6.108H7.383a.75.75 0 0 1-.75-.75v-3.281a.75.75 0 0 1 .75-.75h2.133V9.393c0-.958.225-2.511 1.38-3.65 1.194-1.177 3.174-1.718 6.254-1.056a.75.75 0 0 1 .592.733v2.754a.75.75 0 0 1-.75.75c-.692 0-1.203.026-1.584.082-.387.057-.578.137-.675.202-.109.073-.237.205-.237 1.029v1.078h2.39a.75.75 0 0 1 .742.866l-.516 3.281a.75.75 0 0 1-.74.634h-1.876v6.106C19.09 21.082 22.5 16.939 22.5 12c0-5.799-4.701-10.5-10.5-10.5zM0 12C0 5.373 5.373 0 12 0s12 5.373 12 12c0 5.995-4.395 10.961-10.138 11.856a.75.75 0 0 1-.866-.74v-7.77a.75.75 0 0 1 .75-.75h1.984l.28-1.781h-2.264a.75.75 0 0 1-.75-.75v-1.828c0-.829.089-1.729.9-2.274.363-.244.807-.37 1.293-.441a9.623 9.623 0 0 1 1.053-.086V6.04c-2.41-.405-3.645.132-4.293.771-.737.728-.933 1.793-.933 2.582v2.672a.75.75 0 0 1-.75.75H8.133v1.78h2.133a.75.75 0 0 1 .75.75v7.772a.75.75 0 0 1-.865.741C4.4 22.968 0 18 0 12z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-file' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M2.895 1.201c0-.473.383-.857.857-.857h8.4c.227 0 .445.09.606.251l8.4 8.4c.16.16.25.379.25.606v13.2a.857.857 0 0 1-.856.857h-16.8a.857.857 0 0 1-.857-.857zm1.714.857v19.886h15.085V10.458h-7.542a.857.857 0 0 1-.858-.857V2.058zm8.4 1.213 5.473 5.473H13.01z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-filters' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M4.5 6.5a5.5 5.5 0 1 0 11 0 5.5 5.5 0 1 0-11 0m-3.5 6a5.5 5.5 0 1 0 11 0 5.5 5.5 0 1 0-11 0m7 0a5.5 5.5 0 1 0 11 0 5.5 5.5 0 1 0-11 0'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-flickr' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M5.959 7.926c-2.298 0-4.14 1.834-4.14 4.073 0 2.241 1.842 4.075 4.14 4.075 2.302 0 4.145-1.834 4.145-4.075 0-2.238-1.843-4.073-4.145-4.073Zm-5.64 4.073c0-3.086 2.533-5.573 5.64-5.573 3.11 0 5.645 2.486 5.645 5.573 0 3.089-2.535 5.575-5.645 5.575-3.107 0-5.64-2.487-5.64-5.575Zm18.07-4.073c-2.301 0-4.144 1.835-4.144 4.073 0 2.24 1.843 4.075 4.145 4.075 2.299 0 4.141-1.834 4.141-4.075 0-2.239-1.842-4.073-4.141-4.073Zm-5.644 4.073c0-3.087 2.535-5.573 5.645-5.573 3.108 0 5.641 2.487 5.641 5.573 0 3.088-2.533 5.575-5.641 5.575-3.11 0-5.645-2.486-5.645-5.575Z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-flip' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M19.6 5 18 3.5 16.4 5m3.2 10L18 16.5 16.4 15M18 3.523v12.954M3.3 8.5h10.654c.301 0 .415-.395.159-.554L3.459 1.286A.3.3 0 0 0 3 1.542V8.2a.3.3 0 0 0 .3.3zm0 3h10.654c.301 0 .415.395.159.554l-10.654 6.66A.3.3 0 0 1 3 18.458v-6.66a.3.3 0 0 1 .3-.3z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-fullscreen' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M5 5h5v2H7v3H5V5m9 0h5v5h-2V7h-3V5m3 9h2v5h-5v-2h3v-3m-7 3v2H5v-5h2v3h3Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-fullscreen-exit' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M14 14h5v2h-3v3h-2v-5m-9 0h5v5H8v-3H5v-2m3-9h2v5H5V8h3V5m11 3v2h-5V5h2v3h3Z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-gamma' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M17 3C9 6 2.5 11.5 2.5 17.5m0 0h1m-1 0v-1m14 1h1m-3 0h1m-3 0h1m-3 0h1m-3 0h1m-3 0h1m-3 0h1m-3-14v-1m0 3v-1m0 3v-1m0 3v-1m0 3v-1m0 3v-1m0 3v-1'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-gdrive' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M7.736 1.818a.75.75 0 0 1 .647-.37h7.587a.75.75 0 0 1 .655.383l7.233 12.946a.75.75 0 0 1-.003.737l-3.794 6.66a.75.75 0 0 1-.651.378H4.59a.75.75 0 0 1-.651-.378l-3.794-6.66a.75.75 0 0 1 .005-.75zm.64 1.876L1.663 15.148l2.93 5.145 6.655-11.581zm3.736 6.526-2.398 4.173H14.5zm4.116 4.173h5.697L15.53 2.947H9.677zm5.685 1.5H8.852l-2.966 5.16h13.088z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-gphotos' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M12.51 0c-.702 0-1.272.57-1.272 1.273V7.35A6.381 6.381 0 0 0 0 11.489c0 .703.57 1.273 1.273 1.273H7.35A6.381 6.381 0 0 0 11.488 24c.704 0 1.274-.57 1.274-1.273V16.65A6.381 6.381 0 0 0 24 12.51c0-.703-.57-1.273-1.273-1.273H16.65A6.381 6.381 0 0 0 12.511 0Zm.252 11.232V1.53a4.857 4.857 0 0 1 0 9.702Zm-1.53.006H1.53a4.857 4.857 0 0 1 9.702 0Zm1.536 1.524a4.857 4.857 0 0 0 9.702 0h-9.702Zm-6.136 4.857c0-2.598 2.04-4.72 4.606-4.85v9.7a4.857 4.857 0 0 1-4.606-4.85Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-huddle' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M6.204 2.002c-.252.23-.357.486-.357.67V21.07c0 .15.084.505.313.812.208.28.499.477.929.477.519 0 .796-.174.956-.365.178-.212.286-.535.286-.924v-.013l.117-6.58c.004-1.725 1.419-3.883 3.867-3.883 1.33 0 2.332.581 2.987 1.364.637.762.95 1.717.95 2.526v6.47c0 .392.11.751.305.995.175.22.468.41 1.008.41.52 0 .816-.198 1.002-.437.207-.266.31-.633.31-.969V14.04c0-2.81-1.943-5.108-4.136-5.422a5.971 5.971 0 0 0-3.183.41c-.912.393-1.538.96-1.81 1.489a.75.75 0 0 1-1.417-.344v-7.5c0-.587-.47-1.031-1.242-1.031-.315 0-.638.136-.885.36ZM5.194.892A2.844 2.844 0 0 1 7.09.142c1.328 0 2.742.867 2.742 2.53v5.607a6.358 6.358 0 0 1 1.133-.629 7.47 7.47 0 0 1 3.989-.516c3.056.436 5.425 3.482 5.425 6.906v6.914c0 .602-.177 1.313-.627 1.89-.47.605-1.204 1.016-2.186 1.016-.96 0-1.698-.37-2.179-.973-.46-.575-.633-1.294-.633-1.933v-6.469c0-.456-.19-1.071-.602-1.563-.394-.471-.986-.827-1.836-.827-1.447 0-2.367 1.304-2.367 2.39v.014l-.117 6.58c-.001.64-.177 1.333-.637 1.881-.48.57-1.2.9-2.105.9-.995 0-1.7-.5-2.132-1.081-.41-.552-.61-1.217-.61-1.708V2.672c0-.707.366-1.341.847-1.78Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-info' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11 9h2V7h-2m1 13c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-18A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2m-1 15h2v-6h-2v6Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-instagram' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M6.225 12a5.775 5.775 0 1 1 11.55 0 5.775 5.775 0 0 1-11.55 0zM12 7.725a4.275 4.275 0 1 0 0 8.55 4.275 4.275 0 0 0 0-8.55zm6.425-.75a1.4 1.4 0 1 0 0-2.8 1.4 1.4 0 0 0 0 2.8zm-6.467-6.8h.084c2.152 0 3.823 0 5.152.132 1.35.134 2.427.41 3.362 1.013a7.15 7.15 0 0 1 2.124 2.124c.604.935.88 2.012 1.013 3.362.132 1.329.132 3 .132 5.152v.084c0 2.152 0 3.823-.132 5.152-.134 1.35-.41 2.427-1.013 3.362a7.15 7.15 0 0 1-2.124 2.124c-.935.604-2.012.88-3.362 1.013-1.329.132-3 .132-5.152.132h-.084c-2.152 0-3.824 0-5.153-.132-1.35-.134-2.427-.409-3.36-1.013a7.15 7.15 0 0 1-2.125-2.124C.716 19.62.44 18.544.307 17.194c-.132-1.329-.132-3-.132-5.152v-.084c0-2.152 0-3.823.132-5.152.133-1.35.409-2.427 1.013-3.362A7.15 7.15 0 0 1 3.444 1.32C4.378.716 5.456.44 6.805.307c1.33-.132 3-.132 5.153-.132zM6.953 1.799c-1.234.123-2.043.36-2.695.78A5.65 5.65 0 0 0 2.58 4.26c-.42.65-.657 1.46-.78 2.695C1.676 8.2 1.675 9.797 1.675 12s0 3.8.124 5.046c.123 1.235.36 2.044.78 2.696a5.649 5.649 0 0 0 1.68 1.678c.65.421 1.46.658 2.694.78 1.247.124 2.844.125 5.047.125s3.8 0 5.046-.124c1.235-.123 2.044-.36 2.695-.78a5.648 5.648 0 0 0 1.68-1.68c.42-.65.657-1.46.78-2.694.123-1.247.124-2.844.124-5.047s-.001-3.8-.125-5.046c-.122-1.235-.359-2.044-.78-2.695a5.65 5.65 0 0 0-1.679-1.68c-.651-.42-1.46-.657-2.695-.78-1.246-.123-2.843-.124-5.046-.124-2.203 0-3.8 0-5.047.124z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-local' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M3 3.75a1.5 1.5 0 0 0-1.5 1.5v13.5a1.5 1.5 0 0 0 1.5 1.5h18a1.5 1.5 0 0 0 1.5-1.5V9A1.5 1.5 0 0 0 21 7.5h-9a.75.75 0 0 1-.643-.364L9.325 3.75zm-3 1.5a3 3 0 0 1 3-3h6.75a.75.75 0 0 1 .643.364L12.425 6H21a3 3 0 0 1 3 3v9.75a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-mirror' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M5 .4 3.5 2 5 3.6M15 .4 16.5 2 15 3.6M3.52 2h12.957M8.5 16.7V6.046c0-.301-.394-.415-.554-.159L1.287 16.541a.3.3 0 0 0 .255.459H8.2a.3.3 0 0 0 .3-.3zm3 0V6.046c0-.301.395-.415.555-.159l6.659 10.654a.3.3 0 0 1-.255.459H11.8a.3.3 0 0 1-.3-.3z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-onedrive' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M13.616 4.147a7.689 7.689 0 0 0-7.642 3.285A6.299 6.299 0 0 0 1.455 17.3c.684.894 2.473 2.658 5.17 2.658h12.141c.95 0 1.882-.256 2.697-.743.815-.486 1.514-1.247 1.964-2.083a5.26 5.26 0 0 0-3.713-7.612 7.69 7.69 0 0 0-6.098-5.373ZM3.34 17.15c.674.63 1.761 1.308 3.284 1.308h12.142a3.76 3.76 0 0 0 2.915-1.383l-7.494-4.489L3.34 17.15Zm10.875-6.25 2.47-1.038a5.239 5.239 0 0 1 1.427-.389 6.19 6.19 0 0 0-10.3-1.952 6.338 6.338 0 0 1 2.118.813l4.285 2.567Zm4.55.033c-.512 0-1.019.104-1.489.307l-.006.003-1.414.594 6.521 3.906a3.76 3.76 0 0 0-3.357-4.8l-.254-.01ZM4.097 9.617A4.799 4.799 0 0 1 6.558 8.9c.9 0 1.84.25 2.587.713l3.4 2.037-10.17 4.28a4.799 4.799 0 0 1 1.721-6.312Z'/></symbol><symbol viewBox='0 0 40 40' id='uc-icon-original' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M0 40 40 0'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-remove' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M6.357 9.714c-.764 0-1.359.661-1.279 1.42l1.015 9.643c.069.655.62 1.152 1.279 1.152h9.256c.658 0 1.21-.497 1.279-1.151l1.015-9.643c.08-.76-.515-1.42-1.279-1.42zm.5-4.5v.322H4.286a1.286 1.286 0 0 0 0 2.571h15.428a1.286 1.286 0 1 0 0-2.571h-2.571v-.322A3.214 3.214 0 0 0 13.929 2H10.07a3.214 3.214 0 0 0-3.214 3.214zm7.072-.643c.355 0 .642.288.642.643v.322H9.43v-.322c0-.355.287-.643.642-.643z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-remove-file' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11.955 3.3A2.969 2.969 0 0 0 8.998 6h5.914a2.97 2.97 0 0 0-2.957-2.7zM16.416 6a4.47 4.47 0 0 0-8.922 0h-2.32a.755.755 0 0 0-.111.008H3.075a.75.75 0 1 0 0 1.5h1.35V19.35a2.85 2.85 0 0 0 2.85 2.85h9.45a2.85 2.85 0 0 0 2.85-2.85V7.508h1.35a.75.75 0 0 0 0-1.5h-1.989A.754.754 0 0 0 18.825 6zM5.925 7.508V19.35a1.35 1.35 0 0 0 1.35 1.35h9.45a1.35 1.35 0 0 0 1.35-1.35V7.508z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-rotate' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M13.5.4 12 2l1.5 1.6M12.023 2H14.4A3.6 3.6 0 0 1 18 5.6V8M4 17h9a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-sad' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M2 17c4.418-4 11.582-4 16 0M16.5 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-11 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-saturation' xmlns='http://www.w3.org/2000/svg'><defs><linearGradient id='aouc-icon-id__a' x1='10.001' y1='1' x2='10.001' y2='19' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient></defs><circle cx='10.001' cy='10' r='9' transform='rotate(90 10 10)' fill='url(#aouc-icon-id__a)'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-select' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='m7 10 5 5 5-5H7Z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-slider' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M0 10h11m0 0a2 2 0 1 0 4 0m-4 0a2 2 0 1 1 4 0m0 0h5'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-trash-file' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M6.357 9.714c-.764 0-1.359.661-1.279 1.42l1.015 9.643c.069.655.62 1.152 1.279 1.152h9.256c.658 0 1.21-.497 1.279-1.151l1.015-9.643c.08-.76-.515-1.42-1.279-1.42zm.5-4.5v.322H4.286a1.286 1.286 0 0 0 0 2.571h15.428a1.286 1.286 0 1 0 0-2.571h-2.571v-.322A3.214 3.214 0 0 0 13.929 2H10.07a3.214 3.214 0 0 0-3.214 3.214zm7.072-.643c.355 0 .642.288.642.643v.322H9.43v-.322c0-.355.287-.643.642-.643z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-tuning' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M8 10h11M1 10h4M1 4.5h11m3 0h4m-18 11h11m3 0h4m-7-11a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0m7 5.5a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-upload' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11.501.392a.75.75 0 0 1 .998 0l6.704 5.972a.75.75 0 0 1-.998 1.12l-5.455-4.86v13.439a.75.75 0 0 1-1.5 0V2.625l-5.454 4.86a.75.75 0 1 1-.998-1.12zM.857 16.73a.75.75 0 0 1 .75.75v4.914h20.786v-4.914a.75.75 0 0 1 1.5 0v5.664a.75.75 0 0 1-.75.75H.857a.75.75 0 0 1-.75-.75v-5.664a.75.75 0 0 1 .75-.75z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-upload-error' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M13 13h-2V7h2m0 10h-2v-2h2M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-url' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M19.11 3.67c-1.71-1.709-4.578-1.682-6.408.148l-2.22 2.22a.75.75 0 0 1-1.062-1.06l2.222-2.221C14.018.381 17.836.276 20.17 2.61l1.22 1.22c2.335 2.334 2.23 6.153-.147 8.529l-2.22 2.22a.75.75 0 0 1-1.062-1.06l2.222-2.221c1.83-1.83 1.856-4.698.147-6.408zm-3.36 4.58a.75.75 0 0 1 0 1.06l-6.439 6.44a.75.75 0 0 1-1.06-1.06l6.439-6.44a.75.75 0 0 1 1.06 0zM6.04 9.42a.75.75 0 0 1 0 1.061l-2.222 2.222c-1.83 1.83-1.856 4.698-.147 6.407l1.22 1.22c1.71 1.71 4.578 1.683 6.408-.147l2.221-2.221a.75.75 0 1 1 1.06 1.06l-2.22 2.222c-2.377 2.376-6.195 2.481-8.53.147l-1.22-1.22c-2.334-2.334-2.228-6.153.148-8.53l2.221-2.22a.75.75 0 0 1 1.06 0z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-vibrance' xmlns='http://www.w3.org/2000/svg'><path d='M2.125 5.64A8.96 8.96 0 0 0 1.001 10a8.96 8.96 0 0 0 1.124 4.36V5.64z' fill='url(#aruc-icon-id__a)'/><path d='M2.875 15.499V4.502a9.053 9.053 0 0 1 1.75-1.72v14.437a9.05 9.05 0 0 1-1.75-1.72z' fill='url(#aruc-icon-id__b)'/><path d='M5.375 17.722c.548.33 1.134.601 1.75.809V1.469a8.956 8.956 0 0 0-1.75.81v15.443z' fill='url(#aruc-icon-id__c)'/><path d='M7.875 1.253v17.495c.564.136 1.15.22 1.75.244V1.008a9 9 0 0 0-1.75.245z' fill='url(#aruc-icon-id__d)'/><path d='M10.375 1.008v17.984a9 9 0 0 0 1.75-.244V1.252a9 9 0 0 0-1.75-.244z' fill='url(#aruc-icon-id__e)'/><path d='M12.875 1.469V18.53a8.957 8.957 0 0 0 1.75-.808V2.277a8.957 8.957 0 0 0-1.75-.808z' fill='url(#aruc-icon-id__f)'/><path d='M15.375 2.78v14.44a9.053 9.053 0 0 0 1.75-1.72v-11a9.054 9.054 0 0 0-1.75-1.72z' fill='url(#aruc-icon-id__g)'/><path d='M17.875 5.638v8.724A8.959 8.959 0 0 0 19.001 10a8.96 8.96 0 0 0-1.126-4.362z' fill='url(#aruc-icon-id__h)'/><defs><linearGradient id='aruc-icon-id__a' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='aruc-icon-id__b' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='aruc-icon-id__c' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='aruc-icon-id__d' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='aruc-icon-id__e' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='aruc-icon-id__f' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='aruc-icon-id__g' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='aruc-icon-id__h' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient></defs></symbol><symbol viewBox='0 0 24 24' id='uc-icon-vk' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M6.341 3.27a10.5 10.5 0 0 1 5.834-1.77.75.75 0 0 0 0-1.5 12 12 0 1 0 12 12 .75.75 0 0 0-1.5 0A10.5 10.5 0 1 1 6.34 3.27Zm14.145 1.48a.75.75 0 1 0-1.06-1.062L9.925 13.19V7.95a.75.75 0 1 0-1.5 0V15c0 .414.336.75.75.75h7.05a.75.75 0 0 0 0-1.5h-5.24l9.501-9.5Z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-warmth' xmlns='http://www.w3.org/2000/svg'><path d='m7.5 13.05.429.42.171-.175v-.244h-.6zm5 0h-.6v.245l.172.175.428-.42zM8.1 3.5c0-1.05.85-1.9 1.9-1.9V.4a3.1 3.1 0 0 0-3.1 3.1h1.2zm0 9.55V3.5H6.9v9.55h1.2zm-1 2.45c0-.79.315-1.506.829-2.03l-.858-.84A4.088 4.088 0 0 0 5.9 15.5h1.2zm2.9 2.9a2.9 2.9 0 0 1-2.9-2.9H5.9a4.1 4.1 0 0 0 4.1 4.1v-1.2zm2.9-2.9a2.9 2.9 0 0 1-2.9 2.9v1.2a4.1 4.1 0 0 0 4.1-4.1h-1.2zm-.829-2.03c.514.524.829 1.24.829 2.03h1.2c0-1.117-.447-2.13-1.171-2.87l-.858.84zM11.9 3.5v9.55h1.2V3.5h-1.2zM10 1.6c1.05 0 1.9.85 1.9 1.9h1.2A3.1 3.1 0 0 0 10 .4v1.2z' fill='currentColor'/><path d='M10 14V8' stroke='currentColor' stroke-width='1.2' stroke-linecap='round'/><path d='M14 3h3m-3 3h3m-3 3h3m-8 6.5a1 1 0 1 0 2 0 1 1 0 1 0-2 0' stroke='currentColor' stroke-width='1.2'/></symbol></svg>\";","import { uploaderBlockCtx } from './CTX.js';\nimport svgIconsSprite from '../blocks/themes/lr-basic/svg-sprite.js';\nimport { Block } from './Block.js';\n\nexport class SolutionBlock extends Block {\n  requireCtxName = true;\n  init$ = uploaderBlockCtx(this);\n  _template = null;\n\n  static set template(value) {\n    this._template = svgIconsSprite + value + /** HTML */ `<slot></slot>`;\n  }\n\n  static get template() {\n    return this._template;\n  }\n}\n","// @ts-check\nimport { SolutionBlock } from '../../../abstract/SolutionBlock.js';\nimport { EventType } from '../../../blocks/UploadCtxProvider/EventEmitter.js';\n\nexport class FileUploaderRegular extends SolutionBlock {\n  initCallback() {\n    super.initCallback();\n\n    this.sub(\n      '*modalActive',\n      (modalActive) => {\n        if (this._lastModalActive !== modalActive) {\n          this.emit(modalActive ? EventType.MODAL_OPEN : EventType.MODAL_CLOSE, undefined, { debounce: true });\n        }\n\n        /** @private */\n        this._lastModalActive = modalActive;\n      },\n      false,\n    );\n  }\n}\n\nFileUploaderRegular.template = /* HTML */ `\n  <lr-simple-btn></lr-simple-btn>\n\n  <lr-modal strokes block-body-scrolling>\n    <lr-start-from>\n      <lr-drop-area with-icon clickable></lr-drop-area>\n      <lr-source-list wrap></lr-source-list>\n      <button type=\"button\" l10n=\"start-from-cancel\" class=\"secondary-btn\" set=\"onclick: *historyBack\"></button>\n      <lr-copyright></lr-copyright>\n    </lr-start-from>\n    <lr-upload-list></lr-upload-list>\n    <lr-camera-source></lr-camera-source>\n    <lr-url-source></lr-url-source>\n    <lr-external-source></lr-external-source>\n    <lr-cloud-image-editor-activity></lr-cloud-image-editor-activity>\n  </lr-modal>\n\n  <lr-progress-bar-common></lr-progress-bar-common>\n`;\n","import { ActivityBlock } from '../../../abstract/ActivityBlock.js';\nimport { SolutionBlock } from '../../../abstract/SolutionBlock.js';\n\nexport class FileUploaderMinimal extends SolutionBlock {\n  initCallback() {\n    super.initCallback();\n\n    /** @type {import('../../../abstract/UploaderBlock.js').UploaderBlock} */\n    const uBlock = this.ref.uBlock;\n    this.sub('*currentActivity', (val) => {\n      if (!val) {\n        this.$['*currentActivity'] = uBlock.initActivity || ActivityBlock.activities.START_FROM;\n      }\n    });\n\n    this.sub('*uploadList', (list) => {\n      if (list?.length > 0) {\n        this.$['*currentActivity'] = ActivityBlock.activities.UPLOAD_LIST;\n      } else {\n        this.$['*currentActivity'] = uBlock.initActivity || ActivityBlock.activities.START_FROM;\n      }\n    });\n\n    this.subConfigValue('sourceList', (sourceList) => {\n      if (sourceList !== 'local') {\n        this.cfg.sourceList = 'local';\n      }\n    });\n\n    this.subConfigValue('confirmUpload', (confirmUpload) => {\n      if (confirmUpload !== false) {\n        this.cfg.confirmUpload = false;\n      }\n    });\n  }\n}\n\nFileUploaderMinimal.template = /* HTML */ `\n  <lr-start-from>\n    <lr-drop-area clickable l10n=\"choose-file\"></lr-drop-area>\n    <lr-copyright></lr-copyright>\n  </lr-start-from>\n  <lr-upload-list ref=\"uBlock\"></lr-upload-list>\n`;\n","// @ts-check\nimport { ActivityBlock } from '../../../abstract/ActivityBlock.js';\nimport { SolutionBlock } from '../../../abstract/SolutionBlock.js';\n\nexport class FileUploaderInline extends SolutionBlock {\n  constructor() {\n    super();\n\n    this.init$ = {\n      ...this.init$,\n      couldCancel: false,\n      cancel: () => {\n        if (this.couldHistoryBack) {\n          this.$['*historyBack']();\n        } else if (this.couldShowList) {\n          this.$['*currentActivity'] = ActivityBlock.activities.UPLOAD_LIST;\n        }\n      },\n    };\n  }\n\n  get couldHistoryBack() {\n    const history = this.$['*history'];\n    return history.length > 1 && history[history.length - 1] !== ActivityBlock.activities.START_FROM;\n  }\n\n  get couldShowList() {\n    return this.cfg.showEmptyList || this.$['*uploadList'].length > 0;\n  }\n\n  initCallback() {\n    super.initCallback();\n\n    /** @type {import('../../../abstract/UploaderBlock.js').UploaderBlock} */\n    const uBlock = this.ref.uBlock;\n    this.sub('*currentActivity', (val) => {\n      if (!val) {\n        this.$['*currentActivity'] = uBlock.initActivity || ActivityBlock.activities.START_FROM;\n      }\n    });\n\n    this.sub('*uploadList', (list) => {\n      if (\n        list?.length > 0 &&\n        this.$['*currentActivity'] === (uBlock.initActivity || ActivityBlock.activities.START_FROM)\n      ) {\n        this.$['*currentActivity'] = ActivityBlock.activities.UPLOAD_LIST;\n      }\n    });\n\n    this.sub('*history', () => {\n      this.$['couldCancel'] = this.couldHistoryBack || this.couldShowList;\n    });\n  }\n}\n\nFileUploaderInline.template = /* HTML */ ` <lr-start-from>\n    <lr-drop-area with-icon clickable></lr-drop-area>\n    <lr-source-list wrap></lr-source-list>\n    <button\n      type=\"button\"\n      l10n=\"start-from-cancel\"\n      class=\"cancel-btn secondary-btn\"\n      set=\"onclick: cancel; @hidden: !couldCancel\"\n    ></button>\n    <lr-copyright></lr-copyright>\n  </lr-start-from>\n  <lr-upload-list ref=\"uBlock\"></lr-upload-list>\n  <lr-camera-source></lr-camera-source>\n  <lr-url-source></lr-url-source>\n  <lr-external-source></lr-external-source>\n  <lr-progress-bar></lr-progress-bar>\n  <lr-cloud-image-editor-activity></lr-cloud-image-editor-activity>`;\n","// @ts-check\nimport { CloudImageEditorBlock } from '../../blocks/CloudImageEditor/src/CloudImageEditorBlock.js';\n\nexport class CloudImageEditor extends CloudImageEditorBlock {\n  initCallback() {\n    super.initCallback();\n\n    /** @private */\n    this.__shadowReady = true;\n\n    this.$['*faderEl'] = this.ref['fader-el'];\n    this.$['*cropperEl'] = this.ref['cropper-el'];\n    this.$['*imgContainerEl'] = this.ref['img-container-el'];\n\n    this.initEditor();\n  }\n\n  async initEditor() {\n    if (this.__shadowReady) {\n      await super.initEditor();\n    }\n  }\n}\n","import { registerBlocks } from './registerBlocks.js';\n\nexport const LR_WINDOW_KEY = 'LR';\n\n/**\n * @param {String} url Blocks pack url\n * @param {Boolean} [register] Register connected package, if it not registered yet\n * @returns {Promise<import('../index.js')>}\n */\nexport async function connectBlocksFrom(url, register = false) {\n  return new Promise((resolve, reject) => {\n    if (typeof document !== 'object') {\n      resolve(null);\n      return;\n    }\n    if (typeof window === 'object' && window[LR_WINDOW_KEY]) {\n      resolve(window[LR_WINDOW_KEY]);\n      return;\n    }\n    let script = document.createElement('script');\n    script.async = true;\n    script.src = url;\n    script.onerror = () => {\n      reject();\n    };\n    script.onload = () => {\n      /** @type {import('../index.js')} */\n      let blocks = window[LR_WINDOW_KEY];\n      register && registerBlocks(blocks);\n      resolve(blocks);\n    };\n    document.head.appendChild(script);\n  });\n}\n","export default function _OverloadYield(t, e) {\n  this.v = t, this.k = e;\n}","import OverloadYield from \"./OverloadYield.js\";\nexport default function AsyncGenerator(e) {\n  var r, t;\n  function resume(r, t) {\n    try {\n      var n = e[r](t),\n        o = n.value,\n        u = o instanceof OverloadYield;\n      Promise.resolve(u ? o.v : o).then(function (t) {\n        if (u) {\n          var i = \"return\" === r ? \"return\" : \"next\";\n          if (!o.k || t.done) return resume(i, t);\n          t = e[i](t).value;\n        }\n        settle(n.done ? \"return\" : \"normal\", t);\n      }, function (e) {\n        resume(\"throw\", e);\n      });\n    } catch (e) {\n      settle(\"throw\", e);\n    }\n  }\n  function settle(e, n) {\n    switch (e) {\n      case \"return\":\n        r.resolve({\n          value: n,\n          done: !0\n        });\n        break;\n      case \"throw\":\n        r.reject(n);\n        break;\n      default:\n        r.resolve({\n          value: n,\n          done: !1\n        });\n    }\n    (r = r.next) ? resume(r.key, r.arg) : t = null;\n  }\n  this._invoke = function (e, n) {\n    return new Promise(function (o, u) {\n      var i = {\n        key: e,\n        arg: n,\n        resolve: o,\n        reject: u,\n        next: null\n      };\n      t ? t = t.next = i : (r = t = i, resume(e, n));\n    });\n  }, \"function\" != typeof e[\"return\"] && (this[\"return\"] = void 0);\n}\nAsyncGenerator.prototype[\"function\" == typeof Symbol && Symbol.asyncIterator || \"@@asyncIterator\"] = function () {\n  return this;\n}, AsyncGenerator.prototype.next = function (e) {\n  return this._invoke(\"next\", e);\n}, AsyncGenerator.prototype[\"throw\"] = function (e) {\n  return this._invoke(\"throw\", e);\n}, AsyncGenerator.prototype[\"return\"] = function (e) {\n  return this._invoke(\"return\", e);\n};","var AddonExecutionStatus;\n(function (AddonExecutionStatus) {\n    AddonExecutionStatus[\"IN_PROGRESS\"] = \"in_progress\";\n    AddonExecutionStatus[\"ERROR\"] = \"error\";\n    AddonExecutionStatus[\"DONE\"] = \"done\";\n    AddonExecutionStatus[\"UNKNOWN\"] = \"unknown\";\n})(AddonExecutionStatus || (AddonExecutionStatus = {}));\n\nvar AddonName;\n(function (AddonName) {\n    AddonName[\"UC_CLAMAV_VIRUS_SCAN\"] = \"uc_clamav_virus_scan\";\n    AddonName[\"AWS_REKOGNITION_DETECT_LABELS\"] = \"aws_rekognition_detect_labels\";\n    AddonName[\"AWS_REKOGNITION_DETECT_MODERATION_LABELS\"] = \"aws_rekognition_detect_moderation_labels\";\n    AddonName[\"REMOVE_BG\"] = \"remove_bg\";\n})(AddonName || (AddonName = {}));\n\nvar BatchResponseStatus;\n(function (BatchResponseStatus) {\n    BatchResponseStatus[\"OK\"] = \"ok\";\n})(BatchResponseStatus || (BatchResponseStatus = {}));\n\nvar ConversionStatus;\n(function (ConversionStatus) {\n    ConversionStatus[\"PENDING\"] = \"pending\";\n    ConversionStatus[\"PROCESSING\"] = \"processing\";\n    ConversionStatus[\"FINISHED\"] = \"finished\";\n    ConversionStatus[\"FAILED\"] = \"failed\";\n    ConversionStatus[\"CANCELLED\"] = \"cancelled\";\n})(ConversionStatus || (ConversionStatus = {}));\n\nvar WebhookEvent;\n(function (WebhookEvent) {\n    WebhookEvent[\"FILE_UPLOADED\"] = \"file.uploaded\";\n})(WebhookEvent || (WebhookEvent = {}));\n\nfunction isObject(o) {\n    return Object.prototype.toString.call(o) === '[object Object]';\n}\n\nconst SEPARATOR = /\\W|_/g;\nfunction camelizeString(text) {\n    return text\n        .split(SEPARATOR)\n        .map((word, index) => word.charAt(0)[index > 0 ? 'toUpperCase' : 'toLowerCase']() +\n        word.slice(1))\n        .join('');\n}\nfunction camelizeArrayItems(array, { ignoreKeys } = { ignoreKeys: [] }) {\n    if (!Array.isArray(array)) {\n        return array;\n    }\n    return array.map((item) => camelizeKeys(item, { ignoreKeys }));\n}\nfunction camelizeKeys(source, { ignoreKeys } = { ignoreKeys: [] }) {\n    if (Array.isArray(source)) {\n        return camelizeArrayItems(source, { ignoreKeys });\n    }\n    if (!isObject(source)) {\n        return source;\n    }\n    const result = {};\n    for (const key of Object.keys(source)) {\n        let value = source[key];\n        if (ignoreKeys.includes(key)) {\n            result[key] = value;\n            continue;\n        }\n        if (isObject(value)) {\n            value = camelizeKeys(value, { ignoreKeys });\n        }\n        else if (Array.isArray(value)) {\n            value = camelizeArrayItems(value, { ignoreKeys });\n        }\n        result[camelizeString(key)] = value;\n    }\n    return result;\n}\n\n/**\n * SetTimeout as Promise.\n *\n * @param {number} ms Timeout in milliseconds.\n */\nconst delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\n\nfunction getUserAgent$1({ libraryName, libraryVersion, userAgent, publicKey = '', integration = '' }) {\n    const languageName = 'JavaScript';\n    if (typeof userAgent === 'string') {\n        return userAgent;\n    }\n    if (typeof userAgent === 'function') {\n        return userAgent({\n            publicKey,\n            libraryName,\n            libraryVersion,\n            languageName,\n            integration\n        });\n    }\n    const mainInfo = [libraryName, libraryVersion, publicKey]\n        .filter(Boolean)\n        .join('/');\n    const additionInfo = [languageName, integration].filter(Boolean).join('; ');\n    return `${mainInfo} (${additionInfo})`;\n}\n\nconst isNode = () => {\n    try {\n        return Object.prototype.toString.call(global.process) === '[object process]';\n    }\n    catch (e) {\n        return false;\n    }\n};\n\nconst defaultOptions = {\n    factor: 2,\n    time: 100\n};\nfunction retrier(fn, options = defaultOptions) {\n    let attempts = 0;\n    function runAttempt(fn) {\n        const defaultDelayTime = Math.round(options.time * options.factor ** attempts);\n        const retry = (ms) => delay(ms ?? defaultDelayTime).then(() => {\n            attempts += 1;\n            return runAttempt(fn);\n        });\n        return fn({\n            attempt: attempts,\n            retry\n        });\n    }\n    return runAttempt(fn);\n}\n\nclass UploadcareError extends Error {\n}\n\nconst onCancel = (signal, callback) => {\n    if (signal) {\n        if (signal.aborted) {\n            Promise.resolve().then(callback);\n        }\n        else {\n            signal.addEventListener('abort', () => callback(), { once: true });\n        }\n    }\n};\n\nclass CancelError extends UploadcareError {\n    isCancel = true;\n    constructor(message = 'Request canceled') {\n        super(message);\n        this.name = 'CancelError';\n        Object.setPrototypeOf(this, CancelError.prototype);\n    }\n}\n\nconst DEFAULT_INTERVAL = 500;\nconst poll = ({ check, interval = DEFAULT_INTERVAL, timeout, signal }) => new Promise((resolve, reject) => {\n    let tickTimeoutId;\n    let timeoutId;\n    onCancel(signal, () => {\n        tickTimeoutId && clearTimeout(tickTimeoutId);\n        reject(new CancelError('Poll cancelled'));\n    });\n    if (timeout) {\n        timeoutId = setTimeout(() => {\n            tickTimeoutId && clearTimeout(tickTimeoutId);\n            reject(new CancelError('Timed out'));\n        }, timeout);\n    }\n    const tick = () => {\n        try {\n            Promise.resolve(check(signal))\n                .then((result) => {\n                if (result) {\n                    timeoutId && clearTimeout(timeoutId);\n                    resolve(result);\n                }\n                else {\n                    tickTimeoutId = setTimeout(tick, interval);\n                }\n            })\n                .catch((error) => {\n                timeoutId && clearTimeout(timeoutId);\n                reject(error);\n            });\n        }\n        catch (error) {\n            timeoutId && clearTimeout(timeoutId);\n            reject(error);\n        }\n    };\n    tickTimeoutId = setTimeout(tick, 0);\n});\n\nvar ConversionType;\n(function (ConversionType) {\n    ConversionType[\"VIDEO\"] = \"video\";\n    ConversionType[\"DOCUMENT\"] = \"document\";\n})(ConversionType || (ConversionType = {}));\n\nconst DEFAULT_MESSAGE = 'Unknown error';\n/**\n * TODO: it's better to split errors into something like Runtime error and\n * ServerError (RestApiError)\n */\nclass RestClientError extends UploadcareError {\n    status;\n    statusText;\n    request;\n    response;\n    constructor(message, options = {}) {\n        super();\n        this.name = 'RestClientError';\n        this.request = options.request;\n        this.response = options.response;\n        this.status = options.response?.status;\n        this.statusText = options.response?.statusText;\n        const msg = message ?? this.statusText ?? DEFAULT_MESSAGE;\n        const status = this.status || this.statusText\n            ? `[${[this.status, msg === this.statusText ? '' : this.statusText]\n                .filter(Boolean)\n                .join(' ')}] `\n            : '';\n        this.message = status + msg;\n        Object.setPrototypeOf(this, RestClientError.prototype);\n    }\n}\n\nfunction constructPageOptions(pageUrl, options) {\n    const url = new URL(pageUrl);\n    const searchParams = Object.fromEntries(url.searchParams);\n    const pageOptions = {\n        ...options,\n        ...searchParams\n    };\n    return pageOptions;\n}\nclass Paginator {\n    _paginatable;\n    _options;\n    _settings;\n    _page = null;\n    constructor(paginatable, options, settings) {\n        this._paginatable = paginatable;\n        this._options = options;\n        this._settings = settings;\n    }\n    updateOptions(options) {\n        this._options = {\n            ...this._options,\n            ...options\n        };\n        this._page = null;\n    }\n    hasNextPage() {\n        return !this._page || !!this._page.next;\n    }\n    hasPrevPage() {\n        return !!this._page && !!this._page.previous;\n    }\n    getCurrentPage() {\n        return this._page;\n    }\n    async next() {\n        if (!this._page) {\n            this._page = await this._paginatable(this._options, this._settings);\n            return this._page;\n        }\n        if (!this._page.next) {\n            return null;\n        }\n        const pageOptions = constructPageOptions(this._page.next, this._options);\n        this._page = await this._paginatable(pageOptions, this._settings);\n        return this._page;\n    }\n    async prev() {\n        if (!this._page || !this._page.previous) {\n            return null;\n        }\n        const pageOptions = constructPageOptions(this._page.previous, this._options);\n        this._page = await this._paginatable(pageOptions, this._settings);\n        return this._page;\n    }\n    generator() {\n        return paginate(this._paginatable)(this._options, this._settings);\n    }\n}\nfunction paginate(paginatable) {\n    return async function* (options, settings) {\n        let page = await paginatable(options, settings);\n        yield page;\n        while (page.next) {\n            const pageOptions = constructPageOptions(page.next, options);\n            page = await paginatable(pageOptions, settings);\n            yield page;\n        }\n    };\n}\n\nconst fetch = window.fetch;\nconst Headers = window.Headers;\nconst Request = window.Request;\n\nconst defaultSettings = {\n    apiBaseURL: 'https://api.uploadcare.com/',\n    retryThrottledRequestMaxTimes: 5,\n    retryNetworkErrorMaxTimes: 3\n};\nconst applyDefaultSettings = (userSettings) => {\n    const settings = {\n        ...defaultSettings,\n        ...userSettings\n    };\n    return settings;\n};\n\nvar version = '6.14.1';\n\nconst LIBRARY_NAME = 'UploadcareRestClient';\nconst LIBRARY_VERSION = version;\nfunction getUserAgent(options) {\n    return getUserAgent$1({\n        libraryName: LIBRARY_NAME,\n        libraryVersion: LIBRARY_VERSION,\n        ...options\n    });\n}\n\nconst THROTTLED_STATUS = 429;\nconst DEFAULT_RETRY_AFTER_TIMEOUT = 15000;\nconst DEFAULT_NETWORK_ERROR_TIMEOUT = 1000;\nfunction getTimeoutFromThrottledRequest(response) {\n    const { headers } = response;\n    if (!headers || !headers.get('retry-after')) {\n        return DEFAULT_RETRY_AFTER_TIMEOUT;\n    }\n    const seconds = parseInt(headers.get('retry-after'), 10);\n    if (!Number.isFinite(seconds)) {\n        return DEFAULT_RETRY_AFTER_TIMEOUT;\n    }\n    return seconds * 1000;\n}\nfunction retryIfFailed(fn, options) {\n    return retrier(({ attempt, retry }) => fn()\n        .then(async (response) => {\n        if (response.status !== THROTTLED_STATUS) {\n            return response;\n        }\n        if (attempt < options.retryThrottledRequestMaxTimes) {\n            return retry(getTimeoutFromThrottledRequest(response));\n        }\n        const json = await response.json();\n        const { detail } = json;\n        throw new RestClientError(detail, { response });\n    })\n        .catch((error) => {\n        if (attempt < options.retryNetworkErrorMaxTimes) {\n            return retry((attempt + 1) * DEFAULT_NETWORK_ERROR_TIMEOUT);\n        }\n        throw error;\n    }));\n}\n\nfunction normalizeQuery(input) {\n    const output = {};\n    for (const [key, value] of Object.entries(input)) {\n        if (value === undefined || value === null) {\n            continue;\n        }\n        if (value instanceof Date) {\n            output[key] = value.toISOString();\n        }\n        else {\n            output[key] = value.toString();\n        }\n    }\n    return output;\n}\nfunction getRequestURL(path, query, apiBaseURL) {\n    const url = new URL(apiBaseURL);\n    const searchParams = new URLSearchParams(query && normalizeQuery(query));\n    url.pathname = path;\n    url.search = searchParams.toString();\n    return url.toString();\n}\nasync function makeApiRequest(options, userSettings) {\n    const { method, path, query, body } = options;\n    const settings = applyDefaultSettings(userSettings);\n    if (!settings.authSchema) {\n        throw new RestClientError('authSchema is required');\n    }\n    const url = getRequestURL(path, query, settings.apiBaseURL);\n    const requestBody = body && JSON.stringify(body);\n    const unsignedRequest = new Request(url, {\n        method: method,\n        body: requestBody,\n        headers: new Headers({\n            'Content-Type': 'application/json',\n            'User-Agent': getUserAgent({\n                publicKey: settings.authSchema.publicKey,\n                integration: settings.integration,\n                userAgent: settings.userAgent\n            })\n        })\n    });\n    const requestHeaders = await settings.authSchema.getHeaders(unsignedRequest);\n    const signedRequest = new Request(url, {\n        method: method,\n        body: requestBody,\n        headers: requestHeaders\n    });\n    const response = await retryIfFailed(() => fetch(signedRequest), {\n        retryThrottledRequestMaxTimes: settings.retryThrottledRequestMaxTimes,\n        retryNetworkErrorMaxTimes: settings.retryNetworkErrorMaxTimes\n    });\n    return {\n        request: signedRequest,\n        response\n    };\n}\n\nconst DEFAULT_API_VERSION = '0.7';\nconst getAcceptHeader = () => {\n    return `application/vnd.uploadcare-v${DEFAULT_API_VERSION}+json`;\n};\n\nconst CAMELIZE_IGNORE_KEYS = ['metadata', 'problems', 'appdata'];\nconst NO_CONTENT_STATUS = 204;\nconst isJsonContentType = (type) => type && ['application/json', getAcceptHeader()].includes(type);\nasync function handleApiRequest(options) {\n    const { apiRequest, okCodes, camelize = true } = options;\n    const { request, response } = apiRequest;\n    if (response.status === NO_CONTENT_STATUS) {\n        return undefined;\n    }\n    if (!isJsonContentType(response.headers.get('content-type'))) {\n        throw new RestClientError(undefined, {\n            response,\n            request\n        });\n    }\n    const json = await response.json();\n    if (!okCodes.includes(response.status)) {\n        throw new RestClientError(json.detail, {\n            response,\n            request\n        });\n    }\n    if (!camelize) {\n        return json;\n    }\n    return camelizeKeys(json, {\n        ignoreKeys: CAMELIZE_IGNORE_KEYS\n    });\n}\n\nasync function addonExecutionStatus(options, userSettings) {\n    const apiRequest = await makeApiRequest({\n        method: 'GET',\n        path: `/addons/${options.addonName}/execute/status/`,\n        query: {\n            request_id: options.requestId\n        }\n    }, userSettings);\n    return handleApiRequest({ apiRequest, okCodes: [200] });\n}\n\nasync function executeAddon(options, userSettings) {\n    const apiRequest = await makeApiRequest({\n        method: 'POST',\n        path: `/addons/${options.addonName}/execute/`,\n        body: {\n            target: options.target,\n            params: options.params\n        }\n    }, userSettings);\n    return handleApiRequest({ apiRequest, okCodes: [200] });\n}\n\nasync function fileInfo(options, userSettings) {\n    const apiRequest = await makeApiRequest({\n        method: 'GET',\n        path: `/files/${options.uuid}/`,\n        query: {\n            include: options.include\n        }\n    }, userSettings);\n    return handleApiRequest({ apiRequest, okCodes: [200] });\n}\n\nvar PollStrategyJobStatus;\n(function (PollStrategyJobStatus) {\n    PollStrategyJobStatus[PollStrategyJobStatus[\"FINISHED\"] = 0] = \"FINISHED\";\n    PollStrategyJobStatus[PollStrategyJobStatus[\"FAILED\"] = 1] = \"FAILED\";\n})(PollStrategyJobStatus || (PollStrategyJobStatus = {}));\nfunction createPollStrategy({ getJobStatus, job, isJobFailed, isJobFinished }) {\n    return async () => {\n        const statusResponse = await getJobStatus(job);\n        if (isJobFinished(statusResponse)) {\n            return { status: PollStrategyJobStatus.FINISHED, statusResponse };\n        }\n        else if (isJobFailed(statusResponse)) {\n            return { status: PollStrategyJobStatus.FAILED, statusResponse };\n        }\n        return false;\n    };\n}\nfunction createJobPoller(options) {\n    const { runner, resolveJobs, getJobStatus, isJobFinished, isJobFailed, getResult, getError } = options;\n    return async (options, runnerSettings) => {\n        // TODO: add default timeout and inerval\n        const { pollOptions, ...runnerOptions } = options;\n        const response = await runner(runnerOptions, runnerSettings);\n        const jobs = resolveJobs(response, runnerOptions, runnerSettings);\n        if (pollOptions?.signal?.aborted) {\n            throw new CancelError();\n        }\n        const promises = jobs.map(async (job) => {\n            const pollStrategy = createPollStrategy({\n                getJobStatus,\n                job,\n                isJobFailed,\n                isJobFinished\n            });\n            const pollResult = await poll({\n                check: pollStrategy,\n                signal: pollOptions?.signal,\n                interval: pollOptions?.interval,\n                timeout: pollOptions?.timeout\n            });\n            if (pollResult.status === PollStrategyJobStatus.FINISHED) {\n                const result = await getResult(job, pollResult.statusResponse);\n                return result;\n            }\n            const error = await getError(job, pollResult.statusResponse);\n            return error;\n        });\n        return promises;\n    };\n}\n\nconst addonJobPoller = async (options, settings) => {\n    const { onRun, onStatus, ...pollerOptions } = options;\n    const poller = createJobPoller({\n        runner: executeAddon,\n        resolveJobs: (response, runnerOptions, runnerSettings) => {\n            onRun && onRun(response);\n            return [\n                {\n                    target: runnerOptions.target,\n                    requestId: response.requestId,\n                    addonName: runnerOptions.addonName,\n                    runnerSettings\n                }\n            ];\n        },\n        getJobStatus: async (job) => {\n            const response = await addonExecutionStatus({\n                addonName: job.addonName,\n                requestId: job.requestId\n            }, job.runnerSettings);\n            onStatus && onStatus(response);\n            return response;\n        },\n        isJobFinished: (statusResponse) => statusResponse.status === AddonExecutionStatus.DONE,\n        // TODO: handle unknown status\n        isJobFailed: (statusResponse) => statusResponse.status === AddonExecutionStatus.ERROR,\n        getResult: async (job) => {\n            const info = await fileInfo({ uuid: job.target, include: 'appdata' }, job.runnerSettings);\n            const appdata = info.appdata;\n            const addonData = appdata[job.addonName];\n            return {\n                error: false,\n                result: addonData\n            };\n        },\n        getError: async () => ({\n            error: true,\n            result: null\n        })\n    });\n    const promises = await poller(pollerOptions, settings);\n    return promises[0];\n};\n\nasync function conversionJobStatus(options, userSettings) {\n    const apiRequest = await makeApiRequest({\n        method: 'GET',\n        path: `/convert/${options.type}/status/${options.token}/`\n    }, userSettings);\n    return handleApiRequest({ apiRequest, okCodes: [200] });\n}\n\nconst storeValueToString = (store) => {\n    if (typeof store === 'boolean') {\n        return store ? 'true' : 'false';\n    }\n    if (!store || store === 'auto') {\n        return undefined;\n    }\n    throw new RestClientError('Invalid `store` option value. Expected `true`, `false` our `\"auto\"`');\n};\n\nasync function convert(options, userSettings) {\n    const isDocument = options.type === ConversionType.DOCUMENT;\n    const body = {\n        paths: options.paths,\n        store: storeValueToString(options.store)\n    };\n    if (isDocument) {\n        body['save_in_group'] = options?.saveInGroup?.toString();\n    }\n    const apiRequest = await makeApiRequest({\n        method: 'POST',\n        path: `/convert/${options.type}/`,\n        body\n    }, userSettings);\n    return handleApiRequest({ apiRequest, okCodes: [200] });\n}\n\nconst conversionJobPoller = (options, settings) => {\n    const { onRun, onStatus, ...rest } = options;\n    const pollerOptions = rest;\n    const poller = createJobPoller({\n        runner: (convert),\n        resolveJobs: (response, runnerOptions, runnerSettings) => {\n            onRun && onRun(response);\n            return runnerOptions.paths.map((path) => {\n                const problem = response.problems[path];\n                if (problem) {\n                    return {\n                        hasProblem: true,\n                        type: runnerOptions.type,\n                        path,\n                        problem,\n                        runnerSettings\n                    };\n                }\n                const result = response.result.find((r) => r.originalSource === path);\n                return {\n                    hasProblem: false,\n                    type: runnerOptions.type,\n                    path,\n                    token: result.token,\n                    result,\n                    runnerSettings\n                };\n            });\n        },\n        getJobStatus: async (job) => {\n            let status;\n            if (job.hasProblem) {\n                status = {\n                    path: job.path,\n                    status: ConversionStatus.FAILED,\n                    error: job.problem,\n                    result: null\n                };\n            }\n            else {\n                const statusResponse = await conversionJobStatus({ type: job.type, token: job.token }, job.runnerSettings);\n                status = {\n                    path: job.path,\n                    ...statusResponse\n                };\n            }\n            onStatus && onStatus(status);\n            return status;\n        },\n        isJobFinished: (statusResponse) => statusResponse.status === ConversionStatus.FINISHED,\n        isJobFailed: (statusResponse) => statusResponse.status === ConversionStatus.FAILED ||\n            statusResponse.status === ConversionStatus.CANCELLED,\n        getResult: async (job, statusResponse) => statusResponse,\n        getError: async (job, statusResponse) => statusResponse\n    });\n    return poller(pollerOptions, settings);\n};\n\nconst createSignature = (...args) => {\n    return import('./createSignature.browser.b4bcb7f3.mjs').then((m) => m.createSignature(...args));\n};\n\nfunction hasSignatureResolver(options) {\n    return !!options\n        .signatureResolver;\n}\nfunction hasSecretKey(options) {\n    return !!options.secretKey;\n}\nclass UploadcareAuthSchema {\n    _publicKey;\n    _signatureResolver;\n    _md5Loader;\n    constructor(options) {\n        if (hasSecretKey(options)) {\n            if (!isNode()) {\n                console.warn(`Seems that you're using the secret key on the client-side. We're hope you know what you're doing.`);\n            }\n            this._signatureResolver = (signString) => createSignature(options.secretKey, signString);\n        }\n        else if (hasSignatureResolver(options)) {\n            this._signatureResolver = options.signatureResolver;\n        }\n        else {\n            throw new RestClientError(`Please, provide either 'secretKey' or 'signatureResolver'`);\n        }\n        const { publicKey, md5Loader } = options;\n        this._publicKey = publicKey;\n        if (md5Loader) {\n            this._md5Loader = md5Loader();\n        }\n        else {\n            this._md5Loader = import('./md5.browser.c389165d.mjs').then((m) => m.md5);\n        }\n    }\n    async md5(input) {\n        const md5 = await this._md5Loader;\n        return md5(input);\n    }\n    getSignString(params) {\n        return [\n            params.method,\n            params.contentHash,\n            params.contentType,\n            params.date,\n            params.uri\n        ].join('\\n');\n    }\n    get publicKey() {\n        return this._publicKey;\n    }\n    async getHeaders(request) {\n        const body = await request.text();\n        const contentHash = await this.md5(body || '');\n        const date = new Date().toUTCString();\n        const url = new URL(request.url);\n        const uri = url.pathname + url.search + url.hash;\n        const signString = this.getSignString({\n            contentType: request.headers.get('Content-Type') || '',\n            method: request.method,\n            contentHash,\n            date,\n            uri\n        });\n        const signature = await this._signatureResolver(signString);\n        const headers = new Headers({\n            ...Object.fromEntries(request.headers.entries()),\n            'X-Uploadcare-Date': date,\n            Accept: getAcceptHeader(),\n            Authorization: `Uploadcare ${this._publicKey}:${signature}`\n        });\n        return headers;\n    }\n}\n\nclass UploadcareSimpleAuthSchema {\n    _publicKey;\n    _secretKey;\n    constructor({ publicKey, secretKey }) {\n        this._publicKey = publicKey;\n        this._secretKey = secretKey;\n        if (secretKey && !isNode()) {\n            console.warn(`Seems that you're using the secret key on the client-side. We're hope you know that you're doing.`);\n        }\n    }\n    get publicKey() {\n        return this._publicKey;\n    }\n    async getHeaders(request) {\n        return new Headers({\n            ...Object.fromEntries(request.headers.entries()),\n            Accept: getAcceptHeader(),\n            Authorization: `Uploadcare.Simple ${this._publicKey}:${this._secretKey}`\n        });\n    }\n}\n\nasync function copyFileToLocalStorage(options, userSettings) {\n    const apiRequest = await makeApiRequest({\n        method: 'POST',\n        path: `/files/local_copy/`,\n        body: {\n            source: options.source,\n            store: options.store,\n            metadata: options.metadata\n        }\n    }, userSettings);\n    return handleApiRequest({ apiRequest, okCodes: [201] });\n}\n\nasync function copyFileToRemoteStorage(options, userSettings) {\n    const apiRequest = await makeApiRequest({\n        method: 'POST',\n        path: `/files/remote_copy/`,\n        body: {\n            source: options.source,\n            target: options.target,\n            make_public: options.makePublic,\n            pattern: options.pattern\n        }\n    }, userSettings);\n    return handleApiRequest({ apiRequest, okCodes: [200, 201] });\n}\n\nasync function deleteFile(options, userSettings) {\n    const apiRequest = await makeApiRequest({\n        method: 'DELETE',\n        path: `/files/${options.uuid}/storage/`\n    }, userSettings);\n    return handleApiRequest({ apiRequest, okCodes: [200] });\n}\n\nasync function deleteFiles(options, userSettings) {\n    const apiRequest = await makeApiRequest({\n        method: 'DELETE',\n        path: `/files/storage/`,\n        body: options.uuids\n    }, userSettings);\n    return handleApiRequest({ apiRequest, okCodes: [200] });\n}\n\nasync function listOfFiles(options, userSettings) {\n    const apiRequest = await makeApiRequest({\n        method: 'GET',\n        path: '/files/',\n        query: {\n            from: options.from,\n            removed: options.removed,\n            stored: options.stored,\n            limit: options.limit,\n            ordering: options.ordering\n        }\n    }, userSettings);\n    return handleApiRequest({ apiRequest, okCodes: [200] });\n}\n\nasync function storeFile(options, userSettings) {\n    const apiRequest = await makeApiRequest({\n        method: 'PUT',\n        path: `/files/${options.uuid}/storage/`\n    }, userSettings);\n    return handleApiRequest({ apiRequest, okCodes: [200] });\n}\n\nasync function storeFiles(options, userSettings) {\n    const apiRequest = await makeApiRequest({\n        method: 'PUT',\n        path: `/files/storage/`,\n        body: options.uuids\n    }, userSettings);\n    return handleApiRequest({ apiRequest, okCodes: [200] });\n}\n\nasync function deleteGroup(options, userSettings) {\n    const apiRequest = await makeApiRequest({\n        method: 'DELETE',\n        path: `/groups/${options.uuid}/`\n    }, userSettings);\n    return handleApiRequest({ apiRequest, okCodes: [204] });\n}\n\nasync function groupInfo(options, userSettings) {\n    const apiRequest = await makeApiRequest({\n        method: 'GET',\n        path: `/groups/${options.uuid}/`\n    }, userSettings);\n    return handleApiRequest({ apiRequest, okCodes: [200] });\n}\n\nasync function listOfGroups(options, userSettings) {\n    const apiRequest = await makeApiRequest({\n        method: 'GET',\n        path: '/groups/',\n        query: {\n            from: options.from,\n            limit: options.limit,\n            ordering: options.ordering\n        }\n    }, userSettings);\n    return handleApiRequest({ apiRequest, okCodes: [200] });\n}\n\nasync function deleteMetadata(options, userSettings) {\n    const apiRequest = await makeApiRequest({\n        method: 'DELETE',\n        path: `/files/${options.uuid}/metadata/${options.key}/`\n    }, userSettings);\n    return handleApiRequest({ apiRequest, okCodes: [204] });\n}\n\nasync function getMetadata(options, userSettings) {\n    const apiRequest = await makeApiRequest({\n        method: 'GET',\n        path: `/files/${options.uuid}/metadata/`\n    }, userSettings);\n    return handleApiRequest({ apiRequest, okCodes: [200], camelize: false });\n}\n\nasync function getMetadataValue(options, userSettings) {\n    const apiRequest = await makeApiRequest({\n        method: 'GET',\n        path: `/files/${options.uuid}/metadata/${options.key}/`\n    }, userSettings);\n    return handleApiRequest({ apiRequest, okCodes: [200] });\n}\n\nasync function updateMetadata(options, userSettings) {\n    const apiRequest = await makeApiRequest({\n        method: 'PUT',\n        path: `/files/${options.uuid}/metadata/${options.key}/`,\n        body: options.value\n    }, userSettings);\n    return handleApiRequest({ apiRequest, okCodes: [200, 201] });\n}\n\nasync function createWebhook(options, userSettings) {\n    const apiRequest = await makeApiRequest({\n        method: 'POST',\n        path: `/webhooks/`,\n        body: {\n            target_url: options.targetUrl,\n            event: options.event,\n            is_active: options.isActive,\n            signing_secret: options.signingSecret\n        }\n    }, userSettings);\n    return handleApiRequest({ apiRequest, okCodes: [201] });\n}\n\nasync function deleteWebhook(options, userSettings) {\n    const apiRequest = await makeApiRequest({\n        method: 'DELETE',\n        path: `/webhooks/unsubscribe/`,\n        body: {\n            target_url: options.targetUrl\n        }\n    }, userSettings);\n    return handleApiRequest({ apiRequest, okCodes: [204] });\n}\n\nasync function listOfWebhooks(options, userSettings) {\n    const apiRequest = await makeApiRequest({\n        method: 'GET',\n        path: `/webhooks/`\n    }, userSettings);\n    return handleApiRequest({ apiRequest, okCodes: [200] });\n}\n\nasync function updateWebhook(options, userSettings) {\n    const apiRequest = await makeApiRequest({\n        method: 'PUT',\n        path: `/webhooks/${options.id}/`,\n        body: {\n            target_url: options.targetUrl,\n            event: options.event,\n            is_active: options.isActive,\n            signing_secret: options.signingSecret\n        }\n    }, userSettings);\n    return handleApiRequest({ apiRequest, okCodes: [200] });\n}\n\nasync function conversionInfo(options, userSettings) {\n    const apiRequest = await makeApiRequest({\n        method: 'GET',\n        path: `/convert/document/${options.uuid}/`\n    }, userSettings);\n    return handleApiRequest({ apiRequest, okCodes: [200] });\n}\n\nexport { AddonExecutionStatus, AddonName, BatchResponseStatus, CancelError, ConversionStatus, ConversionType, Paginator, RestClientError, UploadcareAuthSchema, UploadcareError, UploadcareSimpleAuthSchema, WebhookEvent, addonExecutionStatus, addonJobPoller, conversionInfo, conversionJobPoller, conversionJobStatus, convert, copyFileToLocalStorage, copyFileToRemoteStorage, createSignature, createWebhook, deleteFile, deleteFiles, deleteGroup, deleteMetadata, deleteWebhook, executeAddon, fileInfo, getMetadata, getMetadataValue, getUserAgent$1 as getUserAgent, groupInfo, listOfFiles, listOfGroups, listOfWebhooks, paginate, storeFile, storeFiles, updateMetadata, updateWebhook };\n"],"names":["_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","default","jsx","d","Object","defineProperty","value","enumerable","get","_utils","createSvgIcon","_excluded","generateUtilityClasses","defaultTheme","createTheme","Box","options","arguments","length","undefined","themeId","_options$defaultClass","defaultClassName","generateClassName","BoxRoot","styled","shouldForwardProp","prop","styleFunctionSx","React","inProps","ref","theme","useTheme","_extendSxProp","extendSxProp","className","_extendSxProp$compone","component","other","_objectWithoutPropertiesLoose","_jsx","_extends","as","clsx","createBox","THEME_ID","boxClasses","ClassNameGenerator","getButtonUtilityClass","slot","generateUtilityClass","commonIconStyles","ownerState","size","fontSize","ButtonRoot","ButtonBase","rootShouldForwardProp","name","overridesResolver","props","styles","root","variant","concat","capitalize","color","colorInherit","disableElevation","fullWidth","_ref","_extends2","_theme$palette$getCon","_theme$palette","inheritContainedBackgroundColor","palette","mode","grey","inheritContainedHoverBackgroundColor","A100","typography","button","minWidth","padding","borderRadius","vars","shape","transition","transitions","create","duration","short","textDecoration","backgroundColor","text","primaryChannel","action","hoverOpacity","alpha","primary","mainChannel","main","border","Button","inheritContainedHoverBg","boxShadow","shadows","dark","_defineProperty","buttonClasses","disabled","disabledBackground","getContrastText","call","inheritContainedBg","contrastText","borderColor","pxToRem","width","_ref2","_ref3","ButtonStartIcon","startIcon","_ref4","display","marginRight","marginLeft","ButtonEndIcon","endIcon","_ref5","contextProps","ButtonGroupContext","buttonGroupButtonContextPositionClassName","ButtonGroupButtonContext","resolvedProps","resolveProps","useThemeProps","children","_props$color","_props$component","_props$disabled","_props$disableElevati","_props$disableFocusRi","disableFocusRipple","endIconProp","focusVisibleClassName","_props$fullWidth","_props$size","startIconProp","type","_props$variant","classes","slots","label","composedClasses","composeClasses","useUtilityClasses","positionClassName","_jsxs","focusRipple","focusVisible","getChildMapping","mapFn","result","Children","c","forEach","child","key","isValidElement","mapper","getProp","getNextChildMapping","nextProps","prevChildMapping","onExited","nextChildMapping","prev","next","getValueForKey","i","nextKeysPending","pendingKeys","prevKey","push","childMapping","nextKey","pendingNextKey","mergeChildMappings","keys","hasPrev","hasNext","prevChild","isLeaving","in","cloneElement","bind","exit","enter","values","obj","map","k","TransitionGroup","_React$Component","subClass","superClass","context","_this","handleExited","this","_assertThisInitialized","state","contextValue","isMounting","firstRender","prototype","constructor","setPrototypeOf","_proto","componentDidMount","mounted","setState","componentWillUnmount","getDerivedStateFromProps","appear","node","currentChildMapping","render","_this$props","Component","childFactory","TransitionGroupContext","Provider","propTypes","defaultProps","_props$pulsate","pulsate","rippleX","rippleY","rippleSize","inProp","timeout","_React$useState","_React$useState2","_slicedToArray","leaving","setLeaving","rippleClassName","ripple","rippleVisible","ripplePulsate","rippleStyles","height","top","left","childClassName","childLeaving","childPulsate","timeoutId","setTimeout","clearTimeout","style","_templateObject","_templateObject2","_templateObject3","_templateObject4","_t","_t2","_t3","_t4","enterKeyframe","keyframes","_taggedTemplateLiteral","exitKeyframe","pulsateKeyframe","TouchRippleRoot","overflow","pointerEvents","position","zIndex","right","bottom","TouchRippleRipple","Ripple","touchRippleClasses","easing","easeInOut","shorter","TouchRipple","_props$center","center","centerProp","_props$classes","ripples","setRipples","rippleCallback","current","ignoringMouseDown","startTimer","useTimeout","startTimerCommit","container","startCommit","params","cb","oldRipples","_toConsumableArray","start","event","_options$pulsate","_options$center","_options$fakeElement","fakeElement","element","rect","getBoundingClientRect","clientX","clientY","touches","Math","round","sqrt","pow","sizeX","max","abs","clientWidth","sizeY","clientHeight","stop","clear","slice","getButtonBaseUtilityClass","_styled","ButtonBaseRoot","alignItems","justifyContent","boxSizing","WebkitTapHighlightColor","outline","margin","cursor","userSelect","verticalAlign","MozAppearance","WebkitAppearance","borderStyle","buttonBaseClasses","colorAdjust","_props$centerRipple","centerRipple","_props$disableRipple","disableRipple","_props$disableTouchRi","disableTouchRipple","_props$focusRipple","_props$LinkComponent","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","_props$tabIndex","tabIndex","TouchRippleProps","touchRippleRef","buttonRef","rippleRef","handleRippleRef","useForkRef","_useIsFocusVisible","useIsFocusVisible","isFocusVisibleRef","handleFocusVisible","handleBlurVisible","focusVisibleRef","setFocusVisible","focus","_React$useState3","_React$useState4","mountedState","setMountedState","enableTouchRipple","useRippleHandler","rippleAction","eventCallback","skipRippleAction","useEventCallback","handleMouseDown","handleContextMenu","handleDragLeave","handleMouseUp","handleMouseLeave","preventDefault","handleTouchStart","handleTouchEnd","handleTouchMove","handleBlur","handleFocus","currentTarget","isNonNativeButton","tagName","href","keydownRef","handleKeyDown","target","handleKeyUp","defaultPrevented","ComponentProp","to","buttonProps","role","handleRef","getTabUtilityClass","TabRoot","icon","labelIcon","textColor","wrapped","maxWidth","minHeight","flexShrink","whiteSpace","textAlign","flexDirection","iconPosition","lineHeight","paddingTop","paddingBottom","tabClasses","marginBottom","marginTop","spacing","opacity","disabledOpacity","secondary","flexGrow","flexBasis","iconProp","_props$iconPosition","indicator","onChange","selected","selectionFollowsFocus","_props$textColor","_props$wrapped","iconWrapper","RtlContext","useRtl","cachedType","detectScrollType","dummy","document","createElement","appendChild","dir","body","scrollLeft","removeChild","getNormalizedScrollLeft","direction","scrollWidth","easeInOutSin","time","sin","PI","animate","property","_options$ease","ease","_options$duration","from","cancelled","cancel","step","timestamp","Error","min","requestAnimationFrame","getTabScrollButtonUtilityClass","TabScrollButtonRoot","orientation","tabScrollButtonClasses","transform","isRtl","_slots$StartScrollBut","_slots$EndScrollButto","_props$slots","_props$slotProps","slotProps","StartButtonIcon","StartScrollButtonIcon","KeyboardArrowLeft","EndButtonIcon","EndScrollButtonIcon","KeyboardArrowRight","startButtonIconProps","useSlotProps","elementType","externalSlotProps","startScrollButtonIcon","additionalProps","endButtonIconProps","endScrollButtonIcon","getTabsUtilityClass","nextItem","list","item","firstChild","nextElementSibling","previousItem","lastChild","previousElementSibling","moveFocus","currentFocus","traversalFunction","wrappedOnce","nextFocus","nextFocusDisabled","getAttribute","hasAttribute","TabsRoot","tabsClasses","scrollButtons","scrollButtonsHideMobile","vertical","WebkitOverflowScrolling","breakpoints","down","TabsScroller","scroller","fixed","hideScrollbar","scrollableX","scrollableY","flex","overflowX","scrollbarWidth","overflowY","FlexContainer","flexContainer","flexContainerVertical","centered","_ref6","TabsIndicator","_ref7","indicatorColor","TabsScrollbarSize","scrollbarHeight","nodeRef","setMeasurements","offsetHeight","useEnhancedEffect","handleResize","debounce","prevHeight","containerWindow","ownerWindow","addEventListener","removeEventListener","defaultIndicatorStyle","Tabs","useThemeSystem","ariaLabel","ariaLabelledBy","_props$centered","childrenProp","_props$allowScrollBut","allowScrollButtonsMobile","_props$indicatorColor","_props$orientation","_props$ScrollButtonCo","ScrollButtonComponent","TabScrollButton","_props$scrollButtons","_props$TabIndicatorPr","TabIndicatorProps","_props$TabScrollButto","TabScrollButtonProps","_props$visibleScrollb","visibleScrollbar","scrollable","scrollStart","end","clientSize","startScrollButtonIconProps","endScrollButtonIconProps","setMounted","indicatorStyle","setIndicatorStyle","_React$useState5","_React$useState6","displayStartScroll","setDisplayStartScroll","_React$useState7","_React$useState8","displayEndScroll","setDisplayEndScroll","_React$useState9","_React$useState10","updateScrollObserver","setUpdateScrollObserver","_React$useState11","_React$useState12","scrollerStyle","setScrollerStyle","valueToIndex","Map","tabsRef","tabListRef","getTabsMeta","tabsMeta","tabMeta","tabsNode","scrollTop","scrollLeftNormalized","tab","process","updateIndicatorState","_newIndicatorStyle","startIndicator","_getTabsMeta","startValue","correction","newIndicatorStyle","isNaN","dStart","dSize","scroll","scrollValue","_ref8","_ref8$animation","animation","standard","moveTabsScroll","delta","getScrollSize","containerSize","totalSize","Array","handleStartScrollClick","handleEndScrollClick","handleScrollbarSizeChange","scrollSelectedIntoView","_getTabsMeta2","nextScrollStart","updateScrollButtonState","resizeObserver","mutationObserver","win","ResizeObserver","observe","MutationObserver","records","record","removedNodes","_resizeObserver","unobserve","addedNodes","_resizeObserver2","childList","_mutationObserver","_resizeObserver3","disconnect","tabListChildren","IntersectionObserver","firstTab","lastTab","observerOptions","threshold","firstObserver","entries","isIntersecting","lastObserver","updateIndicator","updateScrollButtons","childIndex","childValue","set","conditionalElements","scrollbarSizeListener","showScrollButtons","scrollButtonStart","scrollButtonEnd","getConditionalElements","ownerDocument","activeElement","previousItemKey","nextItemKey","u","b","Symbol","for","e","f","g","h","l","m","n","p","q","t","v","a","r","$$typeof","module","createMixins","mixins","_toolbar","toolbar","up","black","white","A200","A400","A700","light","divider","background","paper","common","active","hover","selectedOpacity","focusOpacity","activatedOpacity","addLightOrDark","intent","shade","tonalOffset","tonalOffsetLight","tonalOffsetDark","hasOwnProperty","lighten","darken","createPalette","_palette$mode","_palette$contrastThre","contrastThreshold","_palette$tonalOffset","blue","getDefaultPrimary","purple","getDefaultSecondary","error","red","getDefaultError","info","lightBlue","getDefaultInfo","success","green","getDefaultSuccess","warning","orange","getDefaultWarning","getContrastRatio","augmentColor","_ref$mainShade","mainShade","_ref$lightShade","lightShade","_ref$darkShade","darkShade","_formatMuiErrorMessage","JSON","stringify","modes","deepmerge","caseAllCaps","textTransform","defaultFontFamily","createTypography","_ref$fontFamily","fontFamily","_ref$fontSize","_ref$fontWeightLight","fontWeightLight","_ref$fontWeightRegula","fontWeightRegular","_ref$fontWeightMedium","fontWeightMedium","_ref$fontWeightBold","fontWeightBold","_ref$htmlFontSize","htmlFontSize","allVariants","pxToRem2","coef","buildVariant","fontWeight","letterSpacing","casing","variants","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","caption","overline","inherit","clone","createShadow","join","easeOut","easeIn","sharp","shortest","complex","enteringScreen","leavingScreen","formatMs","milliseconds","getAutoHeightDuration","constant","createTransitions","inputTransitions","mergedEasing","mergedDuration","durationOption","_options$easing","easingOption","_options$delay","delay","isArray","animatedProp","mobileStepper","fab","speedDial","appBar","drawer","modal","snackbar","tooltip","_options$mixins","mixinsInput","_options$palette","paletteInput","_options$transitions","transitionsInput","_options$typography","typographyInput","systemTheme","systemCreateTheme","muiTheme","_len","args","_key","reduce","acc","argument","unstable_sxConfig","defaultSxConfig","unstable_sx","sx","slotShouldForwardProp","createStyled","mergedProps","components","getThemeProps","systemUseThemeProps","getSvgIconUtilityClass","SvgIconRoot","_theme$transitions","_theme$transitions$cr","_theme$transitions2","_theme$typography","_theme$typography$pxT","_theme$typography2","_theme$typography2$px","_theme$typography3","_theme$typography3$px","_palette$ownerState$c","_palette","_palette2","_palette3","fill","hasSvgAsChild","small","medium","large","SvgIcon","_props$fontSize","htmlColor","_props$inheritViewBox","inheritViewBox","titleAccess","_props$viewBox","viewBox","instanceFontSize","more","focusable","muiName","path","displayName","func","wait","debounced","later","apply","validator","reason","muiNames","_muiName","_element$type","indexOf","_payload","componentNameInError","globalId","maybeReactUseId","toString","idOverride","reactId","defaultId","setDefaultId","id","useGlobalId","propName","componentName","location","propFullName","controlled","defaultProp","isControlled","valueState","setValue","newValue","unstable_ClassNameGenerator","configure","generator","hadKeyboardEvent","hadFocusVisibleRecently","hadFocusVisibleRecentlyTimeout","Timeout","inputTypesWhitelist","search","url","tel","email","password","number","date","month","week","datetime","metaKey","altKey","ctrlKey","handlePointerDown","handleVisibilityChange","visibilityState","isFocusVisible","matches","readOnly","isContentEditable","focusTriggersKeyboardModality","doc","foreground","lumA","getLuminance","lumB","_formatMuiErrorMessage2","_clamp","clampWrapper","hexToRgb","re","RegExp","colors","match","index","parseInt","decomposeColor","charAt","marker","substring","colorSpace","split","shift","parseFloat","colorChannel","decomposedColor","val","idx","recomposeColor","hslToRgb","s","rgb","Number","toFixed","coefficient","emphasize","input","_input$defaultTheme","systemDefaultTheme","_input$rootShouldForw","_input$slotShouldForw","systemSx","_styleFunctionSx","resolveTheme","__mui_systemSx","tag","inputOptions","_styledEngine","internal_processStyles","filter","componentSlot","inputSkipVariantsResolver","skipVariantsResolver","inputSkipSx","skipSx","_inputOptions$overrid","defaultOverridesResolver","lowercaseFirstLetter","_objectWithoutPropertiesLoose2","_excluded3","shouldForwardPropOption","isStringTag","defaultStyledResolver","transformStyleArg","stylesArg","__emotion_real","_deepmerge","isPlainObject","processStyleArg","muiStyledResolver","styleArg","transformedStyleArg","expressions","expressionsWithDefaultTheme","styleOverrides","resolvedStyleOverrides","slotKey","slotStyle","_theme$components","numOfCustomFnsApplied","placeholders","raw","withConfig","__esModule","_getRequireWildcardCache","has","__proto__","getOwnPropertyDescriptor","_interopRequireWildcard","_createTheme","_excluded2","WeakMap","charCodeAt","string","toLowerCase","callableStyle","resolvedStylesArg","flatMap","resolvedStyle","_resolvedStylesArg$va","isMatch","finalSx","inSx","_splitProps","_props$theme$unstable","_props$theme","systemProps","otherProps","config","splitProps","isObjectEmpty","contextTheme","ThemeContext","useThemeWithoutDefault","MIN_SAFE_INTEGER","MAX_SAFE_INTEGER","globalStatePrefix","fnNameMatchRegex","getFunctionName","fn","getFunctionComponentName","fallback","getWrappedName","outerType","innerType","wrapperName","functionName","getDisplayName","ForwardRef","Memo","output","defaultSlotProps","slotPropName","UNINITIALIZED","EMPTY","_classCallCheck","currentId","disposeEffect","_createClass","_this2","init","initArg","useLazyRef","Checkbox","forwardRef","_props$prefixCls","prefixCls","checked","_props$defaultChecked","defaultChecked","_props$type","title","inputProps","_objectWithoutProperties","inputRef","useRef","_useMergedState","useMergedState","_useMergedState2","rawValue","setRawValue","useImperativeHandle","_inputRef$current","blur","_inputRef$current2","classString","classNames","_objectSpread","stopPropagation","nativeEvent","genCheckboxStyle","token","_Object$assign2","_Object$assign3","_$concat$concat","_$concat3","checkboxCls","wrapperCls","assign","resetComponent","flexWrap","columnGap","marginXS","antCls","content","marginInlineStart","borderRadiusSM","alignSelf","inset","genFocusOutline","checkboxSize","colorBgContainer","unit","lineWidth","lineType","colorBorder","borderCollapse","motionDurationSlow","insetInlineStart","calc","div","mul","equal","lineWidthBold","colorWhite","borderTop","borderInlineStart","motionDurationFast","motionEaseInBack","paddingInlineStart","paddingXS","paddingInlineEnd","colorPrimary","colorPrimaryHover","motionDurationMid","motionEaseOutBack","fontSizeLG","colorBgContainerDisabled","colorTextDisabled","getStyle","checkboxToken","mergeToken","controlInteractiveSize","genStyleHooks","__rest","getOwnPropertySymbols","propertyIsEnumerable","InternalCheckbox","_classNames","_a","customizePrefixCls","rootClassName","_props$indeterminate","indeterminate","onMouseEnter","_props$skipGroup","skipGroup","restProps","_React$useContext","ConfigContext","getPrefixCls","checkbox","checkboxGroup","GroupContext","isFormItemInput","FormItemInputContext","contextDisabled","DisabledContext","mergedDisabled","prevValue","registerValue","cancelValue","rootCls","useCSSVarCls","_useStyle","useStyle","_useStyle2","wrapCSSVar","hashId","cssVarCls","checkboxProps","toggleOption","includes","checkboxClass","TARGET_CLS","ariaChecked","Wave","RcCheckbox","CheckboxGroup","defaultValue","_props$options","registeredValues","setRegisteredValues","memoOptions","option","groupPrefixCls","domProps","omit","childrenNode","required","optionIndex","splice","sort","findIndex","opt","prevValues","Group","__ANT_CHECKBOX","arr","len","arr2","arrayLikeToArray","source","iter","iterator","o","done","TypeError","excluded","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","arrayWithoutHoles","iterableToArray","nonIterableSpread","minLen","test","registerBlocks","blockExports","blockName","char","toUpperCase","startsWith","replace","reg","__defProp","__publicField","configurable","writable","__defNormalProp","Data","schema","store","_storeIsProxy","callbackMap","warn","rewrite","notify","updObj","pub","callback","Set","add","remove","delete","actionName","console","uid","data","globalStore","DICT","freeze","BIND_ATTR","ATTR_BIND_PRFX","EXT_DATA_CTX_PRFX","NAMED_DATA_CTX_SPLTR","CTX_NAME_ATTR","CTX_OWNER_ATTR","CSS_CTX_PROP","EL_REF_ATTR","AUTO_TAG_PRFX","REPEAT_ATTR","REPEAT_ITEM_TAG_ATTR","SET_LATER_KEY","USE_TPL","ROOT_STYLE_ATTR_NAME","CHARS","CHLENGTH","UID","pattern","random","setNestedProp","parent","lastStep","propPath","DEFAULT_SLOT_KEY","OPEN_TOKEN","CLOSE_TOKEN","tpl_processors_default","fr","fnCtx","querySelectorAll","el","itemClass","itemTag","window","customElements","_fnCtx$BaseComponent","_inherits","_super","_createSuper","_this3","BaseComponent","itemTpl","innerHTML","template","repeatDataKey","sub","fragment","currentList","fillItems","items","set$","DocumentFragment","repeatItem","init$","_step","oversize","_iterator","_createForOfIteratorHelper","err","itemKey","log","removeAttribute","shadowRoot","slotMap","slotName","createDocumentFragment","initChildren","Element","mapObj","childNodes","parentNode","replaceChild","slotFr","append","refName","keyValArr","attributes","attr","keyValStr","isAttr","kv","str","trim","_step2","valKeysArr","valKey","_iterator2","_loop","castType","Boolean","setAttribute","walk","createTreeWalker","NodeFilter","SHOW_TEXT","acceptNode","txt","parentElement","textContent","nextNode","getTextNodesWithTokens","txtNode","offset","tokenNodes","splitText","nextSibling","tNode","SINGLE_QUOTE","DOUBLE_QUOTE","ESCAPED_PATTERN","parseCssPropertyValue","trimQuotes","escapeQuotes","p1","String","fromCodePoint","replaceAll","parse","autoTagsCount","styleMutationObserver","styleMutationObserverCbList","_BaseComponent","_HTMLElement","_super2","_this4","dropCssDataCache","__boundCssProps","ctxProp","getCssData","__extractCssName","$","cssInit$","tplProcessors","allSubs","pauseRender","renderShadow","readyToDestroy","processInnerHtml","allowCustomTemplate","ctxOwner","__initialized","initCallback","_this5","shadow","attachShadow","customTplSelector","getRootNode","customTpl","querySelector","cloneNode","_step3","_iterator3","tpl","_step4","_iterator4","addFr","__initCallback","styleLink","rel","onload","prepend","processorFn","__autoCtxName","generate","setProperty","ctxName","cssCtxName","__cachedCtxName","autoCtxName","__localCtx","registerCtx","getCtx","handler","_this6","subCb","isConnected","parsed","__parseProp","ctx","_this7","__stateProxy","Proxy","read","kvObj","forcePrimitives","primArr","attrDesc","_i","_Object$values","nodeCtx","__ctxOwner","propArr","namedCtx","localCtx","cssProp","bindCssData","__dataCtxInitialized","_this8","__disconnectTimeout","connectedOnce","ctxNameAttrVal","__initDataCtx","_i2","_tpl_processors_defau","proc","addTemplateProcessor","is","rootLink","nodeType","Node","DOCUMENT_NODE","head","_this9","destroyCallback","_step5","_iterator5","_step6","_iterator6","updateCssData","oldVal","newVal","$prop","silentCheck","__cssDataCache","__computedStyle","getComputedStyle","getPropertyValue","ctxPropName","part","subtree","attributeFilter","initValue","__initStyleAttrObserver","isAsync","_this10","localPropName","pArr","isAlias","__tag","registeredClass","define","_this11","_class","_super3","desc","observedAttributes","__attrDesc","cssTxt","styleBlob","Blob","__shadowStylesUrl","URL","createObjectURL","__rootStylesLink","link","_wrapNativeSuper","HTMLElement","AppRouter","msg","defaultTitle","route","appMap","defaultRoute","errorRoute","__routingEventName","separator","pair","decodeURI","routeBase","readAddressBar","routeScheme","applyRoute","CustomEvent","routingEventName","detail","dispatchEvent","_print","routeStr","history","pushState","reflect","_separator","routingMap","_this12","setRoutingMap","routeData","multiPub","initPopstateListener","_this13","__onPopstate","applyStyles","styleMap","applyAttributes","attrMap","attrName","properties","processors","desc2","READY_EVENT_NAME","DEFAULT_DB_NAME","DbInstance","dbName","storeName","_this14","version","request","indexedDB","open","onupgradeneeded","db","objStore","createObjectStore","keyPath","transaction","oncomplete","ev","_notifyWhenReady","onsuccess","onerror","_subscriptionsMap","_updateHandler","_asyncToGenerator","_regeneratorRuntime","_callee","_context","t0","t1","sent","_x","_localUpdateHandler","_updEventName","localStorage","removeItem","setItem","_getUpdateEvent","objectStore","Promise","resolve","reject","_value","_this15","silent","tx","put","_notifySubscribers","_this16","getAll","all","_this17","IDB","_reg","deleteDatabase","_superPropBase","object","getPrototypeOf","_get","Reflect","receiver","base","EventType","FILE_ADDED","FILE_REMOVED","FILE_UPLOAD_START","FILE_UPLOAD_PROGRESS","FILE_UPLOAD_SUCCESS","FILE_UPLOAD_FAILED","FILE_URL_CHANGED","MODAL_OPEN","MODAL_CLOSE","DONE_CLICK","UPLOAD_CLICK","ACTIVITY_CHANGE","COMMON_UPLOAD_START","COMMON_UPLOAD_PROGRESS","COMMON_UPLOAD_SUCCESS","COMMON_UPLOAD_FAILED","CHANGE","GROUP_CREATED","EventEmitter","debugPrint","_debugPrint","_targets","payload","_this$_debugPrint","copyPayload","_timeoutStore","_dispatch","timer","WINDOW_HEIGHT_TRACKER_PROPERTY","WindowHeightTracker","client","clientsRegistry","attachTracker","detachTracker","flush","passive","capture","documentElement","removeProperty","innerHeight","getPluralForm","locale","count","Intl","PluralRules","select","DEFAULT_TRANSFORMER","PLURAL_PREFIX","applyTemplateData","_options$openToken","openToken","_options$closeToken","closeToken","_options$transform","_data$key","getPluralObjects","pluralObjects","close","variable","keyValue","pluralKey","countVariable","isObject","SEPARATOR","camelizeString","word","camelizeArrayItems","array","ignoreKeys","camelizeKeys","_Object$keys","ms","getUserAgent$1","libraryName","libraryVersion","userAgent","_ref3$publicKey","publicKey","_ref3$integration","integration","languageName","mainInfo","additionInfo","defaultOptions","factor","UploadcareError","_Error","NetworkError","_UploadcareError","progressEvent","message","originalProgressEvent","onCancel","signal","aborted","then","once","CancelError","_UploadcareError2","poll","check","_ref4$interval","interval","tickTimeoutId","tick","catch","defaultSettings","baseCDN","baseURL","maxContentLength","retryThrottledRequestMaxTimes","retryNetworkErrorMaxTimes","multipartMinFileSize","multipartChunkSize","multipartMinLastPartSize","maxConcurrentRequests","pollingTimeoutMilliseconds","pusherKey","defaultContentType","defaultFilename","method","_ref5$headers","headers","onProgress","xhr","XMLHttpRequest","requestMethod","entry","_entry","setRequestHeader","responseType","abort","status","statusText","headersArray","getAllResponseHeaders","responseHeaders","line","parts","header","responseData","response","responseStatus","upload","onprogress","lengthComputable","isComputable","loaded","total","send","transformFile","isBlob","isFile","File","isReactNativeAsset","uri","isFileData","collectParams","inputKey","inputValue","isFileValue","contentType","file","getFileOptions","isObjectValue","_Object$entries","_Object$entries$_i","isSimpleValue","buildFormData","formData","FormData","paramsList","_i3","_Object$entries2","_Object$entries2$_i","getFormDataParams","_params","_toArray","rest","UploadError","_UploadcareError3","_super4","code","getUrl","query","pathname","searchParams","URLSearchParams","_Object$entries3$_i","_Object$entries3","_i4","_entry$","buildSearchParams","getUserAgent","retryIfFailed","attempts","runAttempt","defaultDelayTime","attempt","retry","retrier","seconds","isFinite","getTimeoutFromThrottledRequest","TypeEnum","Status","getContentType","getFileName","filename","getStoreValue","_ref9","fileName","_ref9$baseURL","secureSignature","secureExpire","_ref9$source","_ref9$retryThrottledR","_ref9$retryNetworkErr","metadata","jsonerrors","UPLOADCARE_PUB_KEY","UPLOADCARE_STORE","signature","expire","_ref10","errorCode","fromUrl","sourceUrl","_ref11","_ref11$baseURL","checkForUrlDuplicates","saveUrlForRecurrentUploads","_ref11$source","_ref11$retryThrottled","_ref11$retryNetworkEr","pub_key","source_url","check_URL_duplicates","save_URL_duplicates","_ref12","isErrorResponse","fromUrlStatus","_ref13","_ref13$baseURL","_ref13$retryThrottled","_ref13$retryNetworkEr","_ref14","group","uuids","_ref15","_ref15$baseURL","jsonpCallback","_ref15$retryThrottled","_ref15$retryNetworkEr","files","_ref16","uuid","_ref19","_ref19$baseURL","_ref19$retryThrottled","_ref19$retryNetworkEr","file_id","_ref20","multipartStart","_ref21","_ref21$multipartChunk","_ref21$baseURL","_ref21$source","_ref21$retryThrottled","_ref21$retryNetworkEr","content_type","part_size","_ref22","multipartUpload","_ref23","_ref23$retryThrottled","_ref23$retryNetworkEr","_ref24","multipartComplete","_ref25","_ref25$baseURL","_ref25$source","_ref25$retryThrottled","_ref25$retryNetworkEr","_ref26","isReadyPoll","_ref27","isReady","isGroupFileInfo","fileInfo","UploadcareFile","_ref28","_ref28$baseCDN","s3Bucket","cdnUrl","s3Url","isStored","isImage","mimeType","originalFilename","imageInfo","videoInfo","contentInfo","defaultEffects","uploadDirect","_ref29","_ref30","uploadFromUploaded","_ref31","WebSocket","Events","_this$events$event","events","Pusher","disconnectTime","disconnectTimeoutId","ws","pusherUrl","emmitter","emit","on","queue","channel","Success","Progress","actualDisconect","_this5$ws","_this$ws","subscribers","connect","off","pusher","getPusher","disconectTimeout","uploadFromUrl","_ref35","_ref35$pusherKey","preconnect","urlResponse","FileInfo","fns","lastError","winnerIndex","controllers","AbortController","createStopRaceCallback","controller","stopRace","results","race","_ref36","_ref33","Waiting","Unknown","pollStrategy","_ref37","_ref34","unsubErrorHandler","onError","destroy","unsubscribe","subscribe","error_code","pushStrategy","memo","getBlobFromReactNativeAsset","_ref38","asset","blob","abrupt","fetch","res","getFileSize","_ref39","_callee2","_context2","_x2","isMultipart","fileSize","isUuid","regExp","isUrl","runWithConcurrency","concurrency","tasks","rejected","settled","forRun","run","sliceChunk","chunkSize","prepareChunks","_ref40","_callee3","_context3","_x3","_x4","_x5","uploadPart","chunk","_ref41","uploadMultipart","_ref43","_callee5","_ref42","_ref42$multipartChunk","_ref42$maxConcurrentR","progressValues","createProgressHandler","_context5","totalChunks","chunkIdx","sum","_ref45","_callee4","_ref44","getChunk","_context4","_x8","_ref46","_x6","_x7","uploadFile","_x9","_x10","_uploadFile","_callee6","_ref48","_ref48$baseURL","_ref48$baseCDN","_context6","UploadcareGroup","groupInfo","_ref49","_ref49$baseCDN","filesCount","groupFiles","datetimeStored","createdAt","datetimeCreated","storedAt","uploadFileGroup","_ref50","_ref50$baseURL","_ref50$multipartChunk","_ref50$baseCDN","isFileDataArray","isUrlArray","isUuidArray","isStillComputable","Queue","_concurrency","tasksLeft","_running","_loop2","task","_pending","resolver","_resolvers","rejector","_rejectors","finally","_run","_ret","activityBlockCtx","uploaderBlockCtx","back","ok","no","yes","browse","file__one","file__other","error__one","error__other","rotate","brightness","contrast","saturation","exposure","gamma","vibrance","warmth","enhance","original","resize","crop","draw","localeRegistry","localeResolvers","defineLocaleSync","localeName","definition","en","defineLocale","definitionOrResolver","definitionResolver","defineLocaleAsync","resolveLocaleDefinition","localeStateKey","LocaleManager","blockInstance","_blockInstance","subConfigValue","_this$_blockInstance$","overrides","overriddenValue","_localeName","cfg","localeDefinitionOverride","_callbacks","_this$_blockInstance","debouncedCb","block","_this$_boundBlocks$ge","_this$_boundBlocks$ge2","_this$_boundBlocks$ge3","_boundBlocks","onLocaleChange","callbacks","l10nProcessor","elProp","useAttribute","localCtxKey","mappedKey","l10nProcessorSubs","keySubs","nodeStateKey","l10n","stateKey","sharedConfigKey","normalizeCdnOperation","operation","endsWith","joinCdnOperations","operations","op","createCdnUrlModifiers","joined","extractFilename","noOrigin","hash","urlFilenameIdx","lastIndexOf","plainFilenameIdx","extractUuid","slashIndex","secondSlashIndex","extractOperations","withoutFilename","trimFilename","operationsMarker","filenamePathPart","isFileUrl","splitFileUrl","fileUrl","origin","createCdnUrl","baseCdnUrl","cdnModifiers","splitted","createOriginalUrl","stringToArray","delimiter","OPERATIONS_DEFAULTS","mirror","flip","SUPPORTED_OPERATIONS_ORDERED","transformationsToOperations","transformations","amount","dimensions","coords","transformationToStr","COMMON_OPERATIONS","asNumber","asBoolean","OPERATION_PROCESSORS","alignment","operationsToTransformations","_operation$split","_operation$split2","operationName","processor","TabId","CROP","TUNING","FILTERS","ALL_TABS","ALL_COLOR_OPERATIONS","ALL_FILTERS","ALL_CROP_OPERATIONS","COLOR_OPERATIONS_CONFIG","zero","range","keypointsNumber","serializeCsv","initialConfig","pubkey","multiple","multipleMin","multipleMax","confirmUpload","imgOnly","accept","externalSourcesPreferredTypes","cameraMirror","cameraCapture","sourceList","cloudImageEditorTabs","maxLocalFileSizeBytes","thumbSize","showEmptyList","useLocalImageEditor","useCloudImageEditor","removeCopyright","cropPreset","imageShrink","modalScrollLock","modalBackdropStrokes","sourceListWrap","remoteTabSessionKey","cdnCname","baseUrl","socialBaseUrl","secureDeliveryProxy","multipartMaxConcurrentRequests","multipartMaxAttempts","groupOutput","userAgentIntegration","debug","iconHrefResolver","TAG_PREFIX","Block","variables","pluralObject","pluralize","pluralForm","_this$localeManager","localeManager","bindL10n","eventEmitter","blocksRegistry","add$","activityType","hasBlockInCtx","classList","toggle","requireCtxName","attribute","onSuccess","onTimeout","_ref$timeout","currentAttrValue","observer","mutations","mutation","handleMutation","attrValue","attributeName","waitForAttribute","_getPrototypeOf","registerClient","unregisterClient","localeId","_locale$textInfo","Locale","getTextInfo","textInfo","getLocaleDirection","_this$localeManager2","destroyL10nBindings","deleteCtx","destroyCtxCallback","_this$localeManager3","bytes","decimals","units","dm","floor","previewProxy","previewUrl","encodeURIComponent","__cfgProxy","sharedKey","_console","consoleArgs","ACTIVE_ATTR","ACTIVE_PROP","ActivityBlock","_Block","_historyFlush","_actDesc$deactivateCa","actDesc","_activityCallbacks","deactivateCallback","_actDesc$activateCall","historyBack","activateCallback","_debouncedHistoryFlush","activity","_deactivate","_activate","modalActive","historyTracked","onActivate","onDeactivate","isActivityActive","_isActivityRegistered","unregisterActivity","currentActivity","find","nextActivity","pop","couldOpenActivity","_nextActivityBlock$co","nextActivityBlock","setOrAddState","activities","START_FROM","CAMERA","DRAW","UPLOAD_LIST","CONFIRMATION","CLOUD_IMG_EDIT","EXTERNAL","DETAILS","THUMB_OFFSET","THUMB_STROKE_WIDTH","GUIDE_THIRD","setSvgNodeAttrs","attrs","setAttributeNS","createSvgNode","createElementNS","cornerPath","sizeMultiplier","x","y","wMul","hMul","xSide","ySide","p2","p3","sidePath","w","constraintRect","rect1","rect2","resizeRect","aspectRatio","imageBox","dy","resizeNorth","dx","resizeWest","resizeSouth","resizeEast","_delta5","resizeNorthWest","_delta6","resizeNorthEast","_delta7","resizeSouthWest","_delta8","resizeSouthEast","rotateSize","angle","swap","calculateMaxCenteredCropFrame","cropWidth","cropHeight","cropX","cropY","roundRect","clamp","parseCropPreset","_cropPreset$split$map","_cropPreset$split$map2","UploadSource","LOCAL","DROP_AREA","URL_TAB","API","PACKAGE_NAME","PACKAGE_VERSION","customUserAgent","buildOutputError","buildOutputFileError","buildCollectionFileError","IMAGE_ACCEPT_LIST","mergeFileTypes","fileTypes","flat","matchMimeType","allowedFileTypes","some","fileIsImage","BASE","ByteUnitEnum","AUTO","BYTE","KB","MB","GB","TB","PB","ceil","prettyBytes","isAutoMode","pluralized","one","warnings","warnOnce","MSG_NAME","TypedData","typedSchema","__typedSchema","__ctxId","__schema","__data","pDesc","nullable","TypedCollection","__watchList","watchList","__subsMap","__propertyObservers","__collectionObservers","__items","__removed","__added","changeMap","__notifyObservers","ctxId","__observeTimeout","__notifyTimeout","added","removed","unobserveCollection","_this$__collectionObs","getValue","unobserveProperties","_this$__propertyObser","checkFn","memoize","cache","buildOutputCollectionState","uploaderBlock","getters","progress","errors","totalCount","uploadCollection","failedCount","failedEntries","successCount","successEntries","uploadingCount","uploadingEntries","isFailed","isUploading","isSuccess","allEntries","getOutputData","idleEntries","withAssert","createAsyncAssertWrapper","uploadEntrySchema","externalUrl","lastModified","Date","now","uploadProgress","cdnUrlModifiers","abortController","thumbUrl","fullPath","uploadError","isRemoved","cdnUrlRegex","parseCdnUrl","cdnBase","cdnBaseUrlObj","urlObj","host","_cdnUrlRegex$exec","exec","_cdnUrlRegex$exec2","UploaderBlock","_ActivityBlock","_validateIsImage","_validateFileType","_validateMaxSizeLimit","_validateUploadError","collection","readProp","itemsToUpload","getOutputCollectionState","collectionState","_createGroup","_runFileValidators","_runCollectionValidators","getOutputItem","_entry$getValue","setMultipleValues","revokeObjectURL","_flushCommonUploadProgress","_flushOutputItems","entriesToRunValidation","ids","entryId","_Data$getCtx$store","_Data$getCtx$store2","_Data$getCtx$store3","setInitialCrop","loadedItems","findItems","_this$uploadCollectio","commonProgress","uploadTrigger","__initialUploadMetadata","isCtxOwner","hasCtxOwner","couldBeCtxOwner","initCtxOwner","_this$_unobserveColle","_this$_unobserveColle2","_unobserveCollectionProperties","_unobserveCollection","observeCollection","_handleCollectionUpdate","observeProperties","_handleCollectionPropertiesUpdate","runAllValidators","internalId","parsedCdnUrl","clearAll","_this$cfg$accept","fileInput","captureCamera","MouseEvent","onchange","addFileFromObject","_this$sourceList","force","srcKey","isSourceBtn","sourceBtnBlock","activate","doneActivity","outputEntry","imagesOnly","mimeOk","extOk","matchExtension","maxFileSize","internalEntry","cause","_step7","_iterator7","_fileValidators","entryIds","_step8","_iterator8","_runFileValidatorsForEntry","_step9","_iterator9","_collectionValidators","errorOrErrors","_createGroup2","uploadClientOptions","uuidList","resp","collectionStateWithGroup","getUploadClientOptions","_step10","aspectRatioPreset","_entry$getValue2","_iterator10","_fileInfo$imageInfo","_getMetadataFor","_this$cfg$metadata","configValue","outputFileEntry","_fileInfo$uuid","_fileInfo$originalFil","_fileInfo$size","_fileInfo$isImage","_fileInfo$mimeType","_uploadEntryData$cdnU","_uploadEntryData$meta","uploadEntryData","itemId","extSrcList","FACEBOOK","DROPBOX","GDRIVE","GPHOTOS","INSTAGRAM","FLICKR","VK","EVERNOTE","BOX","ONEDRIVE","HUDDLE","sourceTypes","toKebabCase","_str$match","asString","mapping","strValue","allConfigKeys","complexConfigKeys","plainConfigKeys","isComplexKey","attrKeyMapping","fromEntries","attrStateMapping","getLocalPropName","ConfigClass","anyThis","normalizedValue","normalizeConfigValue","_assertSameValueDifferentReference","_flushValueToAttribute","_flushValueToState","previousValue","nextValue","_setValue","_anyThis$key","initialValue","_getValue","bindAttributes","Config","Icon","iconHref","customIconHref","PROPS_MAP","src","lazy","intersection","format","progressive","quality","CSS_PREF","UNRESOLVED_ATTR","DEV_MODE","hostname","ImgTypeEnum","PREVIEW","MAIN","CSS_PROPS","_PROPS_MAP$prop","ImgConfig","kbFn","cbkFn","_isnObserver","ent","rootMargin","_observed","ImgBase","_ImgConfig","Image","baseURI","numericPart","alphabeticPart","bp","hasFormatJPG","$$","_validateSize","analytics","analyticsParams","parseObjectToString","_proxyUrl","_getCdnModifiers","_fmtAbs","wOnly","img","proxifyEvent","Event","_EVENTS","hasPreviewImage","_setupConfigForImage","elNode","_img","_imgPreview","imgSet","_getUrlBase","_getElSize","iSet","srcset","currentImg","bgSelector","initIntersection","renderBg","_setupEventProxy","initAttributes","_appendURL","_renderImage","_this$_imgPreview","_this$_imgPreview2","_this6$_imgPreview","srcUrlPreview","loaderImage","getSrc","getSrcset","renderBackground","renderImage","Img","_ImgBase","sub$$","loading","SimpleBtn","_UploaderBlock","withDropZone","initFlow","defineAccessor","dropzone","StartFrom","registerActivity","getDropItems","dataTransfer","dropItems","promises","webkitEntry","dataTransferItemType","kind","itemType","webkitGetAsEntry","getAsEntry","reading","readEntry","scope","clonedFile","isDirectory","readReaderContent","createReader","reader","readEntries","getAsFile","FileReader","onLoad","onloadend","readAsDataURL","checkIsDirectory","getAsString","DropzoneState","ACTIVE","INACTIVE","NEAR","OVER","RESET_EVENTS","nearnessRegistry","addDropzone","eventCounter","switchHandlers","newState","shouldIgnore","isDragging","onResetEvent","onDragEnter","onDrop","onDragOver","dragPoint","targetRect","nearness","cx","cy","distance","isNear","isOver","composedPath","isNearest","onElementDrop","onItems","eventName","GLOBAL_CTX_NAME","REGISTRY_KEY","DropArea","withIcon","isClickable","isFullscreen","isEnabled","isVisible","bounds","hasSize","isInViewport","innerWidth","visible","visibility","_destroyDropzone","_shouldIgnore","addFileFromUrl","contentWrapperEl","_destroyContentWrapperDropzone","_Object$entries$find","stateText","_Object$entries$find2","toggleAttribute","_onAreaClicked","openSystemDialog","_couldHandleFiles","isActive","isMultiple","currentFilesCount","_this$_destroyDropzon","_this$_destroyContent","registry","clickable","fullscreen","SourceBtn","iconName","registerType","textKey","supportsCapture","externalSourceType","activityParams","initTypes","applyType","typeConfig","_registeredTypes","configType","_configType$activityP","_configType$textKey","_configType$icon","onclick","SourceList","html","srcName","outerHTML","readJpegChunks","stack","promiseReadJpegChunks","pos","readToView","DataView","readAsArrayBuffer","readNext","view","j","byteLength","getUint8","readNextChunk","startPos","getUint16","getIccProfile","iccProfile","_readJpegChunks","getUint32","replaceJpegChunk","chunks","oldChunkPos","oldChunkLength","_readJpegChunks2","newChunks","intro","ArrayBuffer","setUint16","buffer","replaceIccProfile","iccProfiles","stripIccProfile","canvasToBlob","canvas","toBlob","createCanvas","getContext","hasTransparency","_createCanvas","drawImage","imageData","getImageData","getExif","exif","_readJpegChunks3","isApplied","setExifOrientation","exifCallback","little","findExifOrientation","littleEndian","replaceExif","isExifApplied","imageLoader","image","complete","processImage","allowLayers","markers","sizes","squareSide","dimension","shouldSkipShrink","skip","_readJpegChunks4","layer","serializer","memoKeySerializer","cachedWidths","cachedWidth","isSupported","TestPixel","FILL_STYLE","canvasTest","_createCanvas2","cropCvs","cropCtx","_createCanvas3","testCvs","testCtx","fillStyle","fillRect","isTestPass","wrapAsync","_len2","_key2","squareTest","dimensionTest","testCanvasSize","_callee7","testSquareSide","testDimension","_yield$Promise$all","_yield$Promise$all2","squareSupported","dimensionSupported","_context7","side","_x11","_x12","canvasResize","_callee8","_createCanvas4","_context8","imageSmoothingQuality","HTMLImageElement","HTMLCanvasElement","_x13","_x14","_x15","steps","sourceW","targetW","targetH","sW","sH","reverse","calcShrinkSteps","chain","isIpadOS","navigator","maxTouchPoints","platform","STEP","shrinkImage","settings","sourceH","ratio","native","shrinkFile","_ref17","_callee9","inputBlob","exifResults","isRejected","isJPEG","_exifResults","exifResult","isExifOrientationAppliedResult","iccProfileResult","inputBlobWithoutIcc","newBlob","isExifOrientationApplied","_context9","allSettled","naturalWidth","naturalHeight","_x16","_x17","createSvgBlobUrl","svg","fileCssBg","generateThumb","imgFile","promise","regExpShrink","FileItemState","FINISHED","FAILED","UPLOADING","IDLE","FileItem","_generateThumbnail","_calculateState","itemName","errorText","progressValue","progressVisible","badgeIcon","isFinished","isFocused","isEditable","onEdit","onRemove","onUpload","_entrySubs","_debouncedGenerateThumb","_debouncedCalculateState","_isIntersecting","_renderedOnce","intersectionRatio","_generateThumbnail2","currentThumbUrl","_thumbUrl","_color","proxyUrl","_reset","_subEntry","_handleEntryId","_handleState","activeInstances","inst","_this$_entry","_this$_entry2","_this$_entry$getValue","_this$_entry$getValue2","_observer","_observerCallback","_this$_observer","terms","toLocaleLowerCase","sizeShrink","MAX_SQUARE_SIDE","maxSize","parseShrink","_settingsOfShrink","_upload","_fileInfo$contentInfo","_fileInfo$contentInfo2","_fileInfo$contentInfo3","_entry$getValue3","uploadTask","baseUploadClientOptions","_processShrink","t2","t3","t4","t5","percentage","t6","getMetadataFor","t7","t8","mime","isCancel","Modal","_closeDialog","_mouseDownTarget","dialog","isOpen","closeClicked","_handleDialogClose","showModal","HTMLDialogElement","_handleDialogMouseDown","_handleDialogMouseUp","backdrop","_handleBackdropClick","show","hide","throttle","inThrottle","lastFn","lastTime","throttled","UploadList","_updateUploadsState","doneBtnVisible","doneBtnEnabled","uploadBtnVisible","addMoreBtnVisible","addMoreBtnEnabled","headerText","commonErrorMessage","hasFiles","onAdd","uploadAll","_throttledHandleCollectionUpdate","onDone","doneFlow","summary","succeed","uploading","failed","fitCountRestrictions","tooMany","exact","allDone","_getHeaderText","localizedText","initActivity","firstError","UrlSource","importDisabled","onInput","canUsePermissionsApi","permissions","CameraSource","video","videoTransformCss","shotBtnDisabled","videoHidden","messageHidden","requestBtnHidden","cameraSelectOptions","cameraSelectHidden","l10nMessage","onCameraSelectChange","_selectedCameraId","_capture","onShot","_shot","onRequestPermissions","_subscribePermissions","_unsubPermissions","_stopCapture","_subscribePermissions2","_handlePermissionsChange","_capture2","constr","stream","ideal","frameRate","audio","deviceId","_canvas","_ctx","_setPermissionsState","mediaDevices","getUserMedia","_capturing","_this$$$video","getTracks","_initCallback","_cameraSelectOptions$","deviceList","_onActivate","_onDeactivate","enumerateDevices","UploadCtxProviderClass","bindTarget","unbindTarget","UploadCtxProvider","UiConfirmation","ConfirmationDialog","activityCaption","messageTxt","confirmBtnTxt","denyBtnTxt","onConfirm","_defaults","confirmAction","onDeny","denyAction","messageL10Str","confirmL10nStr","denyL10nStr","cfn","captionL10nStr","ProgressBarCommon","anyUploading","ProgressBar","TRANSPARENT_PIXEL_SRC","FilePreview","checkerboard","backgroundImage","color2","checkerboardCssBg","_lastObjectUrl","normalize","arg","parseTabs","tabs","tabList","TEMPLATE","CloudImageEditorBlock","_showLoader","extension","editorMode","modalCaption","fileType","showLoader","images","originalSrc","originalUrl","eventData","bubbles","composed","contentRect","initEditor","_updateImage","_originalUrl","json","_waitForSize","deactivate","reset","_initEditor","_imgLoading","_debouncedShowLoader","tabId","image_hidden_to_cropper","image_hidden_effects","networkProblems","updateImage","CropFrame","dragging","_handlePointerUp","_handlePointerUp_","_handlePointerMove","_handlePointerMove_","_handleSvgPointerMove","_handleSvgPointerMove_","tooHigh","tooWide","cropBox","mask","maskRectOuter","maskRectInner","backdropRect","_backdropMask","_backdropMaskInner","_frameGuides","_frameThumbs","thumb","pathNode","interactionNode","groupNode","isCenter","isCorner","thumbSizeMultiplier","disableThumb","_shouldThumbBeDisabled","GUIDE_STROKE_WIDTH","frameThumbs","stroke","_handlePointerDown","x1","y1","x2","y2","frameGuides","_createGuides","_createThumbs","_Object$values2","_this$ref$svgEl$getB","svgX","svgY","_draggingThumb","_dragStartPoint","_dragStartCrop","_updateCursor","_svg$getBoundingClien","movedCropBox","_calcCropBox","_this$_dragStartCrop","_this$$$CropPresetLi","_delta","_ref$delta","moveRect","every","hoverThumb","rectContainsPoint","_hoverThumb","_updateBackdrop","_updateFrame","_createBackdrop","_createFrame","_resizeBackdrop","_render","_guidesHidden","EditorButtonControl","_titleEl","_iconEl","not_active","EditorCropButtonControl","_EditorButtonControl","_operation","nextAngle","ControlType","FAKE_ORIGINAL_FILTER","EditorSlider","_controlType","_iconName","_title","_filter","_initializeValues","fromViewer","_COLOR_OPERATIONS_CON","_range","transformation","operationValue","preloadImage","batchPreloadImages","preloaders","preload","EditorFilterControl","isOriginal","iconSize","previewSize","dpr","devicePixelRatio","_previewSrc","previewEl","_preloadImage","_cancelPreload","setOperation","currentFilter","EditorOperationControl","editorTransformations","viewerImageSrc","EditorImageCropper","_commitDebounced","_commit","_handleResizeThrottled","_handleResize","_imageSize","_isActive","_initCanvas","_syncTransformations","_alignImage","_alignCrop","_draw","pickedTransformations","pick","offsetWidth","scale","naturalSize","imageAspectRatio","cropTransformation","_this$$$ImageBox","previewWidth","previewX","previewY","_cropTransformation$d","_cropTransformation$c","cropAspectRatio","rotated","save","translate","restore","clearRect","_drawImage","toggleThumbs","_transitionToImage","active_from_viewer","active_from_editor","inactive_to_editor","previewHeight","_rotateSize2","sourceWidth","sourceHeight","ratioW","ratioH","_rotateSize3","_getCropDimensions","isInteger","matcher","validateCrop","_getCropTransformation","imageSize","_args","_waitForImage","_animateIn","_ref7$reset","_transitionToCrop","scaleX","scaleY","cropCenterX","cropCenterY","transformOrigin","_handleImageLoading","loadingOperations","_loadingOperations$ge","_this$_observer2","linspace","ret","calculateOpacities","keypoints","numbers","section","point","relation","keypointsRange","EditorImageFader","_hidden","_addKeypointDebounced","_addKeypoint","cancelAnimationFrame","_raf","_keypoints","kp","_ref3$url","_url","_ref3$filter","_transformations","_imageSrc","shouldSkip","_isSame","keypoint","_constructKeypoint","insertBeforeNode","_container","contains","insertBefore","_update","keypointValues","opacities","zIndices","calculateZIndices","_flush","_initNodes2","srcList","_batchPreloadImages","_previewImage","_createPreviewImage","_cancelLastImages","kpImage","_cancelBatchPreload","_fromViewer","active_from_cropper","inactive_to_cropper","_setOriginalSrc","_initNodes","_ref6$hide","EditorScroller","deltaY","deltaX","EditorToolbar","_transformations$filt","currentOperation","_transformations$filt2","filters","colorOperations","cropOperations","hidden","_onSliderClose","_activateTab","listEl","_createToggleControl","filterId","_createFilterControl","_createOperationControl","isCurrentTab","_renderControlsList","_syncTabIndicator","_unmountTabControls","tabToggleEl","offsetLeft","_editorTransformation","appliedFilter","_updateInfoTooltip","_preloadEditedImage","setTransformations","anyLoading","showSlider","gridColumn","LrBtnUi","_iconReversed","_iconSingle","_iconHidden","iconCss","_iconCss","icon_left","icon_right","icon_hidden","icon_single","LineLoaderUi","_active","_handleTransitionEndRight","lineEl","_start","_stop","DEFAULT_STYLE","PresenceToggle","_visible","_visibleStyle","_hiddenStyle","_externalTransitions","_handleVisible","_applyClassNames","_Object$keys2","applyClassNames","SliderUi","_updateValue","_zero","_updateSteps","_thumbSize","inputEl","_updateZeroDot","_zeroDotEl","stepsEl","half","_stepsCount","minorStepEl","borderStepEl","zeroDotEl","CloudImageEditorActivity","mountEditor","unmountEditor","_instance","instance","customEvent","handleApply","handleCancel","_mounted","escapeRegExp","wildcardRegexp","flags","buildStyles","linkColor","linkColorHover","shadeColor","css","selector","propertiesObj","propertiesStr","styleToCss","cbMapping","_message","cbList","_step$value","sender","ExternalSource","activityIcon","selectedList","counter","extractUrlFromMessage","mountIframe","unmountIframe","alternatives","preferredTypes","preferredType","regexp","typeUrl","_this$_iframe","_this$_iframe$content","_iframe","contentWindow","postMessage","_handleFileSelected","getCssValue","sendMessage","_this$l10n","_this$l10n$split","_this$cfg","lang","public_key","images_only","pass_window_open","session_key","queryString","iframe","remoteUrl","marginheight","marginwidth","frameborder","allowTransparency","handleIframeLoad","iframeWrapper","handleFileSelected","tabL10nStr","ctxList","lStr","ctxEl","_tabMap","tabEl","class","setCurrentTab","row","FormInput","validationInput","_validationInputElement","_createValidationInput","_dynamicInputsContainer","setCustomValidity","_collectionState$erro","errorMsg","cdnUrls","replaceChildren","ActivityHeader","Select","currentText","selectHtml","onSelect","_this$$$options$find","_options$","ICO_MAP","FSAPI","requestFullscreen","webkitRequestFullscreen","exitFullscreen","Video","ppIcon","fsIcon","volIcon","capIcon","totalTime","currentTime","progressCssWidth","hasSubtitles","volumeDisabled","volumeValue","onPP","togglePlay","onFs","toggleFullscreen","onCap","toggleCaptions","onMute","toggleSound","onVolChange","setVolume","progressClicked","progressRect","_video","offsetX","paused","ended","play","pause","fullscreenElement","textTracks","muted","volume","_getUrl","getMinutes","getSeconds","track","getItem","toCast","_castAttributes","descPath","poster","sources","srcDesc","_desc2attrs","tracks","trackDesc","_initTracks","_timeFmt","perc","vol","Copyright","SolutionBlock","_template","FileUploaderRegular","_SolutionBlock","_lastModalActive","FileUploaderMinimal","uBlock","FileUploaderInline","couldCancel","couldHistoryBack","couldShowList","CloudImageEditor","_CloudImageEditorBloc","__shadowReady","connectBlocksFrom","_connectBlocksFrom","register","script","async","blocks","_OverloadYield","resume","settle","_invoke","asyncIterator","AddonExecutionStatus","AddonName","BatchResponseStatus","ConversionStatus","WebhookEvent","isNode","global","ConversionType","DEFAULT_MESSAGE","RestClientError","_options$response","_options$response2","Headers","Request","apiBaseURL","applyDefaultSettings","userSettings","_ref4$publicKey","_ref4$integration","getRequestURL","toISOString","normalizeQuery","makeApiRequest","_makeApiRequest","_callee18","requestBody","unsignedRequest","requestHeaders","signedRequest","_context18","authSchema","getHeaders","PollStrategyJobStatus","getAcceptHeader","CAMELIZE_IGNORE_KEYS","isJsonContentType","handleApiRequest","_handleApiRequest","_callee19","apiRequest","okCodes","_options$camelize","camelize","_context19","UploadcareSimpleAuthSchema","secretKey","_publicKey","_secretKey","_getHeaders2","_callee17","_context17","Accept","Authorization","_x31","deleteFile","_x36","_x37","_deleteFile","_callee27","_context27","deleteFiles","_x38","_x39","_deleteFiles","_callee28","_context28"],"sourceRoot":""}