"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[921],{5304:function(n,t,e){e.d(t,{Z:function(){return m}});var r,o,i,a=e(168),c=e(1413),l=e(5987),s=e(2791),u=e(3733),p=e(1203),d=e(2554),f=e(7959),x=e(184),h=["open","className"];function m(n){var t=n.open,e=n.onClose,r=n.photo;return(0,x.jsx)(v,{"aria-labelledby":"unstyled-modal-title","aria-describedby":"unstyled-modal-description",open:t,onClose:e,slots:{backdrop:j},children:(0,x.jsx)(b,{sx:{width:400},children:(0,x.jsx)("img",{src:r,alt:"Selected",style:{width:"100%"}})})})}var Z=s.forwardRef((function(n,t){var e=n.open,r=n.className,o=(0,l.Z)(n,h);return(0,x.jsx)("div",(0,c.Z)({className:(0,u.Z)({"base-Backdrop-open":e},r),ref:t},o))})),g="#1C2025",v=(0,p.Z)(f.u)(r||(r=(0,a.Z)(["\n  position: fixed;\n  z-index: 1300;\n  inset: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: none;\n"]))),j=(0,p.Z)(Z)(o||(o=(0,a.Z)(["\n  z-index: -1;\n  position: fixed;\n  inset: 0;\n  background-color: rgb(0 0 0 / 0.5);\n  -webkit-tap-highlight-color: transparent;\n"]))),b=(0,p.Z)("div")((function(n){var t=n.theme;return(0,d.iv)(i||(i=(0,a.Z)(["\n    position: relative;\n    overflow: hidden;\n    background-color: ",";\n    border: none;\n    padding: 24px;\n  "])),"dark"===t.palette.mode?g:"#fff")}))},1921:function(n,t,e){e.r(t),e.d(t,{default:function(){return F}});var r,o,i,a,c,l,s,u,p=e(3433),d=e(5861),f=e(9439),x=e(4687),h=e.n(x),m=e(2791),Z=e(5294),g=e(1910),v=e(7571),j=e(6106),b=e(914),w=e(4889),k=e(5304),y=e(5985),C=(e(5462),e(168)),P=e(8733),S=P.ZP.p(r||(r=(0,C.Z)(["\n  color: #666;\n  font-size: 14px;\n  margin-bottom: 16px;\n"]))),_=P.ZP.h3(o||(o=(0,C.Z)(["\n  margin-bottom: 6px;\n"]))),B=P.ZP.h4(i||(i=(0,C.Z)(["\n  color: #555;\n  margin-bottom: 3px;\n"]))),E=P.ZP.ul(a||(a=(0,C.Z)(["\n  list-style-type: disc;\n  margin-bottom: 6px;\n  margin-left: 15px;\n"]))),L=P.ZP.li(c||(c=(0,C.Z)(["\n  color: #777;\n"]))),z=P.ZP.ul(l||(l=(0,C.Z)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n"]))),M=P.ZP.li(s||(s=(0,C.Z)(["\n  width: 150px;\n"]))),N=e(184),A=g.Z.Option,U=function(){var n=(0,m.useState)([]),t=(0,f.Z)(n,2),e=t[0],r=t[1],o=(0,m.useState)(""),i=(0,f.Z)(o,2),a=i[0],c=i[1],l=(0,m.useState)(""),s=(0,f.Z)(l,2),u=s[0],x=s[1],C=(0,m.useState)(!1),P=(0,f.Z)(C,2),U=P[0],D=P[1],F=(0,m.useState)(null),I=(0,f.Z)(F,2),O=I[0],R=I[1];(0,m.useEffect)((function(){var n=function(){var n=(0,d.Z)(h().mark((function n(){var t;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Z.Z.get("http://localhost:3000/api/trips/allpublic");case 3:t=n.sent,r(t.data.trips),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}();n()}),[]);var q=function(){var n=(0,d.Z)(h().mark((function n(t){return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Z.Z.patch("http://localhost:3000/api/trips/".concat(t,"/likes"));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),console.error("Error liking trip:",n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(t){return n.apply(this,arguments)}}(),G=e.filter((function(n){var t=n.title.toLowerCase().includes(a.toLowerCase()),e=!u||n.categories.some((function(n){return n.nameCategory===u}));return t&&e}));(0,m.useEffect)((function(){(a||u)&&0===G.length&&y.Am.info("\u041d\u0430\u0436\u0430\u043b\u044c \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e \u0436\u043e\u0434\u043d\u043e\u0457 \u043c\u0430\u043d\u0434\u0440\u0456\u0432\u043a\u0438")}),[G.length,a,u]);var H=(0,p.Z)(new Set(e.flatMap((function(n){return n.categories.map((function(n){return n.nameCategory}))})))),J=function(){for(var n="#",t=0;t<6;t++)n+="0123456789ABCDEF"[Math.floor(16*Math.random())];return n};return(0,N.jsxs)("div",{children:[(0,N.jsx)(y.Ix,{}),(0,N.jsx)(v.Z,{placeholder:"\u041f\u043e\u0448\u0443\u043a \u043c\u0430\u043d\u0434\u0440\u0456\u0432\u043a\u0438",value:a,onChange:function(n){c(n.target.value)},style:{marginBottom:"20px"}}),(0,N.jsx)(g.Z,{placeholder:"\u0424\u0456\u043b\u044c\u0442\u0440 \u0437\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044f\u043c\u0438",style:{width:"200px",marginBottom:"20px"},onChange:function(n){x(n)},allowClear:!0,children:H.map((function(n){return(0,N.jsx)(A,{value:n,children:n},n)}))}),(0,N.jsx)(j.Z,{gutter:[16,16],children:G.map((function(n){return(0,N.jsx)(b.Z,{span:8,children:(0,N.jsxs)(w.Z,{style:{marginBottom:"15px"},title:n.title,bordered:!1,headStyle:{backgroundColor:J(),color:"#fafbfc"},actions:[(0,N.jsx)("button",{onClick:function(){return q(n._id)},children:"\u0412\u043f\u043e\u0434\u043e\u0431\u0430\u0439\u043a\u0430"},"like")],children:[(0,N.jsx)(S,{children:n.description}),(0,N.jsx)(_,{children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u0457:"}),n.categories.filter((function(n){return n.publicList})).map((function(n){return(0,N.jsxs)("div",{children:[(0,N.jsx)(B,{children:n.nameCategory}),(0,N.jsx)(E,{children:n.todoList.map((function(n){return(0,N.jsx)(L,{children:n.todo},n._id)}))})]},n._id)})),(0,N.jsxs)("div",{children:[(0,N.jsx)("h3",{children:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0456\u0457:"}),(0,N.jsx)(z,{children:n.photos.map((function(n,t){return(0,N.jsx)(M,{children:(0,N.jsx)("img",{src:n.cdnUrl,alt:"Photo ".concat(t+1),onClick:function(){return function(n){R(n),D(!0)}(n.cdnUrl)},style:{cursor:"pointer",boxShadow:"7px 11px 10px 1px rgba(223, 223, 223, 1)"}})},t)}))})]})]})},n._id)}))}),O&&(0,N.jsx)(k.Z,{open:U,onClose:function(){return D(!1)},photo:O})]})},D=P.ZP.div(u||(u=(0,C.Z)(["\n  width: 1262px;\n  margin: 0 auto;\n  padding-left: 15px;\n  padding-right: 15px;\n  margin-top: 70px;\n"]))),F=function(){return(0,N.jsx)(D,{children:(0,N.jsx)(U,{})})}}}]);
//# sourceMappingURL=921.fd70dc99.chunk.js.map