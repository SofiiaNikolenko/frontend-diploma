"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[308],{6308:function(n,e,t){t.r(e),t.d(e,{default:function(){return Y}});var r,o,i,a=t(3433),c=t(5861),s=t(9439),l=t(4687),u=t.n(l),p=t(2791),d=t(5294),f=t(1910),h=t(7571),x=t(6106),m=t(914),g=t(4889),Z=t(168),v=t(1413),b=t(5987),j=t(3733),w=t(1203),k=t(2554),y=t(7959),C=t(184),P=["open","className"];function S(n){var e=n.open,t=n.onClose,r=n.photo;return(0,C.jsx)(D,{"aria-labelledby":"unstyled-modal-title","aria-describedby":"unstyled-modal-description",open:e,onClose:t,slots:{backdrop:O},children:(0,C.jsx)(R,{sx:{width:400},children:(0,C.jsx)("img",{src:r,alt:"Selected",style:{width:"100%"}})})})}var _,B,L,z,E,M,N,F,U=p.forwardRef((function(n,e){var t=n.open,r=n.className,o=(0,b.Z)(n,P);return(0,C.jsx)("div",(0,v.Z)({className:(0,j.Z)({"base-Backdrop-open":t},r),ref:e},o))})),A="#1C2025",D=(0,w.Z)(y.u)(r||(r=(0,Z.Z)(["\n  position: fixed;\n  z-index: 1300;\n  inset: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: none;\n"]))),O=(0,w.Z)(U)(o||(o=(0,Z.Z)(["\n  z-index: -1;\n  position: fixed;\n  inset: 0;\n  background-color: rgb(0 0 0 / 0.5);\n  -webkit-tap-highlight-color: transparent;\n"]))),R=(0,w.Z)("div")((function(n){var e=n.theme;return(0,k.iv)(i||(i=(0,Z.Z)(["\n    position: relative;\n    overflow: hidden;\n    background-color: ",";\n    border: none;\n    padding: 24px;\n  "])),"dark"===e.palette.mode?A:"#fff")})),q=t(8733),G=q.ZP.p(_||(_=(0,Z.Z)(["\n  color: #666;\n  font-size: 14px;\n  margin-bottom: 16px;\n"]))),H=q.ZP.h3(B||(B=(0,Z.Z)(["\n  margin-bottom: 6px;\n"]))),I=q.ZP.h4(L||(L=(0,Z.Z)(["\n  color: #555;\n  margin-bottom: 3px;\n"]))),J=q.ZP.ul(z||(z=(0,Z.Z)(["\n  list-style-type: disc;\n  margin-bottom: 6px;\n  margin-left: 15px;\n"]))),K=q.ZP.li(E||(E=(0,Z.Z)(["\n  color: #777;\n"]))),Q=q.ZP.ul(M||(M=(0,Z.Z)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n"]))),T=q.ZP.li(N||(N=(0,Z.Z)(["\n  width: 150px;\n"]))),V=f.Z.Option,W=function(){var n=(0,p.useState)([]),e=(0,s.Z)(n,2),t=e[0],r=e[1],o=(0,p.useState)(""),i=(0,s.Z)(o,2),l=i[0],Z=i[1],v=(0,p.useState)(""),b=(0,s.Z)(v,2),j=b[0],w=b[1],k=(0,p.useState)(!1),y=(0,s.Z)(k,2),P=y[0],_=y[1],B=(0,p.useState)(null),L=(0,s.Z)(B,2),z=L[0],E=L[1];(0,p.useEffect)((function(){var n=function(){var n=(0,c.Z)(u().mark((function n(){var e;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,d.Z.get("http://localhost:3000/api/trips/allpublic");case 3:e=n.sent,r(e.data.trips),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}();n()}),[]);var M=function(){var n=(0,c.Z)(u().mark((function n(e){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,d.Z.patch("http://localhost:3000/api/trips/".concat(e,"/likes"));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),console.error("Error liking trip:",n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(e){return n.apply(this,arguments)}}(),N=t.filter((function(n){var e=n.title.toLowerCase().includes(l.toLowerCase()),t=!j||n.categories.some((function(n){return n.nameCategory===j}));return e&&t})),F=(0,a.Z)(new Set(t.flatMap((function(n){return n.categories.map((function(n){return n.nameCategory}))})))),U=function(){for(var n="#",e=0;e<6;e++)n+="0123456789ABCDEF"[Math.floor(16*Math.random())];return n};return(0,C.jsxs)("div",{children:[(0,C.jsx)(h.Z,{placeholder:"Search trips",value:l,onChange:function(n){Z(n.target.value)},style:{marginBottom:"20px"}}),(0,C.jsx)(f.Z,{placeholder:"Filter by category",style:{width:"200px",marginBottom:"20px"},onChange:function(n){w(n)},allowClear:!0,children:F.map((function(n){return(0,C.jsx)(V,{value:n,children:n},n)}))}),(0,C.jsx)(x.Z,{gutter:[16,16],children:N.map((function(n){return(0,C.jsx)(m.Z,{span:8,children:(0,C.jsxs)(g.Z,{style:{marginBottom:"15px"},title:n.title,bordered:!1,headStyle:{backgroundColor:U(),color:"#fafbfc"},actions:[(0,C.jsx)("button",{onClick:function(){return M(n._id)},children:"Like"},"like")],children:[(0,C.jsx)(G,{children:n.description}),(0,C.jsx)(H,{children:"Categories:"}),n.categories.filter((function(n){return n.publicList})).map((function(n){return(0,C.jsxs)("div",{children:[(0,C.jsx)(I,{children:n.nameCategory}),(0,C.jsx)(J,{children:n.todoList.map((function(n){return(0,C.jsx)(K,{children:n.todo},n._id)}))})]},n._id)})),(0,C.jsxs)("div",{children:[(0,C.jsx)("h3",{children:"Photos:"}),(0,C.jsx)(Q,{children:n.photos.map((function(n,e){return(0,C.jsx)(T,{children:(0,C.jsx)("img",{src:n.cdnUrl,alt:"Photo ".concat(e+1),onClick:function(){return function(n){E(n),_(!0)}(n.cdnUrl)},style:{cursor:"pointer",boxShadow:"7px 11px 10px 1px rgba(223, 223, 223, 1)"}})},e)}))})]})]})},n._id)}))}),z&&(0,C.jsx)(S,{open:P,onClose:function(){return _(!1)},photo:z})]})},X=q.ZP.div(F||(F=(0,Z.Z)(["\n  width: 1262px;\n  margin: 0 auto;\n  padding-left: 15px;\n  padding-right: 15px;\n  margin-top: 70px;\n"]))),Y=function(){return(0,C.jsx)(X,{children:(0,C.jsx)(W,{})})}}}]);
//# sourceMappingURL=308.47964777.chunk.js.map