"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[605],{8605:function(n,t,e){e.r(t),e.d(t,{default:function(){return wn}});var r,o=e(9439),i=e(1413),c=e(5987),a=e(2791),l=e(697),s=e(5470),u=e(3896),d=e(3433),p=e(4942),h=e(9509),f=e(9095),x=(e(2151),e(168)),g=e(8733),Z=g.ZP.div(r||(r=(0,x.Z)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  margin-top: 10px;\n"]))),m=e(184);h.n(f);var b,j,y,v,C,P,k,S,E,L,w,D,B,T,U,A,I,F,_,N,z,O,J=function(n){var t=n.onCdnUrlsChange,e=(0,a.useState)([]),r=(0,o.Z)(e,2),i=r[0],c=r[1],l=(0,a.useState)([]),s=(0,o.Z)(l,2),u=s[0],p=s[1],h=(0,a.useRef)(null);return(0,a.useEffect)((function(){var n=h.current;if(n){var t=function(n){var t=n.detail.allEntries.filter((function(n){return"success"===n.status}));c(t),p((function(n){var e=t.map((function(n){return{cdnUrl:n.cdnUrl,uuid:n.uuid}}));return[].concat((0,d.Z)(n),(0,d.Z)(e.filter((function(t){return!n.some((function(n){return n.cdnUrl===t.cdnUrl}))}))))}))};return n.addEventListener("change",t),function(){n.removeEventListener("change",t)}}}),[]),(0,a.useEffect)((function(){t(u)}),[u]),(0,m.jsxs)("div",{children:[(0,m.jsx)("lr-config",{"ctx-name":"my-uploader",pubkey:"274c6cf9681b13936265"}),(0,m.jsx)("lr-file-uploader-regular",{"ctx-name":"my-uploader"}),(0,m.jsx)("lr-upload-ctx-provider",{"ctx-name":"my-uploader",ref:h}),(0,m.jsx)(Z,{children:i.map((function(n){return(0,m.jsx)("div",{children:(0,m.jsx)("img",{style:{width:"150px"},src:n.cdnUrl,alt:n.fileInfo.originalFilename})},n.uuid)}))})]})},K=e(7571),G=e(7338),M=e(3814),R=e(4294),H=e(1686),Y=g.ZP.form(b||(b=(0,x.Z)(["\n  max-width: 600px;\n  padding: 15px;\n  border: 1px solid #8dd3bb;\n  border-radius: 5px;\n  background-color: #fafafa;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  box-shadow: 0px 4px 16px 0px rgba(17, 34, 17, 0.05);\n"]))),q=g.ZP.div(j||(j=(0,x.Z)(["\n  display: flex;\n  flex-direction: column;\n  padding: 15px;\n  border: 1px solid #8dd3bb;\n  border-radius: 5px;\n  margin-bottom: 10px;\n  gap: 10px;\n"]))),Q=g.ZP.div(y||(y=(0,x.Z)(["\n  display: flex;\n  gap: 5px;\n"]))),V=g.ZP.div(v||(v=(0,x.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 15px;\n  margin-bottom: 7px;\n"]))),W=g.ZP.div(C||(C=(0,x.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 15px;\n"]))),X=g.ZP.div(P||(P=(0,x.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 10px;\n"]))),$=K.Z.TextArea,nn=function(){var n={title:"",description:"",categories:[{nameCategory:"",todoList:[{todo:""}],publicList:!1}],isPublic:!1,photos:[]},t=(0,a.useState)(n),e=(0,o.Z)(t,2),r=e[0],c=e[1],l=(0,a.useState)([]),s=(0,o.Z)(l,2),u=s[0],h=s[1];(0,a.useEffect)((function(){var n=JSON.parse(localStorage.getItem("data"));n&&c(n)}),[]),(0,a.useEffect)((function(){localStorage.setItem("data",JSON.stringify(r))}),[r]);var f=function(n){var t=n.target,e=t.name,r=t.value;c((function(n){return(0,i.Z)((0,i.Z)({},n),{},(0,p.Z)({},e,r))}))};return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(Y,{onSubmit:function(t){t.preventDefault();var e=localStorage.getItem("token"),o=(0,i.Z)((0,i.Z)({},r),{},{photos:u});fetch("http://localhost:3000/api/trips",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(o)}).then((function(n){return n.json()})).then((function(t){console.log("Response:",t),c(n),localStorage.removeItem("data"),h([]),window.location.reload()})).catch((function(n){console.error("Error:",n)}))},children:[(0,m.jsx)("label",{htmlFor:"title",children:"Title"}),(0,m.jsx)(K.Z,{type:"text",id:"title",name:"title",value:r.title,onChange:f}),(0,m.jsx)("label",{htmlFor:"description",children:"Description"}),(0,m.jsx)($,{type:"text",id:"description",name:"description",value:r.description,onChange:f}),(0,m.jsx)("h4",{children:"Categories"}),r.categories.map((function(n,t){return(0,m.jsxs)(q,{children:[(0,m.jsx)("label",{htmlFor:"category-".concat(t),children:"Category Name"}),(0,m.jsxs)(V,{children:[(0,m.jsx)(K.Z,{type:"text",id:"category-".concat(t),name:"nameCategory",value:n.nameCategory,onChange:function(n){return function(n,t){var e=n.target,r=e.name,o=e.value;c((function(n){var e=(0,d.Z)(n.categories);return e[t]=(0,i.Z)((0,i.Z)({},e[t]),{},(0,p.Z)({},r,o)),(0,i.Z)((0,i.Z)({},n),{},{categories:e})}))}(n,t)}}),(0,m.jsxs)(Q,{children:[(0,m.jsx)("label",{htmlFor:"category-public-".concat(t),children:"Public"}),(0,m.jsx)(G.Z,{type:"checkbox",id:"category-public-".concat(t),name:"publicList",checked:n.publicList,onChange:function(n){return function(n,t){var e=n.target.checked;c((function(n){var r=(0,d.Z)(n.categories);return r[t]=(0,i.Z)((0,i.Z)({},r[t]),{},{publicList:e}),(0,i.Z)((0,i.Z)({},n),{},{categories:r})}))}(n,t)}})]})]}),(0,m.jsx)("label",{children:"Todo List"}),n.todoList.map((function(n,e){return(0,m.jsx)("div",{children:(0,m.jsxs)(V,{children:[(0,m.jsx)(K.Z,{type:"text",id:"todo-".concat(t,"-").concat(e),name:"todo",value:n.todo,onChange:function(n){return function(n,t,e){var r=n.target.value;c((function(n){var o=(0,d.Z)(n.categories),c=(0,d.Z)(o[t].todoList);return c[e]={todo:r},o[t]=(0,i.Z)((0,i.Z)({},o[t]),{},{todoList:c}),(0,i.Z)((0,i.Z)({},n),{},{categories:o})}))}(n,t,e)}}),(0,m.jsx)(M.ZP,{type:"primary",danger:!0,style:{backgroundColor:"#ED5E68"},onClick:function(){return function(n,t){var e=(0,d.Z)(r.categories);e[n].todoList.splice(t,1),c((function(n){return(0,i.Z)((0,i.Z)({},n),{},{categories:e})}))}(t,e)},children:"Delete Todo"})]})},e)})),(0,m.jsxs)(W,{children:[(0,m.jsx)(M.ZP,{type:"primary",style:{backgroundColor:"#8DD3BB"},onClick:function(){return function(n){var t=(0,d.Z)(r.categories);t[n].todoList.push({todo:""}),c((function(n){return(0,i.Z)((0,i.Z)({},n),{},{categories:t})}))}(t)},children:"Add Todo"}),(0,m.jsx)(M.ZP,{type:"primary",style:{backgroundColor:"#ED5E68"},danger:!0,onClick:function(){return function(n){c((function(t){var e=(0,d.Z)(t.categories);return e.splice(n,1),(0,i.Z)((0,i.Z)({},t),{},{categories:e})}))}(t)},children:"Delete Category"})]})]},t)})),(0,m.jsxs)(X,{children:[(0,m.jsx)(M.ZP,{type:"primary",style:{backgroundColor:"#8DD3BB"},onClick:function(){c((function(n){return(0,i.Z)((0,i.Z)({},n),{},{categories:[].concat((0,d.Z)(n.categories),[{nameCategory:"",todoList:[{todo:""}],publicList:!1}])})}))},children:"Add Category"}),(0,m.jsxs)(Q,{children:[(0,m.jsx)("label",{htmlFor:"isPublic",children:"Public trip"}),(0,m.jsx)(G.Z,{type:"checkbox",id:"isPublic",name:"isPublic",checked:r.isPublic,onChange:function(n){var t=n.target.checked;c((function(n){return(0,i.Z)((0,i.Z)({},n),{},{isPublic:t})}))}})]})]}),(0,m.jsx)(J,{onCdnUrlsChange:function(n){h(n)}}),(0,m.jsx)(R.Z,{style:{marginTop:"10px",color:"#8DD3BB",borderColor:"#8DD3BB"},variant:"outlined",startIcon:(0,m.jsx)(H.Z,{}),type:"submit",children:"Submit"})]})})},tn=e(6106),en=e(914),rn=e(4889),on=g.ZP.p(k||(k=(0,x.Z)(["\n  color: #666;\n  font-size: 14px;\n  margin-bottom: 16px;\n"]))),cn=g.ZP.h3(S||(S=(0,x.Z)(["\n  margin-bottom: 6px;\n"]))),an=g.ZP.h4(E||(E=(0,x.Z)(["\n  color: #555;\n  margin-bottom: 3px;\n"]))),ln=g.ZP.ul(L||(L=(0,x.Z)(["\n  list-style-type: disc;\n  margin-bottom: 6px;\n  margin-left: 15px;\n"]))),sn=g.ZP.li(w||(w=(0,x.Z)(["\n  color: #777;\n"]))),un=g.ZP.ul(D||(D=(0,x.Z)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n"]))),dn=g.ZP.li(B||(B=(0,x.Z)(["\n  width: 150px;\n"]))),pn=function(){var n=(0,a.useState)([]),t=(0,o.Z)(n,2),e=t[0],r=t[1],i=localStorage.getItem("token");(0,a.useEffect)((function(){fetch("http://localhost:3000/api/trips",{headers:{Authorization:"Bearer ".concat(i)}}).then((function(n){return n.json()})).then((function(n){return r(n)})).catch((function(n){return console.error("Error fetching trips:",n)}))}),[i]);var c=function(){for(var n="#",t=0;t<6;t++)n+="0123456789ABCDEF"[Math.floor(16*Math.random())];return n};return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(tn.Z,{gutter:16,children:e.map((function(n){return(0,m.jsx)(en.Z,{span:8,children:(0,m.jsxs)(rn.Z,{style:{marginBottom:"15px"},title:n.title,bordered:!1,headStyle:{backgroundColor:c(),color:"#fafbfc"},children:[(0,m.jsx)(on,{children:n.description}),(0,m.jsx)(cn,{children:"Categories:"}),(0,m.jsx)("ul",{children:n.categories.map((function(n,t){return(0,m.jsxs)("li",{children:[(0,m.jsx)(an,{children:n.nameCategory}),(0,m.jsx)(ln,{children:n.todoList.map((function(n,t){return(0,m.jsx)(sn,{children:n.todo},t)}))})]},t)}))}),(0,m.jsxs)("p",{children:["Public: ",n.isPublic?"Yes":"No"]}),n.photos.length>0&&(0,m.jsxs)("div",{children:[(0,m.jsx)("h3",{children:"Photos:"}),(0,m.jsx)(un,{children:n.photos.map((function(n,t){return(0,m.jsx)(dn,{children:(0,m.jsx)("img",{src:n.cdnUrl,alt:"Photo ".concat(t+1)})},t)}))})]})]})},n._id)}))})})},hn=e(8826),fn=e(5985),xn=(e(5462),g.ZP.div(T||(T=(0,x.Z)(["\n  display: flex;\n  justify-content: space-between;\n"])))),gn=g.ZP.form(U||(U=(0,x.Z)(["\n  min-width: 600px;\n  padding: 15px;\n  border: 1px solid #8dd3bb;\n  border-radius: 5px;\n  background-color: #fafafa;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  box-shadow: 0px 4px 16px 0px rgba(17, 34, 17, 0.05);\n"]))),Zn=g.ZP.div(A||(A=(0,x.Z)(["\n  display: flex;\n  flex-direction: column;\n  padding: 15px;\n  border: 1px solid #8dd3bb;\n  border-radius: 5px;\n  margin-bottom: 10px;\n  gap: 10px;\n"]))),mn=g.ZP.div(I||(I=(0,x.Z)(["\n  display: flex;\n  gap: 5px;\n"]))),bn=g.ZP.div(F||(F=(0,x.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 15px;\n  margin-bottom: 7px;\n"]))),jn=g.ZP.div(_||(_=(0,x.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 15px;\n"]))),yn=g.ZP.div(N||(N=(0,x.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 10px;\n"]))),vn=g.ZP.div(z||(z=(0,x.Z)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  margin-top: 10px;\n"]))),Cn=K.Z.TextArea,Pn=function(){var n={title:"",description:"",categories:[{nameCategory:"",todoList:[{todo:""}],publicList:!1}],isPublic:!1,photos:[]},t=(0,a.useState)(n),e=(0,o.Z)(t,2),r=e[0],c=e[1],l=(0,a.useState)([]),s=(0,o.Z)(l,2),u=s[0],h=s[1],f=(0,a.useState)([]),x=(0,o.Z)(f,2),g=x[0],Z=x[1],b=(0,a.useState)(null),j=(0,o.Z)(b,2),y=j[0],v=j[1],C=(0,a.useState)(!1),P=(0,o.Z)(C,2),k=P[0],S=P[1],E=(0,a.useState)(null),L=(0,o.Z)(E,2),w=L[0],D=L[1];(0,a.useEffect)((function(){var n=localStorage.getItem("token");fetch("http://localhost:3000/api/trips/keys",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}}).then((function(n){return n.json()})).then((function(n){D(new hn.l7({publicKey:n.publicKey,secretKey:n.secretKey}))})).catch((function(n){console.error("Error fetching keys:",n)}))}),[]),(0,a.useEffect)((function(){var n=JSON.parse(localStorage.getItem("data"));n&&c(n)}),[]),(0,a.useEffect)((function(){localStorage.setItem("data",JSON.stringify(r))}),[r]),(0,a.useEffect)((function(){var n=localStorage.getItem("token");fetch("http://localhost:3000/api/trips",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}}).then((function(n){return n.json()})).then((function(n){Z(n)})).catch((function(n){console.error("Error fetching trips:",n)}))}),[]);var B=function(n){var t=n.target,e=t.name,r=t.value;c((function(n){return(0,i.Z)((0,i.Z)({},n),{},(0,p.Z)({},e,r))}))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(fn.Ix,{}),(0,m.jsx)("h2",{children:"\u041e\u0431\u0435\u0440\u0438 \u043c\u0430\u043d\u0434\u0440\u0456\u0432\u043a\u0443 \u0434\u043b\u044f \u0432\u043d\u0435\u0441\u0435\u043d\u043d\u044f \u0437\u043c\u0456\u043d\u0438"}),(0,m.jsxs)(xn,{children:[(0,m.jsx)("ul",{children:g.map((function(n){return(0,m.jsx)("li",{onClick:function(){return function(n){var t=g.find((function(t){return t._id===n}));c({title:t.title,description:t.description,categories:t.categories.map((function(n){return{nameCategory:n.nameCategory,todoList:n.todoList.map((function(n){return{todo:n.todo}})),publicList:n.publicList}})),isPublic:t.isPublic,photos:t.photos.map((function(n){return{cdnUrl:n.cdnUrl,uuid:n.uuid}}))}),h(t.photos.map((function(n){return n.cdnUrl}))),v(n),S(!0)}(n._id)},children:n.title},n._id)}))}),k&&(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(gn,{onSubmit:function(t){t.preventDefault();var e=localStorage.getItem("token"),o="http://localhost:3000/api/trips/".concat(y),a=r.photos.map((function(n){var t=u.find((function(t){return t===n.cdnUrl}));return t?{cdnUrl:t,uuid:n.uuid}:{cdnUrl:n.cdnUrl,uuid:n.uuid}}));u.forEach((function(n){r.photos.find((function(t){return t.cdnUrl===n.cdnUrl}))||a.push({cdnUrl:n.cdnUrl,uuid:n.uuid})}));var l=(0,i.Z)((0,i.Z)({},r),{},{categories:r.categories.map((function(n){return{nameCategory:n.nameCategory,todoList:n.todoList.map((function(n){return{todo:n.todo}})),publicList:n.publicList}})),photos:(0,d.Z)(a)});fetch(o,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(l)}).then((function(n){return n.json()})).then((function(t){fn.Am.success("\u041c\u0430\u0434\u0440\u0456\u0432\u043a\u0430 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u0430!"),c(n),localStorage.removeItem("data"),h([]),window.location.reload()})).catch((function(n){console.error("Error:",n),fn.Am.error("\u0423\u043f\u0441... \u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a!")}))},children:[(0,m.jsx)("label",{htmlFor:"title",children:"\u041d\u0430\u0437\u0432\u0430"}),(0,m.jsx)(K.Z,{type:"text",id:"title",name:"title",value:r.title,onChange:B}),(0,m.jsx)("label",{htmlFor:"description",children:"\u041e\u043f\u0438\u0441"}),(0,m.jsx)(Cn,{type:"text",id:"description",name:"description",value:r.description,onChange:B}),(0,m.jsx)("h4",{children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u0457"}),r.categories.map((function(n,t){return(0,m.jsxs)(Zn,{children:[(0,m.jsx)("label",{htmlFor:"category-".concat(t),children:"\u041d\u0430\u0437\u0432\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u0457"}),(0,m.jsxs)(bn,{children:[(0,m.jsx)(K.Z,{type:"text",id:"category-".concat(t),name:"nameCategory",value:n.nameCategory,onChange:function(n){return function(n,t){var e=n.target,r=e.name,o=e.value;c((function(n){var e=(0,d.Z)(n.categories);return e[t]=(0,i.Z)((0,i.Z)({},e[t]),{},(0,p.Z)({},r,o)),(0,i.Z)((0,i.Z)({},n),{},{categories:e})}))}(n,t)}}),(0,m.jsxs)(mn,{children:[(0,m.jsx)("label",{htmlFor:"category-public-".concat(t),children:"\u041f\u0443\u0431\u043b\u0456\u0447\u043d\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044f?"}),(0,m.jsx)(G.Z,{type:"checkbox",id:"category-public-".concat(t),name:"publicList",checked:n.publicList,onChange:function(n){return function(n,t){var e=n.target.checked;c((function(n){var r=(0,d.Z)(n.categories);return r[t]=(0,i.Z)((0,i.Z)({},r[t]),{},{publicList:e}),(0,i.Z)((0,i.Z)({},n),{},{categories:r})}))}(n,t)}})]})]}),(0,m.jsx)("h3",{children:"\u041d\u043e\u0442\u0430\u0442\u043a\u0438"}),n.todoList.map((function(n,e){return(0,m.jsxs)(bn,{children:[(0,m.jsx)(K.Z,{type:"text",id:"todo-".concat(t,"-").concat(e),name:"todo",value:n.todo,onChange:function(n){return function(n,t,e){var r=n.target.value;c((function(n){var o=(0,d.Z)(n.categories),c=(0,d.Z)(o[t].todoList);return c[e]={todo:r},o[t]=(0,i.Z)((0,i.Z)({},o[t]),{},{todoList:c}),(0,i.Z)((0,i.Z)({},n),{},{categories:o})}))}(n,t,e)}}),(0,m.jsx)(M.ZP,{type:"primary",danger:!0,style:{backgroundColor:"#ED5E68"},onClick:function(){return function(n,t){var e=(0,d.Z)(r.categories);e[n].todoList.splice(t,1),c((function(n){return(0,i.Z)((0,i.Z)({},n),{},{categories:e})}))}(t,e)},children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043d\u043e\u0442\u0430\u0442\u043a\u0443"})]},e)})),(0,m.jsxs)(jn,{children:[(0,m.jsx)(M.ZP,{type:"primary",style:{backgroundColor:"#8DD3BB"},onClick:function(){return function(n){var t=(0,d.Z)(r.categories);t[n].todoList.push({todo:""}),c((function(n){return(0,i.Z)((0,i.Z)({},n),{},{categories:t})}))}(t)},children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043d\u043e\u0442\u0430\u0442\u043a\u0443"}),(0,m.jsx)(M.ZP,{type:"primary",style:{backgroundColor:"#ED5E68"},danger:!0,onClick:function(){return function(n){c((function(t){var e=(0,d.Z)(t.categories);return e.splice(n,1),(0,i.Z)((0,i.Z)({},t),{},{categories:e})}))}(t)},children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044e"})]})]},t)})),(0,m.jsxs)(yn,{children:[(0,m.jsx)(M.ZP,{type:"primary",style:{backgroundColor:"#8DD3BB"},onClick:function(){c((function(n){return(0,i.Z)((0,i.Z)({},n),{},{categories:[].concat((0,d.Z)(n.categories),[{nameCategory:"",todoList:[{todo:""}],publicList:!1}])})}))},children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044e"}),(0,m.jsxs)(mn,{children:[(0,m.jsx)("label",{htmlFor:"isPublic",children:"\u041f\u0443\u0431\u043b\u0430\u0447\u043d\u0430 \u043c\u0430\u043d\u0434\u0440\u0456\u0432\u043a\u0430?"}),(0,m.jsx)(G.Z,{type:"checkbox",id:"isPublic",name:"isPublic",checked:r.isPublic,onChange:function(n){var t=n.target.checked;c((function(n){return(0,i.Z)((0,i.Z)({},n),{},{isPublic:t})}))}})]})]}),(0,m.jsx)(J,{onCdnUrlsChange:function(n){h(n)}}),(0,m.jsx)(vn,{children:r.photos.map((function(n,t){return(0,m.jsxs)("div",{children:[(0,m.jsx)("img",{style:{width:"150px"},src:n.cdnUrl,alt:"Trip photo ".concat(t)}),(0,m.jsx)(M.ZP,{type:"primary",style:{backgroundColor:"#ED5E68"},danger:!0,onClick:function(){return function(n){var t=(0,d.Z)(r.photos),e=t.splice(n,1)[0];(0,hn._I)({uuid:e.uuid},{authSchema:w}),c((function(n){return(0,i.Z)((0,i.Z)({},n),{},{photos:t})}))}(t)},children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"})]},t)}))}),(0,m.jsx)(R.Z,{style:{marginTop:"10px",color:"#8DD3BB",borderColor:"#8DD3BB"},variant:"outlined",startIcon:(0,m.jsx)(H.Z,{}),type:"submit",children:"\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u0438\u0442\u0438"}),(0,m.jsx)(M.ZP,{type:"primary",style:{backgroundColor:"#ED5E68"},danger:!0,onClick:function(){var t=localStorage.getItem("token"),e="http://localhost:3000/api/trips/".concat(y),o=r.photos.map((function(n){return n.uuid}));fetch(e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(n){return n.json()})).then((function(t){fn.Am.success("\u041c\u0430\u043d\u0434\u0440\u0456\u0432\u043a\u0430 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u0430!"),c(n),localStorage.removeItem("data"),h([]),S(!1),Z(g.filter((function(n){return n._id!==y})))})).catch((function(n){console.error("Error deleting trip:",n),fn.Am.error("\u0423\u043f\u0441... \u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a!")})),o.length>0&&(0,hn.c1)({uuids:o},{authSchema:w})},children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043c\u0430\u043d\u0434\u0440\u0456\u0432\u043a\u0443"})]})})]})]})},kn=g.ZP.div(O||(O=(0,x.Z)(["\n  width: 1262px;\n  margin: 0 auto;\n  padding-left: 15px;\n  padding-right: 15px;\n  margin-top: 70px;\n"]))),Sn=["children","value","index"];function En(n){var t=n.children,e=n.value,r=n.index,o=(0,c.Z)(n,Sn);return(0,m.jsx)("div",(0,i.Z)((0,i.Z)({role:"tabpanel",hidden:e!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r)},o),{},{children:e===r&&(0,m.jsx)(l.Z,{sx:{p:3},children:t})}))}function Ln(n){return{id:"simple-tab-".concat(n),"aria-controls":"simple-tabpanel-".concat(n)}}var wn=function(){var n=a.useState(0),t=(0,o.Z)(n,2),e=t[0],r=t[1];return(0,m.jsx)(kn,{children:(0,m.jsxs)(l.Z,{sx:{width:"100%"},children:[(0,m.jsx)(l.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,m.jsxs)(s.Z,{value:e,onChange:function(n,t){r(t)},"aria-label":"user tabs",centered:!0,children:[(0,m.jsx)(u.Z,(0,i.Z)({label:"Add Trip"},Ln(0))),(0,m.jsx)(u.Z,(0,i.Z)({label:"All Trips"},Ln(1))),(0,m.jsx)(u.Z,(0,i.Z)({label:"Update Trip"},Ln(2)))]})}),(0,m.jsx)(En,{value:e,index:0,children:(0,m.jsx)(nn,{})}),(0,m.jsx)(En,{value:e,index:1,children:(0,m.jsx)(pn,{})}),(0,m.jsx)(En,{value:e,index:2,children:(0,m.jsx)(Pn,{})})]})})}}}]);
//# sourceMappingURL=605.a95bacd0.chunk.js.map