"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[911],{5911:function(t,r,e){e.r(r),e.d(r,{default:function(){return h}});var n=e(5861),i=e(9439),c=e(4687),s=e.n(c),o=e(2791),a=e(5294),u=e(184),l=function(){var t=(0,o.useState)([]),r=(0,i.Z)(t,2),e=r[0],c=r[1];(0,o.useEffect)((function(){var t=function(){var t=(0,n.Z)(s().mark((function t(){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.Z.get("http://localhost:3000/api/trips/allpublic");case 3:r=t.sent,c(r.data.trips),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();t()}),[]);var l=function(){var t=(0,n.Z)(s().mark((function t(r){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.Z.patch("http://localhost:3000/api/trips/".concat(r,"/likes"));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error("Error liking trip:",t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(r){return t.apply(this,arguments)}}();return(0,u.jsx)("div",{children:e.map((function(t){return(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{children:t.title}),(0,u.jsx)("p",{children:t.description}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h4",{children:"Categories:"}),t.categories.filter((function(t){return t.publicList})).map((function(t){return(0,u.jsxs)("div",{children:[(0,u.jsx)("h5",{children:t.nameCategory}),(0,u.jsx)("ul",{children:t.todoList.map((function(t){return(0,u.jsx)("li",{children:t.todo},t._id)}))})]},t._id)}))]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h4",{children:"Photos:"}),(0,u.jsx)("div",{children:t.photos.map((function(t,r){return(0,u.jsx)("img",{src:t.cdnUrl,alt:"Trip photo ".concat(r+1),style:{width:"200px",height:"auto"}},r)}))})]}),(0,u.jsx)("button",{onClick:function(){return l(t._id)},children:"Like"})]},t._id)}))})},h=function(){return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h1",{children:"PublicTrips"}),(0,u.jsx)(l,{})]})}}}]);
//# sourceMappingURL=911.4acd089b.chunk.js.map